{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prakh\\\\Desktop\\\\Flight\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport './index.css';\nimport 'leaflet/dist/leaflet.css';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\n// import AirplaneExperience from './components/AirplaneExperience';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// First, let's dynamically import Three.js to avoid build issues\nlet THREE = null;\nconst loadThreeJS = async () => {\n  if (!THREE) {\n    try {\n      THREE = await import('three');\n    } catch (error) {\n      console.error('Failed to load Three.js:', error);\n    }\n  }\n  return THREE;\n};\n\n// 3D AirplaneExperience Component with Three.js\n\n// Seat positions in 3D space (relative to airplane interior)\nconst SEAT_POSITIONS_3D = {\n  'A1': {\n    position: [-1.5, 1.2, 4],\n    target: [0, 1, 0],\n    row: 1,\n    side: 'Left'\n  },\n  'B1': {\n    position: [-0.5, 1.2, 4],\n    target: [0, 1, 0],\n    row: 1,\n    side: 'Left'\n  },\n  'C1': {\n    position: [0.5, 1.2, 4],\n    target: [0, 1, 0],\n    row: 1,\n    side: 'Right'\n  },\n  'D1': {\n    position: [1.5, 1.2, 4],\n    target: [0, 1, 0],\n    row: 1,\n    side: 'Right'\n  },\n  'A2': {\n    position: [-1.5, 1.2, 2],\n    target: [0, 1, 0],\n    row: 2,\n    side: 'Left'\n  },\n  'B2': {\n    position: [-0.5, 1.2, 2],\n    target: [0, 1, 0],\n    row: 2,\n    side: 'Left'\n  },\n  'C2': {\n    position: [0.5, 1.2, 2],\n    target: [0, 1, 0],\n    row: 2,\n    side: 'Right'\n  },\n  'D2': {\n    position: [1.5, 1.2, 2],\n    target: [0, 1, 0],\n    row: 2,\n    side: 'Right'\n  },\n  'A3': {\n    position: [-1.5, 1.2, 0],\n    target: [0, 1, 0],\n    row: 3,\n    side: 'Left'\n  },\n  'B3': {\n    position: [-0.5, 1.2, 0],\n    target: [0, 1, 0],\n    row: 3,\n    side: 'Left'\n  },\n  'C3': {\n    position: [0.5, 1.2, 0],\n    target: [0, 1, 0],\n    row: 3,\n    side: 'Right'\n  },\n  'D3': {\n    position: [1.5, 1.2, 0],\n    target: [0, 1, 0],\n    row: 3,\n    side: 'Right'\n  },\n  'A4': {\n    position: [-1.5, 1.2, -2],\n    target: [0, 1, 0],\n    row: 4,\n    side: 'Left'\n  },\n  'B4': {\n    position: [-0.5, 1.2, -2],\n    target: [0, 1, 0],\n    row: 4,\n    side: 'Left'\n  },\n  'C4': {\n    position: [0.5, 1.2, -2],\n    target: [0, 1, 0],\n    row: 4,\n    side: 'Right'\n  },\n  'D4': {\n    position: [1.5, 1.2, -2],\n    target: [0, 1, 0],\n    row: 4,\n    side: 'Right'\n  },\n  'A5': {\n    position: [-1.5, 1.2, -4],\n    target: [0, 1, 0],\n    row: 5,\n    side: 'Left'\n  },\n  'B5': {\n    position: [-0.5, 1.2, -4],\n    target: [0, 1, 0],\n    row: 5,\n    side: 'Left'\n  },\n  'C5': {\n    position: [0.5, 1.2, -4],\n    target: [0, 1, 0],\n    row: 5,\n    side: 'Right'\n  },\n  'D5': {\n    position: [1.5, 1.2, -4],\n    target: [0, 1, 0],\n    row: 5,\n    side: 'Right'\n  }\n};\nconst AirplaneExperience = ({\n  selectedSeat,\n  onSeatChange\n}) => {\n  _s();\n  var _SEAT_POSITIONS_3D$se, _SEAT_POSITIONS_3D$se2;\n  const mountRef = useRef(null);\n  const sceneRef = useRef();\n  const rendererRef = useRef();\n  const cameraRef = useRef();\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isThreeLoaded, setIsThreeLoaded] = useState(false);\n\n  // Load Three.js and initialize scene\n  useEffect(() => {\n    const initThreeJS = async () => {\n      try {\n        const threeModule = await loadThreeJS();\n        if (!threeModule) throw new Error('Failed to load Three.js');\n        setIsThreeLoaded(true);\n        setTimeout(() => {\n          initializeScene(threeModule);\n        }, 100);\n      } catch (err) {\n        setError('Failed to load 3D engine. Please refresh the page.');\n        setIsLoading(false);\n      }\n    };\n    initThreeJS();\n  }, []);\n  const initializeScene = THREE => {\n    if (!mountRef.current) return;\n    try {\n      // Scene setup\n      const scene = new THREE.Scene();\n      scene.background = new THREE.Color(0x87CEEB); // Sky blue\n      sceneRef.current = scene;\n\n      // Camera setup\n      const camera = new THREE.PerspectiveCamera(75, mountRef.current.clientWidth / mountRef.current.clientHeight, 0.1, 1000);\n      camera.position.set(0, 2, 6);\n      cameraRef.current = camera;\n\n      // Enhanced Renderer setup for professional quality\n      const renderer = new THREE.WebGLRenderer({\n        antialias: true,\n        alpha: true,\n        powerPreference: \"high-performance\"\n      });\n      renderer.setSize(mountRef.current.clientWidth, mountRef.current.clientHeight);\n      renderer.setClearColor(0x87CEEB, 1);\n      renderer.shadowMap.enabled = true;\n      renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      renderer.shadowMap.autoUpdate = true;\n      renderer.outputEncoding = THREE.sRGBEncoding;\n      renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      renderer.toneMappingExposure = 1.2;\n      rendererRef.current = renderer;\n      mountRef.current.appendChild(renderer.domElement);\n\n      // Enhanced Lighting setup for professional look\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.4);\n      scene.add(ambientLight);\n\n      // Main directional light\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n      directionalLight.position.set(5, 10, 5);\n      directionalLight.castShadow = true;\n      directionalLight.shadow.mapSize.width = 2048;\n      directionalLight.shadow.mapSize.height = 2048;\n      directionalLight.shadow.camera.near = 0.5;\n      directionalLight.shadow.camera.far = 50;\n      directionalLight.shadow.camera.left = -10;\n      directionalLight.shadow.camera.right = 10;\n      directionalLight.shadow.camera.top = 10;\n      directionalLight.shadow.camera.bottom = -10;\n      scene.add(directionalLight);\n\n      // Additional fill light for better illumination\n      const fillLight = new THREE.DirectionalLight(0xffffff, 0.3);\n      fillLight.position.set(-5, 5, -5);\n      scene.add(fillLight);\n\n      // Rim light for better definition\n      const rimLight = new THREE.DirectionalLight(0xffffff, 0.2);\n      rimLight.position.set(0, 5, -10);\n      scene.add(rimLight);\n\n      // Create airplane interior\n      createAirplaneInterior3D(scene, THREE);\n\n      // Create skybox/environment\n      createSkybox3D(scene, THREE);\n\n      // Setup controls\n      setupControls(camera, renderer.domElement, THREE);\n\n      // Animation loop\n      const animate = () => {\n        requestAnimationFrame(animate);\n        renderer.render(scene, camera);\n      };\n      animate();\n\n      // Handle window resize\n      const handleResize = () => {\n        if (mountRef.current && camera && renderer) {\n          camera.aspect = mountRef.current.clientWidth / mountRef.current.clientHeight;\n          camera.updateProjectionMatrix();\n          renderer.setSize(mountRef.current.clientWidth, mountRef.current.clientHeight);\n        }\n      };\n      window.addEventListener('resize', handleResize);\n      setIsLoading(false);\n\n      // Cleanup function\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        if (mountRef.current && renderer.domElement) {\n          mountRef.current.removeChild(renderer.domElement);\n        }\n        renderer.dispose();\n      };\n    } catch (err) {\n      setError('Failed to initialize 3D scene. Please refresh the page.');\n      setIsLoading(false);\n    }\n  };\n  const createAirplaneInterior3D = (scene, THREE) => {\n    // Simple basic airplane structure\n    createBasicFuselage3D(scene, THREE);\n    createBasicWings3D(scene, THREE);\n    createBasicTail3D(scene, THREE);\n    createBasicCockpit3D(scene, THREE);\n\n    // Simple interior components\n    createBasicCabinInterior3D(scene, THREE);\n    createBasicSeats3D(scene, THREE);\n    createBasicWindows3D(scene, THREE);\n    createBasicOverheadCompartments3D(scene, THREE);\n    createBasicCabinWalls3D(scene, THREE);\n    createBasicCeiling3D(scene, THREE);\n  };\n  const createSeats3D = (scene, THREE) => {\n    Object.entries(SEAT_POSITIONS_3D).forEach(([seatId, seatData]) => {\n      // Enhanced Seat base with better materials\n      const seatGeometry = new THREE.BoxGeometry(0.45, 0.12, 0.45);\n      const seatMaterial = new THREE.MeshPhongMaterial({\n        color: selectedSeat === seatId ? 0x3498db : 0x2c3e50,\n        shininess: 20\n      });\n      const seat = new THREE.Mesh(seatGeometry, seatMaterial);\n      seat.position.set(...seatData.position);\n      seat.position.y = 0.5;\n      seat.castShadow = true;\n      seat.receiveShadow = true;\n      seat.userData = {\n        seatId\n      };\n      scene.add(seat);\n\n      // Enhanced Seat back with better shape\n      const backGeometry = new THREE.BoxGeometry(0.45, 0.9, 0.08);\n      const seatBack = new THREE.Mesh(backGeometry, seatMaterial);\n      seatBack.position.set(...seatData.position);\n      seatBack.position.y = 0.95;\n      seatBack.position.z -= 0.2;\n      seatBack.castShadow = true;\n      scene.add(seatBack);\n\n      // Add seat armrests\n      const armrestGeometry = new THREE.BoxGeometry(0.05, 0.3, 0.4);\n      const armrestMaterial = new THREE.MeshPhongMaterial({\n        color: 0x34495e,\n        shininess: 30\n      });\n\n      // Left armrest\n      const leftArmrest = new THREE.Mesh(armrestGeometry, armrestMaterial);\n      leftArmrest.position.set(...seatData.position);\n      leftArmrest.position.x -= 0.25;\n      leftArmrest.position.y = 0.65;\n      leftArmrest.castShadow = true;\n      scene.add(leftArmrest);\n\n      // Right armrest\n      const rightArmrest = new THREE.Mesh(armrestGeometry, armrestMaterial);\n      rightArmrest.position.set(...seatData.position);\n      rightArmrest.position.x += 0.25;\n      rightArmrest.position.y = 0.65;\n      rightArmrest.castShadow = true;\n      scene.add(rightArmrest);\n\n      // Enhanced Seat label with better styling\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d');\n      canvas.width = 256;\n      canvas.height = 128;\n\n      // Create gradient background\n      const gradient = context.createLinearGradient(0, 0, 0, 128);\n      gradient.addColorStop(0, selectedSeat === seatId ? '#3498db' : '#34495e');\n      gradient.addColorStop(1, selectedSeat === seatId ? '#2980b9' : '#2c3e50');\n      context.fillStyle = gradient;\n      context.fillRect(0, 0, 256, 128);\n\n      // Add border\n      context.strokeStyle = '#ffffff';\n      context.lineWidth = 4;\n      context.strokeRect(2, 2, 252, 124);\n\n      // Add text\n      context.fillStyle = '#ffffff';\n      context.font = 'bold 32px Arial';\n      context.textAlign = 'center';\n      context.fillText(seatId, 128, 75);\n\n      // Add subtitle\n      context.font = '16px Arial';\n      context.fillText(`Row ${seatData.row}`, 128, 100);\n      const texture = new THREE.CanvasTexture(canvas);\n      const labelMaterial = new THREE.MeshBasicMaterial({\n        map: texture,\n        transparent: true,\n        opacity: 0.9\n      });\n      const labelGeometry = new THREE.PlaneGeometry(0.4, 0.2);\n      const label = new THREE.Mesh(labelGeometry, labelMaterial);\n      label.position.set(...seatData.position);\n      label.position.y = 1.6;\n      scene.add(label);\n    });\n  };\n  const createWindows3D = (scene, THREE) => {\n    // Enhanced window geometry with frame\n    const windowFrameGeometry = new THREE.BoxGeometry(0.7, 0.5, 0.05);\n    const windowFrameMaterial = new THREE.MeshPhongMaterial({\n      color: 0x34495e,\n      shininess: 40\n    });\n    const windowGlassGeometry = new THREE.PlaneGeometry(0.6, 0.4);\n    const windowGlassMaterial = new THREE.MeshPhongMaterial({\n      color: 0x87CEEB,\n      transparent: true,\n      opacity: 0.8,\n      shininess: 100\n    });\n\n    // Left side windows with frames\n    for (let i = 0; i < 6; i++) {\n      // Window frame\n      const windowFrame = new THREE.Mesh(windowFrameGeometry, windowFrameMaterial);\n      windowFrame.position.set(-2.1, 0.5, 4 - i * 1.5);\n      windowFrame.castShadow = true;\n      scene.add(windowFrame);\n\n      // Window glass\n      const windowGlass = new THREE.Mesh(windowGlassGeometry, windowGlassMaterial);\n      windowGlass.position.set(-2.1, 0.5, 4 - i * 1.5);\n      windowGlass.rotation.y = Math.PI / 2;\n      scene.add(windowGlass);\n    }\n\n    // Right side windows with frames\n    for (let i = 0; i < 6; i++) {\n      // Window frame\n      const windowFrame = new THREE.Mesh(windowFrameGeometry, windowFrameMaterial);\n      windowFrame.position.set(2.1, 0.5, 4 - i * 1.5);\n      windowFrame.castShadow = true;\n      scene.add(windowFrame);\n\n      // Window glass\n      const windowGlass = new THREE.Mesh(windowGlassGeometry, windowGlassMaterial);\n      windowGlass.position.set(2.1, 0.5, 4 - i * 1.5);\n      windowGlass.rotation.y = -Math.PI / 2;\n      scene.add(windowGlass);\n    }\n  };\n  const createOverheadCompartments3D = (scene, THREE) => {\n    const compartmentGeometry = new THREE.BoxGeometry(4.2, 0.5, 0.8);\n    const compartmentMaterial = new THREE.MeshPhongMaterial({\n      color: 0xe2e8f0,\n      shininess: 25\n    });\n    for (let i = 0; i < 5; i++) {\n      const compartment = new THREE.Mesh(compartmentGeometry, compartmentMaterial);\n      compartment.position.set(0, 1.9, 4 - i * 2);\n      compartment.castShadow = true;\n      compartment.receiveShadow = true;\n      scene.add(compartment);\n\n      // Add compartment handles\n      const handleGeometry = new THREE.BoxGeometry(0.3, 0.05, 0.05);\n      const handleMaterial = new THREE.MeshPhongMaterial({\n        color: 0x2c3e50,\n        shininess: 50\n      });\n      const handle = new THREE.Mesh(handleGeometry, handleMaterial);\n      handle.position.set(0, 1.65, 4 - i * 2);\n      handle.castShadow = true;\n      scene.add(handle);\n    }\n  };\n  const createCabinWalls3D = (scene, THREE) => {\n    // Left wall\n    const leftWallGeometry = new THREE.PlaneGeometry(14, 3);\n    const wallMaterial = new THREE.MeshPhongMaterial({\n      color: 0xf8f9fa,\n      shininess: 20\n    });\n    const leftWall = new THREE.Mesh(leftWallGeometry, wallMaterial);\n    leftWall.position.set(-2.5, 0.5, 0);\n    leftWall.rotation.y = Math.PI / 2;\n    leftWall.receiveShadow = true;\n    scene.add(leftWall);\n\n    // Right wall\n    const rightWall = new THREE.Mesh(leftWallGeometry, wallMaterial);\n    rightWall.position.set(2.5, 0.5, 0);\n    rightWall.rotation.y = -Math.PI / 2;\n    rightWall.receiveShadow = true;\n    scene.add(rightWall);\n  };\n  const createCeilingPanels3D = (scene, THREE) => {\n    const ceilingGeometry = new THREE.PlaneGeometry(5, 14);\n    const ceilingMaterial = new THREE.MeshPhongMaterial({\n      color: 0xf1f5f9,\n      shininess: 15\n    });\n    const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);\n    ceiling.position.set(0, 2.5, 0);\n    ceiling.rotation.x = Math.PI / 2;\n    ceiling.receiveShadow = true;\n    scene.add(ceiling);\n\n    // Add ceiling lights\n    for (let i = 0; i < 7; i++) {\n      const lightGeometry = new THREE.SphereGeometry(0.1, 16, 16);\n      const lightMaterial = new THREE.MeshBasicMaterial({\n        color: 0xffffff,\n        emissive: 0xffffff,\n        emissiveIntensity: 0.3\n      });\n      const light = new THREE.Mesh(lightGeometry, lightMaterial);\n      light.position.set(0, 2.4, 4 - i * 1.5);\n      scene.add(light);\n    }\n  };\n  const createAisleLighting3D = (scene, THREE) => {\n    // Add aisle floor lighting\n    for (let i = 0; i < 7; i++) {\n      const lightGeometry = new THREE.PlaneGeometry(0.8, 0.1);\n      const lightMaterial = new THREE.MeshBasicMaterial({\n        color: 0x4ade80,\n        emissive: 0x4ade80,\n        emissiveIntensity: 0.2\n      });\n      const light = new THREE.Mesh(lightGeometry, lightMaterial);\n      light.position.set(0, -1.15, 4 - i * 1.5);\n      light.rotation.x = -Math.PI / 2;\n      scene.add(light);\n    }\n  };\n\n  // Basic Airplane Components\n  const createBasicFuselage3D = (scene, THREE) => {\n    // Simple fuselage body\n    const fuselageGeometry = new THREE.CylinderGeometry(2.5, 2.2, 16, 16);\n    const fuselageMaterial = new THREE.MeshLambertMaterial({\n      color: 0xffffff\n    });\n    const fuselage = new THREE.Mesh(fuselageGeometry, fuselageMaterial);\n    fuselage.rotation.z = Math.PI / 2;\n    scene.add(fuselage);\n\n    // Simple nose cone\n    const noseGeometry = new THREE.ConeGeometry(2.5, 3, 8);\n    const noseMaterial = new THREE.MeshLambertMaterial({\n      color: 0xffffff\n    });\n    const nose = new THREE.Mesh(noseGeometry, noseMaterial);\n    nose.position.set(0, 0, 9.5);\n    nose.rotation.x = Math.PI / 2;\n    scene.add(nose);\n  };\n  const createBasicWings3D = (scene, THREE) => {\n    // Simple wings\n    const wingGeometry = new THREE.BoxGeometry(12, 0.2, 2);\n    const wingMaterial = new THREE.MeshLambertMaterial({\n      color: 0xffffff\n    });\n\n    // Left wing\n    const leftWing = new THREE.Mesh(wingGeometry, wingMaterial);\n    leftWing.position.set(-6, 0, 0);\n    scene.add(leftWing);\n\n    // Right wing\n    const rightWing = new THREE.Mesh(wingGeometry, wingMaterial);\n    rightWing.position.set(6, 0, 0);\n    scene.add(rightWing);\n  };\n  const createBasicTail3D = (scene, THREE) => {\n    // Simple tail fin\n    const tailFinGeometry = new THREE.BoxGeometry(0.1, 2, 1);\n    const tailFinMaterial = new THREE.MeshLambertMaterial({\n      color: 0xffffff\n    });\n    const tailFin = new THREE.Mesh(tailFinGeometry, tailFinMaterial);\n    tailFin.position.set(0, 1, -8);\n    scene.add(tailFin);\n  };\n  const createBasicCockpit3D = (scene, THREE) => {\n    // Simple cockpit\n    const cockpitGeometry = new THREE.SphereGeometry(2, 16, 8, 0, Math.PI * 2, 0, Math.PI / 2);\n    const cockpitMaterial = new THREE.MeshLambertMaterial({\n      color: 0x000000,\n      transparent: true,\n      opacity: 0.7\n    });\n    const cockpit = new THREE.Mesh(cockpitGeometry, cockpitMaterial);\n    cockpit.position.set(0, 0, 8);\n    cockpit.rotation.x = Math.PI;\n    scene.add(cockpit);\n  };\n  const createRealisticCabinInterior3D = (scene, THREE) => {\n    // Cabin floor\n    const floorGeometry = new THREE.PlaneGeometry(16, 5);\n    const floorMaterial = new THREE.MeshPhongMaterial({\n      color: 0x34495e,\n      shininess: 20\n    });\n    const floor = new THREE.Mesh(floorGeometry, floorMaterial);\n    floor.rotation.x = -Math.PI / 2;\n    floor.position.y = -1.5;\n    floor.receiveShadow = true;\n    scene.add(floor);\n  };\n  const createRealisticSeats3D = (scene, THREE) => {\n    Object.entries(SEAT_POSITIONS_3D).forEach(([seatId, seatData]) => {\n      // Create exact burl wood texture from reference images\n      const woodCanvas = document.createElement('canvas');\n      const woodContext = woodCanvas.getContext('2d');\n      woodCanvas.width = 1024;\n      woodCanvas.height = 1024;\n\n      // Create exact burl wood pattern from reference\n      woodContext.fillStyle = '#f4d03f';\n      woodContext.fillRect(0, 0, 1024, 1024);\n\n      // Add complex burl wood swirls\n      woodContext.strokeStyle = '#d68910';\n      woodContext.lineWidth = 3;\n      for (let i = 0; i < 50; i++) {\n        woodContext.beginPath();\n        woodContext.moveTo(Math.random() * 1024, Math.random() * 1024);\n        woodContext.quadraticCurveTo(Math.random() * 1024, Math.random() * 1024, Math.random() * 1024, Math.random() * 1024);\n        woodContext.stroke();\n      }\n\n      // Add burl wood knots and patterns\n      for (let i = 0; i < 25; i++) {\n        woodContext.fillStyle = '#b7950b';\n        woodContext.beginPath();\n        woodContext.arc(Math.random() * 1024, Math.random() * 1024, Math.random() * 30 + 15, 0, Math.PI * 2);\n        woodContext.fill();\n      }\n\n      // Add wood grain lines\n      woodContext.strokeStyle = '#d68910';\n      woodContext.lineWidth = 1;\n      for (let i = 0; i < 40; i++) {\n        woodContext.beginPath();\n        woodContext.moveTo(0, i * 25 + Math.random() * 10);\n        woodContext.lineTo(1024, i * 25 + Math.random() * 10);\n        woodContext.stroke();\n      }\n      const woodTexture = new THREE.CanvasTexture(woodCanvas);\n      const woodMaterial = new THREE.MeshPhongMaterial({\n        map: woodTexture,\n        shininess: 80\n      });\n\n      // Exact lie-flat seat base from reference images\n      const seatGeometry = new THREE.BoxGeometry(0.8, 0.3, 0.8);\n      const seatMaterial = new THREE.MeshPhongMaterial({\n        color: 0xffffff,\n        shininess: 40\n      });\n      const seat = new THREE.Mesh(seatGeometry, seatMaterial);\n      seat.position.set(...seatData.position);\n      seat.position.y = 0.7;\n      seat.castShadow = true;\n      seat.receiveShadow = true;\n      seat.userData = {\n        seatId\n      };\n      scene.add(seat);\n\n      // Exact seat back from reference images\n      const backGeometry = new THREE.BoxGeometry(0.8, 1.6, 0.18);\n      const seatBack = new THREE.Mesh(backGeometry, seatMaterial);\n      seatBack.position.set(...seatData.position);\n      seatBack.position.y = 1.5;\n      seatBack.position.z -= 0.4;\n      seatBack.castShadow = true;\n      scene.add(seatBack);\n\n      // Premium wood accent panels on seat back (exact from reference)\n      const accentGeometry = new THREE.BoxGeometry(0.85, 0.15, 0.03);\n      const accent = new THREE.Mesh(accentGeometry, woodMaterial);\n      accent.position.set(...seatData.position);\n      accent.position.y = 1.6;\n      accent.position.z -= 0.48;\n      scene.add(accent);\n\n      // Exact wood armrests from reference images\n      const armrestGeometry = new THREE.BoxGeometry(0.15, 0.6, 0.7);\n      const leftArmrest = new THREE.Mesh(armrestGeometry, woodMaterial);\n      leftArmrest.position.set(...seatData.position);\n      leftArmrest.position.x -= 0.47;\n      leftArmrest.position.y = 0.8;\n      leftArmrest.castShadow = true;\n      scene.add(leftArmrest);\n      const rightArmrest = new THREE.Mesh(armrestGeometry, woodMaterial);\n      rightArmrest.position.set(...seatData.position);\n      rightArmrest.position.x += 0.47;\n      rightArmrest.position.y = 0.8;\n      rightArmrest.castShadow = true;\n      scene.add(rightArmrest);\n\n      // Exact in-flight entertainment screen from reference images\n      const screenCanvas = document.createElement('canvas');\n      const screenContext = screenCanvas.getContext('2d');\n      screenCanvas.width = 1024;\n      screenCanvas.height = 512;\n\n      // Create exact screen content from reference\n      screenContext.fillStyle = '#1e3a8a';\n      screenContext.fillRect(0, 0, 1024, 512);\n\n      // Add exact branding from reference\n      screenContext.fillStyle = '#ffffff';\n      screenContext.font = 'bold 64px Arial';\n      screenContext.textAlign = 'center';\n      screenContext.fillText('Welcome', 512, 120);\n      screenContext.font = 'bold 48px Arial';\n      screenContext.fillText('i c e', 512, 180);\n\n      // Add exact icons from reference\n      screenContext.font = '32px Arial';\n      screenContext.fillText('🎬 🎵 🎮 📺', 512, 240);\n\n      // Add exact seat info\n      screenContext.font = '24px Arial';\n      screenContext.fillText(`Seat ${seatId}`, 512, 280);\n      const screenTexture = new THREE.CanvasTexture(screenCanvas);\n      const screenMaterial = new THREE.MeshBasicMaterial({\n        map: screenTexture,\n        emissive: 0x1e3a8a,\n        emissiveIntensity: 0.2\n      });\n      const screenGeometry = new THREE.PlaneGeometry(0.6, 0.35);\n      const screen = new THREE.Mesh(screenGeometry, screenMaterial);\n      screen.position.set(...seatData.position);\n      screen.position.y = 1.7;\n      screen.position.z -= 0.5;\n      scene.add(screen);\n\n      // Exact magazine pocket from reference images\n      const pocketGeometry = new THREE.BoxGeometry(0.5, 0.25, 0.1);\n      const pocketMaterial = new THREE.MeshPhongMaterial({\n        color: 0x718096,\n        shininess: 30\n      });\n      const pocket = new THREE.Mesh(pocketGeometry, pocketMaterial);\n      pocket.position.set(...seatData.position);\n      pocket.position.y = 1.2;\n      pocket.position.z -= 0.5;\n      scene.add(pocket);\n\n      // Exact seat control panel from reference images\n      const controlCanvas = document.createElement('canvas');\n      const controlContext = controlCanvas.getContext('2d');\n      controlCanvas.width = 256;\n      controlCanvas.height = 256;\n      controlContext.fillStyle = '#2c3e50';\n      controlContext.fillRect(0, 0, 256, 256);\n      controlContext.fillStyle = '#ffffff';\n      controlContext.font = 'bold 20px Arial';\n      controlContext.textAlign = 'center';\n      controlContext.fillText('SEAT CONTROLS', 128, 40);\n      controlContext.font = '16px Arial';\n      controlContext.fillText('Recline', 128, 80);\n      controlContext.fillText('Light', 128, 110);\n      controlContext.fillText('Entertainment', 128, 140);\n      controlContext.fillText('Service', 128, 170);\n      const controlTexture = new THREE.CanvasTexture(controlCanvas);\n      const controlMaterial = new THREE.MeshBasicMaterial({\n        map: controlTexture,\n        emissive: 0x2c3e50,\n        emissiveIntensity: 0.15\n      });\n      const controlGeometry = new THREE.PlaneGeometry(0.25, 0.25);\n      const control = new THREE.Mesh(controlGeometry, controlMaterial);\n      control.position.set(...seatData.position);\n      control.position.x -= 0.7;\n      control.position.y = 0.9;\n      control.position.z -= 0.4;\n      scene.add(control);\n\n      // Exact seat labels from reference images\n      const labelCanvas = document.createElement('canvas');\n      const labelContext = labelCanvas.getContext('2d');\n      labelCanvas.width = 512;\n      labelCanvas.height = 256;\n\n      // Create exact label background from reference\n      const labelGradient = labelContext.createLinearGradient(0, 0, 0, 256);\n      labelGradient.addColorStop(0, selectedSeat === seatId ? '#f39c12' : '#2c3e50');\n      labelGradient.addColorStop(1, selectedSeat === seatId ? '#e67e22' : '#1a202c');\n      labelContext.fillStyle = labelGradient;\n      labelContext.fillRect(0, 0, 512, 256);\n\n      // Add exact border from reference\n      labelContext.strokeStyle = '#ffffff';\n      labelContext.lineWidth = 4;\n      labelContext.strokeRect(4, 4, 504, 248);\n\n      // Add exact branding from reference\n      labelContext.fillStyle = '#ffffff';\n      labelContext.font = 'bold 48px Arial';\n      labelContext.textAlign = 'center';\n      labelContext.fillText('FlightSeat Premium', 256, 80);\n\n      // Add exact seat number from reference\n      labelContext.font = 'bold 64px Arial';\n      labelContext.fillText(seatId, 256, 160);\n\n      // Add exact info from reference\n      labelContext.font = '24px Arial';\n      labelContext.fillText(`Row ${seatData.row} • Premium Class`, 256, 200);\n      const labelTexture = new THREE.CanvasTexture(labelCanvas);\n      const labelMaterial = new THREE.MeshBasicMaterial({\n        map: labelTexture,\n        transparent: true,\n        opacity: 0.98\n      });\n      const labelGeometry = new THREE.PlaneGeometry(0.6, 0.3);\n      const label = new THREE.Mesh(labelGeometry, labelMaterial);\n      label.position.set(...seatData.position);\n      label.position.y = 2.0;\n      scene.add(label);\n    });\n  };\n  const createRealisticWindows3D = (scene, THREE) => {\n    // Create premium burl wood texture for window frames\n    const woodCanvas = document.createElement('canvas');\n    const woodContext = woodCanvas.getContext('2d');\n    woodCanvas.width = 512;\n    woodCanvas.height = 512;\n\n    // Create premium burl wood pattern\n    woodContext.fillStyle = '#f4d03f';\n    woodContext.fillRect(0, 0, 512, 512);\n\n    // Add complex wood grain swirls\n    woodContext.strokeStyle = '#d68910';\n    woodContext.lineWidth = 2;\n    for (let i = 0; i < 30; i++) {\n      woodContext.beginPath();\n      woodContext.moveTo(Math.random() * 512, Math.random() * 512);\n      woodContext.quadraticCurveTo(Math.random() * 512, Math.random() * 512, Math.random() * 512, Math.random() * 512);\n      woodContext.stroke();\n    }\n\n    // Add burl wood knots\n    for (let i = 0; i < 15; i++) {\n      woodContext.fillStyle = '#b7950b';\n      woodContext.beginPath();\n      woodContext.arc(Math.random() * 512, Math.random() * 512, Math.random() * 20 + 10, 0, Math.PI * 2);\n      woodContext.fill();\n    }\n    const woodTexture = new THREE.CanvasTexture(woodCanvas);\n    const woodMaterial = new THREE.MeshPhongMaterial({\n      map: woodTexture,\n      shininess: 60\n    });\n\n    // Premium oval window frames with wood finish\n    const windowFrameGeometry = new THREE.BoxGeometry(1.2, 0.9, 0.15);\n\n    // Create oval window glass using custom geometry\n    const windowGlassGeometry = new THREE.EllipseCurve(0, 0, 0.5, 0.35, 0, Math.PI * 2, false, 0);\n    const windowGlassShape = new THREE.Shape();\n    windowGlassShape.curves.push(windowGlassGeometry);\n    const windowGlassExtrudeSettings = {\n      depth: 0.02,\n      bevelEnabled: false\n    };\n    const windowGlassGeometry3D = new THREE.ExtrudeGeometry(windowGlassShape, windowGlassExtrudeSettings);\n    const windowGlassMaterial = new THREE.MeshPhongMaterial({\n      color: 0x87CEEB,\n      transparent: true,\n      opacity: 0.95,\n      shininess: 200\n    });\n\n    // Left side premium oval windows\n    for (let i = 0; i < 8; i++) {\n      const windowFrame = new THREE.Mesh(windowFrameGeometry, woodMaterial);\n      windowFrame.position.set(-2.5, 0.5, 6 - i * 1.8);\n      windowFrame.castShadow = true;\n      scene.add(windowFrame);\n      const windowGlass = new THREE.Mesh(windowGlassGeometry3D, windowGlassMaterial);\n      windowGlass.position.set(-2.5, 0.5, 6 - i * 1.8);\n      windowGlass.rotation.y = Math.PI / 2;\n      scene.add(windowGlass);\n    }\n\n    // Right side premium oval windows\n    for (let i = 0; i < 8; i++) {\n      const windowFrame = new THREE.Mesh(windowFrameGeometry, woodMaterial);\n      windowFrame.position.set(2.5, 0.5, 6 - i * 1.8);\n      windowFrame.castShadow = true;\n      scene.add(windowFrame);\n      const windowGlass = new THREE.Mesh(windowGlassGeometry3D, windowGlassMaterial);\n      windowGlass.position.set(2.5, 0.5, 6 - i * 1.8);\n      windowGlass.rotation.y = -Math.PI / 2;\n      scene.add(windowGlass);\n    }\n\n    // Add premium window blinds\n    for (let i = 0; i < 8; i++) {\n      const blindGeometry = new THREE.PlaneGeometry(1.0, 0.7);\n      const blindMaterial = new THREE.MeshPhongMaterial({\n        color: 0xf7fafc,\n        transparent: true,\n        opacity: 0.3\n      });\n      const blind = new THREE.Mesh(blindGeometry, blindMaterial);\n      blind.position.set(-2.5, 0.5, 6 - i * 1.8);\n      blind.rotation.y = Math.PI / 2;\n      scene.add(blind);\n      const blindRight = new THREE.Mesh(blindGeometry, blindMaterial);\n      blindRight.position.set(2.5, 0.5, 6 - i * 1.8);\n      blindRight.rotation.y = -Math.PI / 2;\n      scene.add(blindRight);\n    }\n  };\n  const createRealisticOverheadCompartments3D = (scene, THREE) => {\n    const compartmentGeometry = new THREE.BoxGeometry(4.5, 0.6, 1.0);\n    const compartmentMaterial = new THREE.MeshPhongMaterial({\n      color: 0xe2e8f0,\n      shininess: 30\n    });\n    for (let i = 0; i < 6; i++) {\n      const compartment = new THREE.Mesh(compartmentGeometry, compartmentMaterial);\n      compartment.position.set(0, 2.0, 6 - i * 2);\n      compartment.castShadow = true;\n      compartment.receiveShadow = true;\n      scene.add(compartment);\n\n      // Enhanced compartment handles\n      const handleGeometry = new THREE.BoxGeometry(0.4, 0.06, 0.06);\n      const handleMaterial = new THREE.MeshPhongMaterial({\n        color: 0x2c3e50,\n        shininess: 60\n      });\n      const handle = new THREE.Mesh(handleGeometry, handleMaterial);\n      handle.position.set(0, 1.7, 6 - i * 2);\n      handle.castShadow = true;\n      scene.add(handle);\n    }\n  };\n  const createRealisticCabinWalls3D = (scene, THREE) => {\n    // Create exact carpet texture from reference images\n    const carpetCanvas = document.createElement('canvas');\n    const carpetContext = carpetCanvas.getContext('2d');\n    carpetCanvas.width = 2048;\n    carpetCanvas.height = 2048;\n\n    // Create exact carpet pattern from reference\n    carpetContext.fillStyle = '#1a202c';\n    carpetContext.fillRect(0, 0, 2048, 2048);\n\n    // Add exact carpet texture pattern from reference\n    carpetContext.fillStyle = '#2d3748';\n    for (let i = 0; i < 200; i++) {\n      for (let j = 0; j < 200; j++) {\n        if ((i + j) % 2 === 0) {\n          carpetContext.fillRect(i * 10, j * 10, 8, 8);\n        }\n      }\n    }\n\n    // Add exact diagonal pattern from reference\n    carpetContext.fillStyle = '#4a5568';\n    for (let i = 0; i < 100; i++) {\n      carpetContext.fillRect(i * 20, i * 20, 2, 2);\n    }\n    const carpetTexture = new THREE.CanvasTexture(carpetCanvas);\n    const carpetMaterial = new THREE.MeshPhongMaterial({\n      map: carpetTexture,\n      shininess: 20\n    });\n\n    // Exact cabin walls from reference images\n    const leftWallGeometry = new THREE.PlaneGeometry(16, 4.5);\n    const wallMaterial = new THREE.MeshPhongMaterial({\n      color: 0xf8fafc,\n      shininess: 50\n    });\n    const leftWall = new THREE.Mesh(leftWallGeometry, wallMaterial);\n    leftWall.position.set(-2.8, 0.75, 0);\n    leftWall.rotation.y = Math.PI / 2;\n    leftWall.receiveShadow = true;\n    scene.add(leftWall);\n\n    // Right wall with exact accent from reference\n    const rightWall = new THREE.Mesh(leftWallGeometry, wallMaterial);\n    rightWall.position.set(2.8, 0.75, 0);\n    rightWall.rotation.y = -Math.PI / 2;\n    rightWall.receiveShadow = true;\n    scene.add(rightWall);\n\n    // Exact accent wall from reference images\n    const accentWallGeometry = new THREE.PlaneGeometry(16, 4.5);\n    const accentWallMaterial = new THREE.MeshPhongMaterial({\n      color: 0x4c1d95,\n      shininess: 40\n    });\n    const accentWall = new THREE.Mesh(accentWallGeometry, accentWallMaterial);\n    accentWall.position.set(3.2, 0.75, 0);\n    accentWall.rotation.y = -Math.PI / 2;\n    accentWall.receiveShadow = true;\n    scene.add(accentWall);\n\n    // Exact floor from reference images\n    const floorGeometry = new THREE.PlaneGeometry(16, 7);\n    const floor = new THREE.Mesh(floorGeometry, carpetMaterial);\n    floor.rotation.x = -Math.PI / 2;\n    floor.position.y = -1.8;\n    floor.receiveShadow = true;\n    scene.add(floor);\n\n    // Add exact wall-mounted screens from reference\n    for (let i = 0; i < 2; i++) {\n      const screenCanvas = document.createElement('canvas');\n      const screenContext = screenCanvas.getContext('2d');\n      screenCanvas.width = 512;\n      screenCanvas.height = 256;\n      screenContext.fillStyle = '#1e3a8a';\n      screenContext.fillRect(0, 0, 512, 256);\n      screenContext.fillStyle = '#ffffff';\n      screenContext.font = 'bold 32px Arial';\n      screenContext.textAlign = 'center';\n      screenContext.fillText('FlightSeat Premium', 256, 80);\n      screenContext.font = '20px Arial';\n      screenContext.fillText('Welcome to Luxury Travel', 256, 120);\n      screenContext.fillText('Premium Entertainment', 256, 150);\n      screenContext.font = '24px Arial';\n      screenContext.fillText('🎬 🎵 🍷', 256, 190);\n      const screenTexture = new THREE.CanvasTexture(screenCanvas);\n      const screenMaterial = new THREE.MeshBasicMaterial({\n        map: screenTexture,\n        emissive: 0x1e3a8a,\n        emissiveIntensity: 0.15\n      });\n      const screenGeometry = new THREE.PlaneGeometry(0.8, 0.4);\n      const screen = new THREE.Mesh(screenGeometry, screenMaterial);\n      screen.position.set(3.4, 1.8, 2 - i * 3);\n      screen.rotation.y = -Math.PI / 2;\n      scene.add(screen);\n    }\n\n    // Add exact magazine racks from reference\n    for (let i = 0; i < 2; i++) {\n      const rackGeometry = new THREE.BoxGeometry(0.6, 0.3, 0.1);\n      const rackMaterial = new THREE.MeshPhongMaterial({\n        color: 0x718096,\n        shininess: 35\n      });\n      const rack = new THREE.Mesh(rackGeometry, rackMaterial);\n      rack.position.set(3.3, 1.0, 2 - i * 3);\n      rack.rotation.y = -Math.PI / 2;\n      rack.castShadow = true;\n      scene.add(rack);\n    }\n\n    // Add exact exit signs from reference\n    const exitSignGeometry = new THREE.PlaneGeometry(0.4, 0.2);\n    const exitSignMaterial = new THREE.MeshBasicMaterial({\n      color: 0xff0000,\n      emissive: 0xff0000,\n      emissiveIntensity: 0.3\n    });\n    const exitSign = new THREE.Mesh(exitSignGeometry, exitSignMaterial);\n    exitSign.position.set(-2.6, 2.0, 0);\n    exitSign.rotation.y = Math.PI / 2;\n    scene.add(exitSign);\n\n    // Add exact safety signs from reference\n    const safetySignGeometry = new THREE.PlaneGeometry(0.6, 0.3);\n    const safetySignMaterial = new THREE.MeshBasicMaterial({\n      color: 0xffffff,\n      emissive: 0xffffff,\n      emissiveIntensity: 0.2\n    });\n    const safetySign = new THREE.Mesh(safetySignGeometry, safetySignMaterial);\n    safetySign.position.set(-2.6, 2.5, 0);\n    safetySign.rotation.y = Math.PI / 2;\n    scene.add(safetySign);\n  };\n  const createRealisticCeilingPanels3D = (scene, THREE) => {\n    const ceilingGeometry = new THREE.PlaneGeometry(5.6, 16);\n    const ceilingMaterial = new THREE.MeshPhongMaterial({\n      color: 0xf8fafc,\n      shininess: 30\n    });\n    const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);\n    ceiling.position.set(0, 3.0, 0);\n    ceiling.rotation.x = Math.PI / 2;\n    ceiling.receiveShadow = true;\n    scene.add(ceiling);\n\n    // Exact ceiling lighting system from reference images\n    for (let i = 0; i < 8; i++) {\n      // Exact light fixture housing from reference\n      const fixtureGeometry = new THREE.CylinderGeometry(0.18, 0.18, 0.12, 16);\n      const fixtureMaterial = new THREE.MeshPhongMaterial({\n        color: 0xe2e8f0,\n        shininess: 50\n      });\n      const fixture = new THREE.Mesh(fixtureGeometry, fixtureMaterial);\n      fixture.position.set(0, 2.95, 6 - i * 1.8);\n      fixture.castShadow = true;\n      scene.add(fixture);\n\n      // Exact light bulb from reference\n      const lightGeometry = new THREE.SphereGeometry(0.12, 16, 16);\n      const lightMaterial = new THREE.MeshBasicMaterial({\n        color: 0xffffff,\n        emissive: 0xffffff,\n        emissiveIntensity: 0.8\n      });\n      const light = new THREE.Mesh(lightGeometry, lightMaterial);\n      light.position.set(0, 2.9, 6 - i * 1.8);\n      scene.add(light);\n    }\n\n    // Add exact overhead compartments from reference\n    for (let i = 0; i < 6; i++) {\n      const compartmentGeometry = new THREE.BoxGeometry(4.8, 0.7, 1.2);\n      const compartmentMaterial = new THREE.MeshPhongMaterial({\n        color: 0xe2e8f0,\n        shininess: 40\n      });\n      const compartment = new THREE.Mesh(compartmentGeometry, compartmentMaterial);\n      compartment.position.set(0, 2.2, 6 - i * 2);\n      compartment.castShadow = true;\n      compartment.receiveShadow = true;\n      scene.add(compartment);\n\n      // Add exact compartment handles from reference\n      const handleGeometry = new THREE.BoxGeometry(0.5, 0.08, 0.08);\n      const handleMaterial = new THREE.MeshPhongMaterial({\n        color: 0x2c3e50,\n        shininess: 70\n      });\n      const handle = new THREE.Mesh(handleGeometry, handleMaterial);\n      handle.position.set(0, 1.9, 6 - i * 2);\n      handle.castShadow = true;\n      scene.add(handle);\n    }\n\n    // Add exact lighting control panel from reference\n    const controlPanelGeometry = new THREE.BoxGeometry(0.8, 0.4, 0.05);\n    const controlPanelMaterial = new THREE.MeshPhongMaterial({\n      color: 0xffffff,\n      shininess: 60\n    });\n    const controlPanel = new THREE.Mesh(controlPanelGeometry, controlPanelMaterial);\n    controlPanel.position.set(0, 2.8, 8);\n    scene.add(controlPanel);\n\n    // Create exact control panel texture from reference\n    const panelCanvas = document.createElement('canvas');\n    const panelContext = panelCanvas.getContext('2d');\n    panelCanvas.width = 256;\n    panelCanvas.height = 128;\n    panelContext.fillStyle = '#ffffff';\n    panelContext.fillRect(0, 0, 256, 128);\n    panelContext.strokeStyle = '#2c3e50';\n    panelContext.lineWidth = 2;\n    panelContext.strokeRect(10, 10, 236, 108);\n    panelContext.fillStyle = '#2c3e50';\n    panelContext.font = 'bold 16px Arial';\n    panelContext.textAlign = 'center';\n    panelContext.fillText('CABIN LIGHTS', 128, 35);\n    panelContext.fillStyle = '#e74c3c';\n    panelContext.font = 'bold 20px Arial';\n    panelContext.fillText('Lights OFF', 128, 70);\n    panelContext.fillStyle = '#2c3e50';\n    panelContext.font = '12px Arial';\n    panelContext.fillText('BOEING 777-300ER', 128, 95);\n    panelContext.fillText('Seat 08D', 128, 110);\n    const panelTexture = new THREE.CanvasTexture(panelCanvas);\n    const panelLabelMaterial = new THREE.MeshBasicMaterial({\n      map: panelTexture,\n      transparent: true,\n      opacity: 0.98\n    });\n    const panelLabelGeometry = new THREE.PlaneGeometry(0.7, 0.35);\n    const panelLabel = new THREE.Mesh(panelLabelGeometry, panelLabelMaterial);\n    panelLabel.position.set(0, 2.8, 8.03);\n    scene.add(panelLabel);\n\n    // Add exact reading lights from reference\n    for (let i = 0; i < 8; i++) {\n      const readingLightGeometry = new THREE.SphereGeometry(0.08, 16, 16);\n      const readingLightMaterial = new THREE.MeshBasicMaterial({\n        color: 0xffffff,\n        emissive: 0xffffff,\n        emissiveIntensity: 0.4\n      });\n      const readingLight = new THREE.Mesh(readingLightGeometry, readingLightMaterial);\n      readingLight.position.set(0, 2.1, 6 - i * 1.8);\n      scene.add(readingLight);\n    }\n\n    // Add exact air vents from reference\n    for (let i = 0; i < 8; i++) {\n      const ventGeometry = new THREE.CylinderGeometry(0.06, 0.06, 0.05, 8);\n      const ventMaterial = new THREE.MeshPhongMaterial({\n        color: 0x718096,\n        shininess: 60\n      });\n      const vent = new THREE.Mesh(ventGeometry, ventMaterial);\n      vent.position.set(0, 2.0, 6 - i * 1.8);\n      vent.rotation.x = Math.PI / 2;\n      scene.add(vent);\n    }\n  };\n  const createRealisticAisleLighting3D = (scene, THREE) => {\n    // Enhanced aisle floor lighting with proper aviation standards\n    for (let i = 0; i < 8; i++) {\n      const lightGeometry = new THREE.PlaneGeometry(1.0, 0.12);\n      const lightMaterial = new THREE.MeshBasicMaterial({\n        color: 0x4ade80,\n        emissive: 0x4ade80,\n        emissiveIntensity: 0.3\n      });\n      const light = new THREE.Mesh(lightGeometry, lightMaterial);\n      light.position.set(0, -1.45, 6 - i * 1.8);\n      light.rotation.x = -Math.PI / 2;\n      scene.add(light);\n    }\n  };\n  const createSkybox3D = (scene, THREE) => {\n    // Create a simple gradient skybox\n    const skyGeometry = new THREE.SphereGeometry(500, 32, 32);\n    const skyMaterial = new THREE.MeshBasicMaterial({\n      color: 0x87CEEB,\n      side: THREE.BackSide\n    });\n    const skybox = new THREE.Mesh(skyGeometry, skyMaterial);\n    scene.add(skybox);\n\n    // Add some clouds\n    const cloudGeometry = new THREE.SphereGeometry(15, 16, 16);\n    const cloudMaterial = new THREE.MeshBasicMaterial({\n      color: 0xffffff,\n      transparent: true,\n      opacity: 0.6\n    });\n    for (let i = 0; i < 8; i++) {\n      const cloud = new THREE.Mesh(cloudGeometry, cloudMaterial);\n      cloud.position.set((Math.random() - 0.5) * 600, Math.random() * 80 + 20, (Math.random() - 0.5) * 600);\n      cloud.scale.setScalar(Math.random() * 1.5 + 0.5);\n      scene.add(cloud);\n    }\n  };\n  const setupControls = (camera, domElement, THREE) => {\n    let isMouseDown = false;\n    let mouseX = 0;\n    let mouseY = 0;\n    let cameraTheta = 0;\n    let cameraPhi = Math.PI / 2;\n    let cameraRadius = 6;\n    const updateCamera = () => {\n      camera.position.x = cameraRadius * Math.sin(cameraPhi) * Math.cos(cameraTheta);\n      camera.position.y = cameraRadius * Math.cos(cameraPhi) + 1;\n      camera.position.z = cameraRadius * Math.sin(cameraPhi) * Math.sin(cameraTheta);\n      camera.lookAt(0, 1, 0);\n    };\n    const onMouseDown = event => {\n      isMouseDown = true;\n      mouseX = event.clientX;\n      mouseY = event.clientY;\n    };\n    const onMouseMove = event => {\n      if (!isMouseDown) return;\n      const deltaX = event.clientX - mouseX;\n      const deltaY = event.clientY - mouseY;\n      cameraTheta -= deltaX * 0.01;\n      cameraPhi += deltaY * 0.01;\n      cameraPhi = Math.max(0.1, Math.min(Math.PI - 0.1, cameraPhi));\n      updateCamera();\n      mouseX = event.clientX;\n      mouseY = event.clientY;\n    };\n    const onMouseUp = () => {\n      isMouseDown = false;\n    };\n    const onWheel = event => {\n      cameraRadius += event.deltaY * 0.01;\n      cameraRadius = Math.max(3, Math.min(15, cameraRadius));\n      updateCamera();\n    };\n    domElement.addEventListener('mousedown', onMouseDown);\n    domElement.addEventListener('mousemove', onMouseMove);\n    domElement.addEventListener('mouseup', onMouseUp);\n    domElement.addEventListener('wheel', onWheel);\n    domElement.style.cursor = 'grab';\n    domElement.addEventListener('mousedown', () => {\n      domElement.style.cursor = 'grabbing';\n    });\n    domElement.addEventListener('mouseup', () => {\n      domElement.style.cursor = 'grab';\n    });\n  };\n\n  // Update camera position when seat changes\n  useEffect(() => {\n    if (selectedSeat && SEAT_POSITIONS_3D[selectedSeat] && cameraRef.current) {\n      const seatData = SEAT_POSITIONS_3D[selectedSeat];\n      const camera = cameraRef.current;\n\n      // Move camera to seat position with offset\n      const startPos = camera.position.clone();\n      const endPos = new THREE.Vector3(seatData.position[0] + 0.2, seatData.position[1] + 0.5, seatData.position[2] + 1);\n      const duration = 1500;\n      const startTime = Date.now();\n      const animateCamera = () => {\n        const elapsed = Date.now() - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n        const easeProgress = 1 - Math.pow(1 - progress, 3);\n        camera.position.lerpVectors(startPos, endPos, easeProgress);\n        camera.lookAt(...seatData.target);\n        if (progress < 1) {\n          requestAnimationFrame(animateCamera);\n        }\n      };\n      animateCamera();\n    }\n  }, [selectedSeat]);\n  const handleSeatSelection = seat => {\n    if (onSeatChange) {\n      onSeatChange(seat);\n    }\n  };\n  if (!isThreeLoaded && !error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        color: 'white'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '48px',\n            marginBottom: '20px'\n          },\n          children: \"\\uD83D\\uDEE9\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1341,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '24px',\n            marginBottom: '10px'\n          },\n          children: \"Loading 3D Engine...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '16px',\n            opacity: 0.8\n          },\n          children: \"Preparing your immersive airplane experience\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1343,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1340,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1331,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      height: '100vh',\n      position: 'relative'\n    },\n    children: [isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'rgba(0, 0, 0, 0.8)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 1000,\n        color: 'white',\n        fontSize: '18px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px',\n            fontSize: '48px'\n          },\n          children: \"\\u2708\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1368,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '24px',\n            marginBottom: '10px'\n          },\n          children: \"Loading 3D Airplane...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1369,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '16px',\n            opacity: 0.8\n          },\n          children: \"Rendering immersive cabin experience\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1370,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1367,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1353,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 20,\n        left: 20,\n        right: 20,\n        background: 'rgba(255, 0, 0, 0.9)',\n        color: 'white',\n        padding: '15px',\n        borderRadius: '8px',\n        zIndex: 1000\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1377,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '20px',\n        right: '20px',\n        background: 'rgba(255, 255, 255, 0.95)',\n        padding: '20px',\n        borderRadius: '12px',\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n        zIndex: 100,\n        minWidth: '220px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: '0 0 15px 0',\n          color: '#2c3e50'\n        },\n        children: \"\\uD83E\\uDE91 Select Your Seat\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1404,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedSeat || '',\n        onChange: e => handleSeatSelection(e.target.value),\n        style: {\n          width: '100%',\n          padding: '12px',\n          borderRadius: '6px',\n          border: '2px solid #3498db',\n          fontSize: '16px',\n          background: 'white',\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Choose a seat...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1418,\n          columnNumber: 11\n        }, this), Object.keys(SEAT_POSITIONS_3D).map(seatId => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: seatId,\n          children: [\"Seat \", seatId, \" - Row \", SEAT_POSITIONS_3D[seatId].row, \" (\", SEAT_POSITIONS_3D[seatId].side, \")\"]\n        }, seatId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1420,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1405,\n        columnNumber: 9\n      }, this), selectedSeat && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '12px',\n          background: '#e8f5e8',\n          borderRadius: '6px',\n          color: '#2c5530'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Current View:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1433,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1433,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Seat \", selectedSeat]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1434,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Row \", (_SEAT_POSITIONS_3D$se = SEAT_POSITIONS_3D[selectedSeat]) === null || _SEAT_POSITIONS_3D$se === void 0 ? void 0 : _SEAT_POSITIONS_3D$se.row]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1435,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [(_SEAT_POSITIONS_3D$se2 = SEAT_POSITIONS_3D[selectedSeat]) === null || _SEAT_POSITIONS_3D$se2 === void 0 ? void 0 : _SEAT_POSITIONS_3D$se2.side, \" Side\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1436,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1427,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1393,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '20px',\n        left: '20px',\n        background: 'rgba(0, 0, 0, 0.8)',\n        color: 'white',\n        padding: '15px',\n        borderRadius: '8px',\n        fontSize: '14px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83C\\uDFAE 3D Controls:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1452,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u2022 Drag to rotate view\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1453,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u2022 Scroll to zoom in/out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u2022 Select seat for camera movement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1455,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u2022 Immersive 3D airplane interior\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1456,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1442,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mountRef,\n      style: {\n        width: '100%',\n        height: '100%',\n        cursor: 'grab'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1460,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1350,\n    columnNumber: 5\n  }, this);\n};\n\n// Throttle function for smooth slider performance\n_s(AirplaneExperience, \"wt602OFMNMuuzOZJu4XLhGc5lO0=\");\n_c = AirplaneExperience;\nconst throttle = (func, delay) => {\n  let timeoutId = null;\n  let lastExecTime = 0;\n  return (...args) => {\n    const currentTime = Date.now();\n    if (currentTime - lastExecTime > delay) {\n      func(...args);\n      lastExecTime = currentTime;\n    } else {\n      if (timeoutId) clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        func(...args);\n        lastExecTime = Date.now();\n      }, delay - (currentTime - lastExecTime));\n    }\n  };\n};\n\n// Fix for default markers\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\n\n// Types\n\n// Airport coordinates database\nconst AIRPORTS = {\n  // Indian Airports\n  'DEL': [28.5562, 77.1000],\n  // Delhi\n  'BOM': [19.0896, 72.8656],\n  // Mumbai\n  'BLR': [12.9716, 77.5946],\n  // Bangalore\n  'MAA': [12.9941, 80.1709],\n  // Chennai\n  'CCU': [22.6547, 88.4467],\n  // Kolkata\n  'HYD': [17.2403, 78.4294],\n  // Hyderabad\n  'COK': [9.9312, 76.2673],\n  // Kochi\n  'GOI': [15.3808, 73.8314],\n  // Goa\n  'AMD': [23.0725, 72.6347],\n  // Ahmedabad\n  'PNQ': [18.5679, 73.9143],\n  // Pune\n  'BHO': [23.2599, 77.4126],\n  // Bhopal\n  'JAI': [26.9124, 75.7873],\n  // Jaipur\n  'LKO': [26.7606, 80.8843],\n  // Lucknow\n\n  // International Airports\n  'JFK': [40.6413, -73.7781],\n  // New York JFK\n  'LHR': [51.4700, -0.4543],\n  // London Heathrow\n  'NRT': [35.7720, 140.3929],\n  // Tokyo Narita\n  'LAX': [33.9425, -118.4081],\n  // Los Angeles\n  'DXB': [25.2532, 55.3657],\n  // Dubai\n  'SIN': [1.3644, 103.9915],\n  // Singapore\n  'SYD': [-33.9461, 151.1772],\n  // Sydney\n  'CDG': [49.0097, 2.5479],\n  // Paris Charles de Gaulle\n  'FRA': [50.0379, 8.5622],\n  // Frankfurt\n  'HKG': [22.3080, 113.9185],\n  // Hong Kong\n  'ICN': [37.4602, 126.4407],\n  // Seoul Incheon\n  'BKK': [13.6900, 100.7501],\n  // Bangkok\n  'DOH': [25.2731, 51.6080],\n  // Doha\n  'IST': [41.2619, 28.7414],\n  // Istanbul\n  'MAD': [40.4719, -3.5626] // Madrid\n};\n\n// Mountain locations for mountain view feature\nconst MOUNTAINS = {\n  // Himalayas - Northern India\n  'EVEREST': {\n    lat: 27.9881,\n    lon: 86.9250,\n    name: 'Mount Everest',\n    elevation: 8849,\n    region: 'Himalayas'\n  },\n  'K2': {\n    lat: 35.8808,\n    lon: 76.5155,\n    name: 'K2',\n    elevation: 8611,\n    region: 'Karakoram'\n  },\n  'KANCHENJUNGA': {\n    lat: 27.7025,\n    lon: 88.1475,\n    name: 'Kanchenjunga',\n    elevation: 8586,\n    region: 'Himalayas'\n  },\n  'NANDA_DEVI': {\n    lat: 30.3763,\n    lon: 79.9737,\n    name: 'Nanda Devi',\n    elevation: 7816,\n    region: 'Himalayas'\n  },\n  'DHAULAGIRI': {\n    lat: 28.6967,\n    lon: 83.4933,\n    name: 'Dhaulagiri',\n    elevation: 8167,\n    region: 'Himalayas'\n  },\n  'ANNAPURNA': {\n    lat: 28.5967,\n    lon: 83.8203,\n    name: 'Annapurna',\n    elevation: 8091,\n    region: 'Himalayas'\n  },\n  // Western Ghats - South & West India\n  'ANAMUDI': {\n    lat: 10.1783,\n    lon: 77.0650,\n    name: 'Anamudi',\n    elevation: 2695,\n    region: 'Western Ghats'\n  },\n  'DODDABETTA': {\n    lat: 11.4064,\n    lon: 76.7392,\n    name: 'Doddabetta',\n    elevation: 2637,\n    region: 'Nilgiris'\n  },\n  'MULLAYANAGIRI': {\n    lat: 13.3931,\n    lon: 75.7185,\n    name: 'Mullayanagiri',\n    elevation: 1930,\n    region: 'Western Ghats'\n  },\n  'KALSUBAI': {\n    lat: 19.6092,\n    lon: 73.7031,\n    name: 'Kalsubai',\n    elevation: 1646,\n    region: 'Sahyadris'\n  },\n  'HARISHCHANDRAGAD': {\n    lat: 19.5217,\n    lon: 73.7636,\n    name: 'Harishchandragad',\n    elevation: 1424,\n    region: 'Sahyadris'\n  },\n  // Eastern Ghats & Central India\n  'MAHENDRAGIRI': {\n    lat: 18.8503,\n    lon: 84.2883,\n    name: 'Mahendragiri',\n    elevation: 1501,\n    region: 'Eastern Ghats'\n  },\n  'ARMA_KONDA': {\n    lat: 18.3500,\n    lon: 82.9167,\n    name: 'Arma Konda',\n    elevation: 1680,\n    region: 'Eastern Ghats'\n  },\n  'GURU_SHIKHAR': {\n    lat: 24.5925,\n    lon: 72.7894,\n    name: 'Guru Shikhar',\n    elevation: 1722,\n    region: 'Aravalli'\n  },\n  // Northeast India\n  'SARAMATI': {\n    lat: 26.0000,\n    lon: 94.7667,\n    name: 'Saramati',\n    elevation: 3826,\n    region: 'Nagaland Hills'\n  },\n  'BLUE_MOUNTAIN': {\n    lat: 23.2833,\n    lon: 92.8167,\n    name: 'Blue Mountain',\n    elevation: 2157,\n    region: 'Mizoram Hills'\n  },\n  // International Mountains (for international flights)\n  'MONT_BLANC': {\n    lat: 45.8326,\n    lon: 6.8652,\n    name: 'Mont Blanc',\n    elevation: 4809,\n    region: 'Alps'\n  },\n  'MATTERHORN': {\n    lat: 45.9763,\n    lon: 7.6586,\n    name: 'Matterhorn',\n    elevation: 4478,\n    region: 'Alps'\n  },\n  'FUJI': {\n    lat: 35.3606,\n    lon: 138.7274,\n    name: 'Mount Fuji',\n    elevation: 3776,\n    region: 'Japan'\n  },\n  'DENALI': {\n    lat: 63.0692,\n    lon: -151.0070,\n    name: 'Denali',\n    elevation: 6190,\n    region: 'Alaska'\n  },\n  'ROCKY_MOUNTAINS': {\n    lat: 39.7392,\n    lon: -104.9903,\n    name: 'Rocky Mountains',\n    elevation: 4401,\n    region: 'USA'\n  }\n};\n\n// Function to get mountains visible from flight path\nconst getMountainsVisibleFromPath = (flightPath, maxDistance = 200) => {\n  const visibleMountains = [];\n\n  // Check each mountain against the flight path\n  Object.entries(MOUNTAINS).forEach(([mountainKey, mountain]) => {\n    // Check if mountain is within viewing distance of any point on the flight path\n    const isVisible = flightPath.some(waypoint => {\n      const distance = calculateDistance(waypoint.lat, waypoint.lon, mountain.lat, mountain.lon);\n      return distance <= maxDistance; // Within 200km viewing distance\n    });\n    if (isVisible) {\n      visibleMountains.push(mountainKey);\n    }\n  });\n  return visibleMountains;\n};\n\n// Distance calculation function (great circle distance)\nconst calculateDistance = (lat1, lon1, lat2, lon2) => {\n  const R = 6371; // Earth's radius in kilometers\n  const dLat = (lat2 - lat1) * Math.PI / 180;\n  const dLon = (lon2 - lon1) * Math.PI / 180;\n  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n};\n\n// Simplified flight analysis function\nconst generateSimplifiedFlightAnalysis = (fromAirport, toAirport, departureTime, flightDuration) => {\n  console.log(`Analyzing flight: ${fromAirport} → ${toAirport}, ${departureTime}, ${flightDuration} min`);\n  const fromCoords = AIRPORTS[fromAirport];\n  const toCoords = AIRPORTS[toAirport];\n  if (!fromCoords || !toCoords) {\n    throw new Error(`Unknown airport: ${fromAirport} or ${toAirport}`);\n  }\n\n  // Parse departure time\n  const depTime = new Date(departureTime);\n  const arrivalTime = new Date(depTime.getTime() + flightDuration * 60 * 1000);\n\n  // Generate basic flight path (5 waypoints)\n  const path = [];\n  for (let i = 0; i <= 4; i++) {\n    const fraction = i / 4;\n    const lat = fromCoords[0] + (toCoords[0] - fromCoords[0]) * fraction;\n    const lon = fromCoords[1] + (toCoords[1] - fromCoords[1]) * fraction;\n    path.push({\n      lat,\n      lon\n    });\n  }\n\n  // Generate basic sun analysis\n  const enhancedAnalysis = generateBasicSunAnalysis(fromAirport, toAirport, depTime, arrivalTime, flightDuration);\n\n  // Generate sun positions with correct side placement based on flight direction\n  const sunPositions = path.map((waypoint, index) => {\n    const timeAtWaypoint = new Date(depTime.getTime() + index / 4 * flightDuration * 60 * 1000);\n    const hour = timeAtWaypoint.getHours();\n    const minute = timeAtWaypoint.getMinutes();\n    const timeInMinutes = hour * 60 + minute;\n\n    // Calculate flight direction\n    const fromCoords = AIRPORTS[fromAirport];\n    const toCoords = AIRPORTS[toAirport];\n    const lonDiff = toCoords[1] - fromCoords[1]; // + means flying east, - means flying west\n\n    // Simplified sun elevation based on time of day\n    let elevation;\n    if (hour >= 6 && hour <= 8) elevation = Math.random() * 10; // Sunrise\n    else if (hour >= 18 && hour <= 20) elevation = Math.random() * 10; // Sunset\n    else if (hour >= 9 && hour <= 17) elevation = 30 + Math.random() * 40; // Day\n    else elevation = -10 - Math.random() * 20; // Night\n\n    // Use departure time to determine sun position for the entire flight\n    const depHour = depTime.getHours();\n    const depMinute = depTime.getMinutes();\n    const depTimeInMinutes = depHour * 60 + depMinute;\n\n    // Define time intervals in minutes (same as in generateBasicSunAnalysis)\n    const GOLDEN_HOUR_BEFORE_SUNRISE_START = 4 * 60; // 4:00 AM\n    const GOLDEN_HOUR_BEFORE_SUNRISE_END = 4 * 60 + 59; // 4:59 AM\n    const SUNRISE_START = 5 * 60; // 5:00 AM\n    const SUNRISE_END = 8 * 60; // 8:00 AM\n    const SUN_VISIBLE_START = 8 * 60 + 1; // 8:01 AM\n    const SUN_VISIBLE_END = 17 * 60; // 5:00 PM\n    const GOLDEN_HOUR_BEFORE_SUNSET_START = 17 * 60 + 1; // 5:01 PM\n    const GOLDEN_HOUR_BEFORE_SUNSET_END = 17 * 60 + 59; // 5:59 PM\n    const SUNSET_START = 18 * 60; // 6:00 PM\n    const SUNSET_END = 19 * 60; // 7:00 PM\n\n    // Calculate realistic sun position based on time of day and flight direction\n    let condition;\n    let azimuth;\n\n    // Determine condition based on time with comprehensive coverage of ALL scenarios\n    // Helper function to check if time falls within a range (handles midnight wrap)\n    const isTimeInRange = (time, start, end) => {\n      if (start <= end) {\n        // Normal range (e.g., 5:00 AM to 8:00 AM)\n        return time >= start && time <= end;\n      } else {\n        // Overnight range (e.g., 7:01 PM to 3:59 AM)\n        return time >= start || time <= end;\n      }\n    };\n\n    // Define ALL time periods (including night period that wraps around midnight)\n    const NIGHT_START = 19 * 60 + 1; // 7:01 PM (1141 minutes)\n    const NIGHT_END = 3 * 60 + 59; // 3:59 AM (239 minutes)\n\n    // Check conditions in priority order (most specific first)\n    if (isTimeInRange(timeInMinutes, SUNRISE_START, SUNRISE_END)) {\n      // 5:00 AM - 8:00 AM: Sunrise period\n      condition = 'SUNRISE';\n    } else if (isTimeInRange(timeInMinutes, GOLDEN_HOUR_BEFORE_SUNRISE_START, GOLDEN_HOUR_BEFORE_SUNRISE_END)) {\n      // 4:00 AM - 4:59 AM: Golden hour before sunrise\n      condition = 'GOLDEN_HOUR_BEFORE_SUNRISE';\n    } else if (isTimeInRange(timeInMinutes, SUNSET_START, SUNSET_END)) {\n      // 6:00 PM - 7:00 PM: Sunset period\n      condition = 'SUNSET';\n    } else if (isTimeInRange(timeInMinutes, GOLDEN_HOUR_BEFORE_SUNSET_START, GOLDEN_HOUR_BEFORE_SUNSET_END)) {\n      // 5:01 PM - 5:59 PM: Golden hour before sunset\n      condition = 'GOLDEN_HOUR_BEFORE_SUNSET';\n    } else if (isTimeInRange(timeInMinutes, SUN_VISIBLE_START, SUN_VISIBLE_END)) {\n      // 8:01 AM - 5:00 PM: Full daylight\n      condition = 'DAYLIGHT';\n    } else if (isTimeInRange(timeInMinutes, NIGHT_START, NIGHT_END)) {\n      // 7:01 PM - 3:59 AM: Night period (wraps around midnight)\n      condition = 'NIGHT';\n    } else {\n      // Fallback for any edge cases\n      condition = 'DAYLIGHT';\n    }\n\n    // Debug logging for time condition assignment\n    const timeStr = `${Math.floor(timeInMinutes / 60).toString().padStart(2, '0')}:${(timeInMinutes % 60).toString().padStart(2, '0')}`;\n    console.log(`TIME CONDITION: ${timeStr} (${timeInMinutes}min) → ${condition}`);\n\n    // Calculate realistic sun azimuth with hardcoded city pair overrides\n    const isSunrise = condition === 'SUNRISE' || condition === 'GOLDEN_HOUR_BEFORE_SUNRISE';\n    const isSunset = condition === 'SUNSET' || condition === 'GOLDEN_HOUR_BEFORE_SUNSET';\n\n    // Try hardcoded mapping first\n    let hardcodedSide = null;\n    if (isSunrise) {\n      hardcodedSide = getHardcodedSunSide(fromAirport, toAirport, true);\n    } else if (isSunset) {\n      hardcodedSide = getHardcodedSunSide(fromAirport, toAirport, false);\n    }\n\n    // Calculate realistic sun azimuth based on actual time and sun movement\n    azimuth = calculateRealisticSunAzimuth(timeInMinutes, lonDiff, fromAirport, toAirport);\n    console.log(`REALISTIC SUN: ${fromAirport}→${toAirport}, Time: ${Math.floor(timeInMinutes / 60)}:${String(timeInMinutes % 60).padStart(2, '0')}, Condition: ${condition}, Azimuth: ${azimuth.toFixed(1)}°`);\n    return {\n      lat: waypoint.lat,\n      lon: waypoint.lon,\n      time: timeAtWaypoint.toISOString(),\n      azimuth,\n      elevation,\n      condition\n    };\n  });\n\n  // Calculate mountain count\n  const visibleMountains = getMountainsVisibleFromPath(path, 200);\n  const mountainCount = visibleMountains.length;\n  return {\n    path,\n    sunPositions,\n    recommendation: enhancedAnalysis.seatSuggestion,\n    enhancedAnalysis: {\n      ...enhancedAnalysis,\n      mountainCount\n    }\n  };\n};\n\n// Enhanced sun analysis based on precise time intervals\nconst generateBasicSunAnalysis = (fromAirport, toAirport, departureTime, arrivalTime, flightDuration) => {\n  const depHour = departureTime.getHours();\n  const depMinute = departureTime.getMinutes();\n  const arrHour = arrivalTime.getHours();\n  const arrMinute = arrivalTime.getMinutes();\n  console.log(`Flight time analysis: Dep ${depHour}:${depMinute.toString().padStart(2, '0')} → Arr ${arrHour}:${arrMinute.toString().padStart(2, '0')}`);\n\n  // Convert times to minutes for easier comparison\n  const depTimeMinutes = depHour * 60 + depMinute;\n  const arrTimeMinutes = arrHour * 60 + arrMinute;\n\n  // Define time intervals in minutes\n  const GOLDEN_HOUR_BEFORE_SUNRISE_START = 4 * 60; // 4:00 AM\n  const GOLDEN_HOUR_BEFORE_SUNRISE_END = 4 * 60 + 59; // 4:59 AM\n  const SUNRISE_START = 5 * 60; // 5:00 AM\n  const SUNRISE_END = 8 * 60; // 8:00 AM\n  const SUN_VISIBLE_START = 8 * 60 + 1; // 8:01 AM\n  const SUN_VISIBLE_END = 17 * 60; // 5:00 PM\n  const GOLDEN_HOUR_BEFORE_SUNSET_START = 17 * 60 + 1; // 5:01 PM\n  const GOLDEN_HOUR_BEFORE_SUNSET_END = 17 * 60 + 59; // 5:59 PM\n  const SUNSET_START = 18 * 60; // 6:00 PM\n  const SUNSET_END = 19 * 60; // 7:00 PM\n  const NIGHT_START = 19 * 60 + 1; // 7:01 PM\n  const NIGHT_END = 3 * 60 + 59; // 3:59 AM\n\n  // Initialize detection flags\n  let willSeeGoldenHourBeforeSunrise = false;\n  let willSeeSunrise = false;\n  let willSeeSunVisible = false;\n  let willSeeGoldenHourBeforeSunset = false;\n  let willSeeSunset = false;\n  let willSeeNight = false;\n\n  // Function to check if a time interval overlaps with flight time\n  // Handles ALL scenarios:\n  // ✅ Same-day flights (10AM-2PM)\n  // ✅ Overnight flights (4PM-2AM) \n  // ✅ Long flights (24+ hours)\n  // ✅ Night period wrap-around (7:01PM-3:59AM)\n  // ✅ All time periods: sunrise, sunset, golden hour, daylight, night\n  const checkTimeOverlap = (startMinutes, endMinutes) => {\n    const flightDurationMinutes = typeof flightDuration === 'number' ? flightDuration : 0;\n\n    // Calculate flight end time in minutes from start of day\n    const flightEndMinutes = depTimeMinutes + flightDurationMinutes;\n\n    // Handle night period (wraps around midnight: 19:01 to 3:59)\n    if (startMinutes > endMinutes) {\n      // For night period, check two conditions:\n      // 1. Flight starts during night hours (after 19:01)\n      // 2. Flight crosses midnight and continues into night hours (before 3:59)\n\n      const startsInNight = depTimeMinutes >= startMinutes; // Starts after 19:01\n      const endsInNight = flightEndMinutes > 24 * 60 && flightEndMinutes - 24 * 60 <= endMinutes; // Crosses midnight and ends before 3:59\n      const crossesMidnight = flightEndMinutes > 24 * 60;\n      return startsInNight || crossesMidnight && endsInNight;\n    }\n\n    // Handle regular periods (don't wrap around midnight)\n    // Check if the time period overlaps with flight duration\n\n    if (flightEndMinutes <= 24 * 60) {\n      // Flight doesn't cross midnight - simple overlap check\n      return depTimeMinutes <= endMinutes && flightEndMinutes >= startMinutes;\n    } else {\n      // Flight crosses midnight - check both before and after midnight\n      const overlapBeforeMidnight = depTimeMinutes <= endMinutes && 24 * 60 >= startMinutes;\n      const overlapAfterMidnight = flightEndMinutes - 24 * 60 >= startMinutes && startMinutes >= 0;\n      return overlapBeforeMidnight || overlapAfterMidnight;\n    }\n  };\n\n  // Check each time interval - now properly detects overlaps during flight duration\n  willSeeSunrise = checkTimeOverlap(SUNRISE_START, SUNRISE_END);\n  willSeeSunset = checkTimeOverlap(SUNSET_START, SUNSET_END);\n  willSeeNight = checkTimeOverlap(NIGHT_START, NIGHT_END);\n  willSeeSunVisible = checkTimeOverlap(SUN_VISIBLE_START, SUN_VISIBLE_END);\n  willSeeGoldenHourBeforeSunrise = checkTimeOverlap(GOLDEN_HOUR_BEFORE_SUNRISE_START, GOLDEN_HOUR_BEFORE_SUNRISE_END);\n  willSeeGoldenHourBeforeSunset = checkTimeOverlap(GOLDEN_HOUR_BEFORE_SUNSET_START, GOLDEN_HOUR_BEFORE_SUNSET_END);\n\n  // Golden hour is true if any golden hour period is detected\n  const willSeeGoldenHour = willSeeGoldenHourBeforeSunrise || willSeeGoldenHourBeforeSunset;\n  console.log(`Detection Results:\n    Golden Hour Before Sunrise: ${willSeeGoldenHourBeforeSunrise}\n    Sunrise: ${willSeeSunrise}\n    Sun Visible: ${willSeeSunVisible}\n    Golden Hour Before Sunset: ${willSeeGoldenHourBeforeSunset}\n    Sunset: ${willSeeSunset}\n    Night: ${willSeeNight}\n    Golden Hour: ${willSeeGoldenHour}`);\n\n  // Generate smart recommendations\n  const summary = [];\n  const recommendations = [];\n\n  // Sunrise analysis\n  if (willSeeSunrise) {\n    summary.push(`🌅 You WILL see a beautiful sunrise during this flight!`);\n    recommendations.push(\"Choose a window seat on the EAST side for the best sunrise views.\");\n  }\n\n  // Sunset analysis\n  if (willSeeSunset) {\n    summary.push(`🌇 You WILL see a stunning sunset during this flight!`);\n    recommendations.push(\"Choose a window seat on the WEST side for the best sunset views.\");\n  }\n\n  // Both sunrise and sunset\n  if (willSeeSunrise && willSeeSunset) {\n    summary.push(\"🌟 Amazing! You'll see BOTH sunrise AND sunset during this flight!\");\n    recommendations.push(\"This is a rare treat! You'll experience the full sun cycle during your journey.\");\n  }\n\n  // Golden hour analysis\n  if (willSeeGoldenHour) {\n    if (willSeeGoldenHourBeforeSunrise) {\n      summary.push(`✨ You'll experience magical golden hour lighting before sunrise!`);\n    } else if (willSeeGoldenHourBeforeSunset) {\n      summary.push(`✨ You'll experience beautiful golden hour lighting before sunset!`);\n    }\n  }\n\n  // Night analysis\n  if (willSeeNight) {\n    const nightHours = calculateNightHours(departureTime, arrivalTime);\n    summary.push(`🌙 You'll experience ${nightHours} hours of night flying - perfect for stargazing!`);\n    recommendations.push(\"Great opportunity for night photography and seeing city lights from above.\");\n  }\n\n  // Sun visible analysis\n  if (willSeeSunVisible && !willSeeSunrise && !willSeeSunset) {\n    summary.push(`☀️ This will be a bright daylight flight with excellent visibility.`);\n    recommendations.push(\"Perfect for scenic landscape viewing and aerial photography.\");\n  }\n\n  // Add general recommendations\n  if (willSeeSunrise || willSeeSunset || willSeeGoldenHour) {\n    recommendations.push(\"Bring a camera - the views will be spectacular!\");\n  }\n\n  // Determine seat suggestion based on route\n  const seatSuggestion = determineSeatSuggestion(fromAirport, toAirport, willSeeSunrise, willSeeSunset);\n  return {\n    willSeeSunrise,\n    willSeeSunset,\n    willSeeNight,\n    willSeeGoldenHour,\n    summary,\n    recommendations,\n    seatSuggestion,\n    timeline: [],\n    // Simplified - no detailed timeline\n    nightDuration: willSeeNight ? calculateNightHours(departureTime, arrivalTime) * 60 : 0,\n    dayDuration: flightDuration - (willSeeNight ? calculateNightHours(departureTime, arrivalTime) * 60 : 0)\n  };\n};\n\n// Helper function to calculate night hours\nconst calculateNightHours = (depTime, arrTime) => {\n  const depHour = depTime.getHours();\n  const arrHour = arrTime.getHours();\n  let nightHours = 0;\n\n  // Simple night calculation (10 PM - 6 AM)\n  if (depHour >= 22 || depHour <= 6) nightHours += 1;\n  if (arrHour >= 22 || arrHour <= 6) nightHours += 1;\n  return Math.max(nightHours, 0.5); // Minimum 0.5 hours if any night flying\n};\n\n// Helper function to determine seat suggestion based on proper bearing calculation\nconst determineSeatSuggestion = (fromAirport, toAirport, willSeeSunrise, willSeeSunset) => {\n  const fromCoords = AIRPORTS[fromAirport];\n  const toCoords = AIRPORTS[toAirport];\n  if (!fromCoords || !toCoords) return 'either';\n\n  // Calculate proper flight bearing using same logic as sun position calculation\n  const lat1Rad = fromCoords[0] * Math.PI / 180;\n  const lat2Rad = toCoords[0] * Math.PI / 180;\n  const dLon = (toCoords[1] - fromCoords[1]) * Math.PI / 180;\n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  let flightBearing = Math.atan2(y, x) * 180 / Math.PI;\n  flightBearing = (flightBearing + 360) % 360; // Normalize to 0-360\n\n  console.log(`Flight analysis: ${fromAirport} → ${toAirport}`);\n  console.log(`Flight bearing: ${flightBearing.toFixed(1)}°`);\n  console.log(`Sunrise: ${willSeeSunrise}, Sunset: ${willSeeSunset}`);\n  if (willSeeSunrise) {\n    // Sunrise is at 90° (East)\n    // Calculate relative position of sunrise to flight direction\n    let relativeSunPosition = 90 - flightBearing;\n    relativeSunPosition = (relativeSunPosition + 360) % 360;\n    console.log(`Sunrise relative position: ${relativeSunPosition.toFixed(1)}°`);\n\n    // If sunrise is on RIGHT side of flight direction (270° to 90°), recommend LEFT seat to look right\n    // If sunrise is on LEFT side of flight direction (90° to 270°), recommend RIGHT seat to look left\n    if (relativeSunPosition >= 270 || relativeSunPosition <= 90) {\n      console.log(`Sunrise on RIGHT side → LEFT seat recommended`);\n      return 'left'; // Sit on left to look right at sunrise\n    } else {\n      console.log(`Sunrise on LEFT side → RIGHT seat recommended`);\n      return 'right'; // Sit on right to look left at sunrise\n    }\n  }\n  if (willSeeSunset) {\n    // Sunset is at 270° (West)\n    // Calculate relative position of sunset to flight direction\n    let relativeSunPosition = 270 - flightBearing;\n    relativeSunPosition = (relativeSunPosition + 360) % 360;\n    console.log(`Sunset relative position: ${relativeSunPosition.toFixed(1)}°`);\n\n    // If sunset is on RIGHT side of flight direction (270° to 90°), recommend LEFT seat to look right\n    // If sunset is on LEFT side of flight direction (90° to 270°), recommend RIGHT seat to look left\n    if (relativeSunPosition >= 270 || relativeSunPosition <= 90) {\n      console.log(`Sunset on RIGHT side → LEFT seat recommended`);\n      return 'left'; // Sit on left to look right at sunset\n    } else {\n      console.log(`Sunset on LEFT side → RIGHT seat recommended`);\n      return 'right'; // Sit on right to look left at sunset\n    }\n  }\n  console.log(`No sunrise/sunset → EITHER side recommended`);\n  return 'either';\n};\n\n// Helper function to determine side-specific views for seat cards\nconst getSideSpecificViews = (fromAirport, toAirport, side, enhancedAnalysis) => {\n  if (!enhancedAnalysis) return {\n    sunrise: false,\n    sunset: false,\n    night: false\n  };\n  const fromCoords = AIRPORTS[fromAirport];\n  const toCoords = AIRPORTS[toAirport];\n  if (!fromCoords || !toCoords) {\n    return {\n      sunrise: enhancedAnalysis.willSeeSunrise,\n      sunset: enhancedAnalysis.willSeeSunset,\n      night: enhancedAnalysis.willSeeNight\n    };\n  }\n\n  // Calculate flight bearing\n  const lat1Rad = fromCoords[0] * Math.PI / 180;\n  const lat2Rad = toCoords[0] * Math.PI / 180;\n  const dLon = (toCoords[1] - fromCoords[1]) * Math.PI / 180;\n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  let flightBearing = Math.atan2(y, x) * 180 / Math.PI;\n  flightBearing = (flightBearing + 360) % 360;\n\n  // Check sunrise visibility for this side\n  let sunriseVisible = false;\n  if (enhancedAnalysis.willSeeSunrise) {\n    let relativeSunrisePosition = 90 - flightBearing;\n    relativeSunrisePosition = (relativeSunrisePosition + 360) % 360;\n\n    // Sunrise on RIGHT side of flight (270° to 90°) → visible from LEFT seat\n    // Sunrise on LEFT side of flight (90° to 270°) → visible from RIGHT seat\n    if (side === 'left') {\n      sunriseVisible = relativeSunrisePosition >= 270 || relativeSunrisePosition <= 90;\n    } else {\n      sunriseVisible = relativeSunrisePosition > 90 && relativeSunrisePosition < 270;\n    }\n  }\n\n  // Check sunset visibility for this side\n  let sunsetVisible = false;\n  if (enhancedAnalysis.willSeeSunset) {\n    let relativeSunsetPosition = 270 - flightBearing;\n    relativeSunsetPosition = (relativeSunsetPosition + 360) % 360;\n\n    // Sunset on RIGHT side of flight (270° to 90°) → visible from LEFT seat\n    // Sunset on LEFT side of flight (90° to 270°) → visible from RIGHT seat\n    if (side === 'left') {\n      sunsetVisible = relativeSunsetPosition >= 270 || relativeSunsetPosition <= 90;\n    } else {\n      sunsetVisible = relativeSunsetPosition > 90 && relativeSunsetPosition < 270;\n    }\n  }\n  return {\n    sunrise: sunriseVisible,\n    sunset: sunsetVisible,\n    night: enhancedAnalysis.willSeeNight // Night is visible from both sides\n  };\n};\n\n// Function to get the correct marker/emoji for each sun condition\nconst getSunConditionMarker = condition => {\n  switch (condition) {\n    case 'GOLDEN_HOUR_BEFORE_SUNRISE':\n      return '🌄';\n    // Golden hour before sunrise - mountain sunrise\n    case 'SUNRISE':\n      return '🌅';\n    // Sunrise\n    case 'DAYLIGHT':\n      return '☀️';\n    // Bright sun\n    case 'GOLDEN_HOUR_BEFORE_SUNSET':\n      return '🌇';\n    // Golden hour before sunset - cityscape sunset\n    case 'SUNSET':\n      return '🌆';\n    // Sunset over buildings\n    case 'NIGHT':\n      return '🌙';\n    // Crescent moon\n    default:\n      return '☀️';\n    // Default to sun\n  }\n};\n\n// Function to get tooltip content based on sun condition\nconst getSunTooltipContent = sunPos => {\n  var _sunPos$elevation2;\n  if (!sunPos) return '';\n\n  // Handle cases where condition might be undefined (for backward compatibility)\n  if (!sunPos.condition) {\n    var _sunPos$elevation;\n    const elevation = ((_sunPos$elevation = sunPos.elevation) === null || _sunPos$elevation === void 0 ? void 0 : _sunPos$elevation.toFixed(1)) || '--';\n    if (sunPos.elevation && sunPos.elevation < 0) {\n      return `🌙 Night • ${Math.abs(sunPos.elevation).toFixed(1)}° below horizon`;\n    } else if (sunPos.elevation && sunPos.elevation < 10) {\n      return `🌅 Golden Hour • ${elevation}° above horizon`;\n    } else {\n      return `☀️ Sun • ${elevation}° above horizon`;\n    }\n  }\n  const marker = getSunConditionMarker(sunPos.condition);\n  const elevation = ((_sunPos$elevation2 = sunPos.elevation) === null || _sunPos$elevation2 === void 0 ? void 0 : _sunPos$elevation2.toFixed(1)) || '--';\n  switch (sunPos.condition) {\n    case 'GOLDEN_HOUR_BEFORE_SUNRISE':\n      return `${marker} Golden Hour Before Sunrise • ${elevation}° above horizon`;\n    case 'SUNRISE':\n      return `${marker} Sunrise • ${elevation}° above horizon`;\n    case 'DAYLIGHT':\n      return `${marker} Daylight • ${elevation}° above horizon`;\n    case 'GOLDEN_HOUR_BEFORE_SUNSET':\n      return `${marker} Golden Hour Before Sunset • ${elevation}° above horizon`;\n    case 'SUNSET':\n      return `${marker} Sunset • ${elevation}° above horizon`;\n    case 'NIGHT':\n      return `${marker} Night • Moon visible`;\n    default:\n      return `${marker} Sun • ${elevation}° above horizon`;\n  }\n};\n\n// Hardcoded city pair mappings for consistent sun positioning\nconst CITY_PAIR_SUN_MAPPINGS = {\n  // West-bound flights (flying west)\n  'DEL-JAI': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Delhi → Jaipur\n  'DEL-BOM': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Delhi → Mumbai  \n  'BLR-BOM': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Bangalore → Mumbai\n  'MAA-BOM': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Chennai → Mumbai\n  'HYD-BOM': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Hyderabad → Mumbai\n  'CCU-DEL': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Kolkata → Delhi\n  'BLR-DEL': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Bangalore → Delhi\n  'MAA-DEL': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Chennai → Delhi\n\n  // East-bound flights (flying east)  \n  'JAI-DEL': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Jaipur → Delhi\n  'BOM-DEL': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Mumbai → Delhi\n  'BOM-BLR': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Mumbai → Bangalore\n  'BOM-MAA': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Mumbai → Chennai\n  'BOM-HYD': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Mumbai → Hyderabad\n  'DEL-CCU': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Delhi → Kolkata\n  'DEL-BLR': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Delhi → Bangalore  \n  'DEL-MAA': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Delhi → Chennai\n\n  // International routes\n  'DEL-JFK': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Delhi → New York (east)\n  'JFK-DEL': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // New York → Delhi (west)\n  'BOM-LHR': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Mumbai → London (east)\n  'LHR-BOM': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // London → Mumbai (west)\n  'DEL-NRT': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Delhi → Tokyo (east)\n  'NRT-DEL': {\n    sunrise: 'left',\n    sunset: 'right'\n  },\n  // Tokyo → Delhi (west)\n  'BOM-SYD': {\n    sunrise: 'right',\n    sunset: 'left'\n  },\n  // Mumbai → Sydney (east)\n  'SYD-BOM': {\n    sunrise: 'left',\n    sunset: 'right'\n  } // Sydney → Mumbai (west)\n};\n\n// Function to get hardcoded sun side for specific city pairs\nconst getHardcodedSunSide = (fromAirport, toAirport, isSunrise) => {\n  const routeKey = `${fromAirport}-${toAirport}`;\n  const mapping = CITY_PAIR_SUN_MAPPINGS[routeKey];\n  if (mapping) {\n    return isSunrise ? mapping.sunrise : mapping.sunset;\n  }\n  return null; // No hardcoded mapping found\n};\n\n// Function to calculate smooth circular sun movement based purely on time progression\nconst calculateRealisticSunAzimuth = (timeInMinutes, flightLonDiff, fromAirport, toAirport) => {\n  // Convert 24-hour time to a continuous circular progression (0-360 degrees)\n  // 6 AM = 90° (East), 12 PM = 180° (South), 6 PM = 270° (West), 12 AM = 0° (North)\n\n  const hour = timeInMinutes / 60;\n\n  // Create smooth circular motion: time directly maps to degrees\n  // 24 hours = 360 degrees, so each hour = 15 degrees\n  let sunAzimuth = hour * 15 % 360;\n\n  // Offset so that:\n  // 6 AM (sunrise) = 90° (East)\n  // 12 PM (noon) = 180° (South) \n  // 6 PM (sunset) = 270° (West)\n  // 12 AM (midnight) = 0° (North)\n  sunAzimuth = (sunAzimuth + 90) % 360; // Add 90° offset\n\n  // Get flight bearing to calculate relative position\n  const fromCoords = AIRPORTS[fromAirport];\n  const toCoords = AIRPORTS[toAirport];\n  if (!fromCoords || !toCoords) {\n    // Fallback: direct map coordinates\n    return (sunAzimuth + 180) % 360;\n  }\n\n  // Calculate aircraft heading\n  const dLon = (toCoords[1] - fromCoords[1]) * Math.PI / 180;\n  const lat1Rad = fromCoords[0] * Math.PI / 180;\n  const lat2Rad = toCoords[0] * Math.PI / 180;\n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  let flightBearing = Math.atan2(y, x) * 180 / Math.PI;\n  flightBearing = (flightBearing + 360) % 360;\n\n  // Calculate sun position relative to aircraft's perspective\n  // This creates the effect where the sun appears to move around the plane\n  let relativeSunAzimuth = sunAzimuth - flightBearing + 90;\n  relativeSunAzimuth = (relativeSunAzimuth + 360) % 360;\n\n  // Final map coordinate conversion\n  const mapAzimuth = (relativeSunAzimuth + 180) % 360;\n  console.log(`SMOOTH SUN: Time ${hour.toFixed(1)}h → Sun ${sunAzimuth.toFixed(1)}° → Relative ${relativeSunAzimuth.toFixed(1)}° → Map ${mapAzimuth.toFixed(1)}°`);\n  return mapAzimuth;\n};\n\n// Function to calculate bearing between two points\nconst calculateBearing = (lat1, lon1, lat2, lon2) => {\n  const dLon = (lon2 - lon1) * Math.PI / 180;\n  const lat1Rad = lat1 * Math.PI / 180;\n  const lat2Rad = lat2 * Math.PI / 180;\n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  let bearing = Math.atan2(y, x) * 180 / Math.PI;\n  bearing = (bearing + 360) % 360; // Normalize to 0-360\n\n  // No adjustment needed for custom SVG airplane - it points north by default\n  // The SVG is designed to point upward (0 degrees = north)\n\n  return bearing;\n};\n\n// Function to create rotated airplane icon\nconst createAirplaneIcon = rotation => {\n  return L.divIcon({\n    className: 'custom-airplane-icon',\n    html: `<div style=\"\n      transform: rotate(${rotation}deg); \n      display: flex; \n      align-items: center; \n      justify-content: center; \n      width: 100%; \n      height: 100%;\n      transform-origin: center center;\n    \">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"60\" height=\"60\" style=\"fill: #000000; filter: drop-shadow(0 3px 6px rgba(255,255,255,1.0));\">\n        <!-- Airplane fuselage (main body) - tapered from nose to tail -->\n        <ellipse cx=\"256\" cy=\"300\" rx=\"16\" ry=\"160\"/>\n        \n        <!-- Very thick pointed nose - clearly shows front direction -->\n        <polygon points=\"256,40 225,130 287,130\"/>\n        \n        <!-- Thick cockpit/nose section -->\n        <ellipse cx=\"256\" cy=\"150\" rx=\"25\" ry=\"40\"/>\n        \n        <!-- Forward fuselage (thick front section) -->\n        <ellipse cx=\"256\" cy=\"200\" rx=\"22\" ry=\"30\"/>\n        \n        <!-- Main wings - positioned toward front -->\n        <path d=\"M40 200 L256 160 L472 200 L472 260 L256 220 L40 260 Z\"/>\n        \n        <!-- Wing tip extensions -->\n        <rect x=\"35\" y=\"190\" width=\"20\" height=\"80\" rx=\"3\"/>\n        <rect x=\"457\" y=\"190\" width=\"20\" height=\"80\" rx=\"3\"/>\n        \n        <!-- Horizontal tail stabilizers (smaller, at back) -->\n        <path d=\"M200 420 L256 410 L312 420 L312 440 L256 435 L200 440 Z\"/>\n        \n        <!-- Vertical tail fin (at back) -->\n        <polygon points=\"256,390 245,450 267,450\"/>\n        \n        <!-- Engine details under wings -->\n        <ellipse cx=\"150\" cy=\"230\" rx=\"8\" ry=\"20\"/>\n        <ellipse cx=\"362\" cy=\"230\" rx=\"8\" ry=\"20\"/>\n        \n        <!-- Rear fuselage taper -->\n        <ellipse cx=\"256\" cy=\"450\" rx=\"8\" ry=\"20\"/>\n      </svg>\n    </div>`,\n    iconSize: [60, 60],\n    iconAnchor: [30, 30]\n  });\n};\n\n// InteractiveAirplane component\n\nconst InteractiveAirplane = ({\n  flightData,\n  flightProgress,\n  onPositionChange\n}) => {\n  _s2();\n  const airplaneRef = useRef(null);\n  const getCurrentAirplaneData = () => {\n    if (!flightData || flightData.path.length === 0) return {\n      position: null,\n      rotation: 0\n    };\n\n    // Calculate exact position along the flight path\n    const totalDistance = flightData.path.length - 1;\n    const exactProgress = flightProgress / 100 * totalDistance;\n\n    // Get the two waypoints we're between\n    const currentIndex = Math.floor(exactProgress);\n    const nextIndex = Math.min(currentIndex + 1, flightData.path.length - 1);\n    const currentWaypoint = flightData.path[currentIndex];\n    const nextWaypoint = flightData.path[nextIndex];\n\n    // Calculate the exact position between waypoints (0-1 progress within this segment)\n    const progressInSegment = exactProgress - currentIndex;\n\n    // Interpolate position smoothly between waypoints\n    const lat = currentWaypoint.lat + (nextWaypoint.lat - currentWaypoint.lat) * progressInSegment;\n    const lon = currentWaypoint.lon + (nextWaypoint.lon - currentWaypoint.lon) * progressInSegment;\n\n    // Calculate rotation based on current direction of travel\n    let rotation = 0;\n    if (nextIndex > currentIndex) {\n      // Flying forward - point towards next waypoint\n      rotation = calculateBearing(currentWaypoint.lat, currentWaypoint.lon, nextWaypoint.lat, nextWaypoint.lon);\n    } else {\n      // At the end of the path - use direction from previous to current\n      const prevIndex = Math.max(currentIndex - 1, 0);\n      const prevWaypoint = flightData.path[prevIndex];\n      rotation = calculateBearing(prevWaypoint.lat, prevWaypoint.lon, currentWaypoint.lat, currentWaypoint.lon);\n    }\n    return {\n      position: [lat, lon],\n      rotation: rotation\n    };\n  };\n  const {\n    position: currentPosition,\n    rotation: airplaneRotation\n  } = useMemo(() => getCurrentAirplaneData(), [flightData, flightProgress]);\n  useEffect(() => {\n    if (!flightData || flightData.path.length === 0) return;\n\n    // Calculate smooth position using the same logic as getCurrentAirplaneData\n    const totalDistance = flightData.path.length - 1;\n    const exactProgress = flightProgress / 100 * totalDistance;\n    const currentIndex = Math.floor(exactProgress);\n    const nextIndex = Math.min(currentIndex + 1, flightData.path.length - 1);\n    const currentWaypoint = flightData.path[currentIndex];\n    const nextWaypoint = flightData.path[nextIndex];\n    const progressInSegment = exactProgress - currentIndex;\n\n    // Interpolate position smoothly between waypoints\n    const lat = currentWaypoint.lat + (nextWaypoint.lat - currentWaypoint.lat) * progressInSegment;\n    const lon = currentWaypoint.lon + (nextWaypoint.lon - currentWaypoint.lon) * progressInSegment;\n\n    // Interpolate sun position based on current progress\n    let currentSunPosition = null;\n    if (flightData.sunPositions && flightData.sunPositions.length > 0) {\n      const sunProgress = exactProgress / totalDistance;\n      const sunIndex = Math.floor(sunProgress * (flightData.sunPositions.length - 1));\n      const nextSunIndex = Math.min(sunIndex + 1, flightData.sunPositions.length - 1);\n      const currentSun = flightData.sunPositions[sunIndex];\n      const nextSun = flightData.sunPositions[nextSunIndex];\n      const sunProgressInSegment = sunProgress * (flightData.sunPositions.length - 1) - sunIndex;\n      currentSunPosition = {\n        lat: currentSun.lat + (nextSun.lat - currentSun.lat) * sunProgressInSegment,\n        lon: currentSun.lon + (nextSun.lon - currentSun.lon) * sunProgressInSegment,\n        time: currentSun.time,\n        azimuth: currentSun.azimuth + (nextSun.azimuth - currentSun.azimuth) * sunProgressInSegment,\n        elevation: currentSun.elevation + (nextSun.elevation - currentSun.elevation) * sunProgressInSegment\n      };\n    }\n\n    // Update position callback with smooth position\n    onPositionChange({\n      lat: lat,\n      lon: lon,\n      sunPosition: currentSunPosition\n    });\n\n    // Update map view to follow airplane with smooth animation\n    if (airplaneRef.current) {\n      const leafletElement = airplaneRef.current;\n      const map = leafletElement._map;\n      if (map) {\n        map.setView([lat, lon], map.getZoom(), {\n          animate: true,\n          duration: 0.1 // Very short animation for smooth following\n        });\n      }\n    }\n  }, [flightData, flightProgress, onPositionChange]);\n  if (!currentPosition) return null;\n  return /*#__PURE__*/_jsxDEV(Marker, {\n    ref: airplaneRef,\n    position: currentPosition,\n    icon: createAirplaneIcon(airplaneRotation),\n    draggable: false,\n    interactive: false,\n    bubblingMouseEvents: false,\n    eventHandlers: {\n      dragstart: e => {\n        var _preventDefault, _ref;\n        (_preventDefault = (_ref = e).preventDefault) === null || _preventDefault === void 0 ? void 0 : _preventDefault.call(_ref);\n        return false;\n      },\n      drag: e => {\n        var _preventDefault2, _ref2;\n        (_preventDefault2 = (_ref2 = e).preventDefault) === null || _preventDefault2 === void 0 ? void 0 : _preventDefault2.call(_ref2);\n        return false;\n      },\n      dragend: e => {\n        var _preventDefault3, _ref3;\n        (_preventDefault3 = (_ref3 = e).preventDefault) === null || _preventDefault3 === void 0 ? void 0 : _preventDefault3.call(_ref3);\n        return false;\n      },\n      mousedown: e => {\n        var _e$originalEvent;\n        (_e$originalEvent = e.originalEvent) === null || _e$originalEvent === void 0 ? void 0 : _e$originalEvent.preventDefault();\n        return false;\n      },\n      mouseup: e => {\n        var _e$originalEvent2;\n        (_e$originalEvent2 = e.originalEvent) === null || _e$originalEvent2 === void 0 ? void 0 : _e$originalEvent2.preventDefault();\n        return false;\n      },\n      mousemove: e => {\n        var _e$originalEvent3;\n        (_e$originalEvent3 = e.originalEvent) === null || _e$originalEvent3 === void 0 ? void 0 : _e$originalEvent3.preventDefault();\n        return false;\n      },\n      add: () => {\n        if (airplaneRef.current) {\n          const element = airplaneRef.current.getElement();\n          if (element) {\n            element.style.pointerEvents = 'none';\n            element.style.userSelect = 'none';\n            element.style.touchAction = 'none';\n            element.draggable = false;\n          }\n        }\n      }\n    },\n    children: /*#__PURE__*/_jsxDEV(Popup, {\n      children: [\"Airplane Position\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2521,\n        columnNumber: 26\n      }, this), \"Use the timeline slider to move me!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2520,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2493,\n    columnNumber: 5\n  }, this);\n};\n\n// Page enum for navigation\n_s2(InteractiveAirplane, \"PgOkJdpqgD4O2bJUiKF3WjzNbMY=\");\n_c2 = InteractiveAirplane;\nvar AppPage = /*#__PURE__*/function (AppPage) {\n  AppPage[\"SEARCH\"] = \"search\";\n  AppPage[\"RESULTS\"] = \"results\";\n  AppPage[\"EXPERIENCE\"] = \"experience\";\n  return AppPage;\n}(AppPage || {}); // Navigation Component\nconst Navigation = ({\n  currentPage,\n  onPageChange\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    style: {\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      padding: '15px 0',\n      boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n      position: 'sticky',\n      top: 0,\n      zIndex: 1000\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '1200px',\n        margin: '0 auto',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '0 20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px',\n          color: 'white',\n          fontSize: '24px',\n          fontWeight: 'bold'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u2708\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2568,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"FlightSeat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2569,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2560,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onPageChange(AppPage.SEARCH),\n          style: {\n            background: currentPage === AppPage.SEARCH ? 'rgba(255,255,255,0.3)' : 'transparent',\n            border: 'none',\n            color: 'white',\n            padding: '12px 24px',\n            borderRadius: '25px',\n            fontSize: '16px',\n            fontWeight: '500',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          onMouseEnter: e => {\n            if (currentPage !== AppPage.SEARCH) {\n              e.currentTarget.style.background = 'rgba(255,255,255,0.2)';\n            }\n          },\n          onMouseLeave: e => {\n            if (currentPage !== AppPage.SEARCH) {\n              e.currentTarget.style.background = 'transparent';\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83C\\uDFE0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2604,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2605,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2577,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onPageChange(AppPage.EXPERIENCE),\n          style: {\n            background: currentPage === AppPage.EXPERIENCE ? 'rgba(255,255,255,0.3)' : 'transparent',\n            border: 'none',\n            color: 'white',\n            padding: '12px 24px',\n            borderRadius: '25px',\n            fontSize: '16px',\n            fontWeight: '500',\n            cursor: 'pointer',\n            transition: 'all 0.3s ease',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          onMouseEnter: e => {\n            if (currentPage !== AppPage.EXPERIENCE) {\n              e.currentTarget.style.background = 'rgba(255,255,255,0.2)';\n            }\n          },\n          onMouseLeave: e => {\n            if (currentPage !== AppPage.EXPERIENCE) {\n              e.currentTarget.style.background = 'transparent';\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83E\\uDE91\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2635,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Experience Inside Plane\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2636,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2608,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2573,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2551,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 2543,\n    columnNumber: 5\n  }, this);\n};\n\n// ExperiencePage Component\n_c3 = Navigation;\nconst ExperiencePage = ({\n  onBack\n}) => {\n  _s3();\n  const [selectedSeat, setSelectedSeat] = useState('');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      overflow: 'hidden',\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onBack,\n      style: {\n        position: 'absolute',\n        top: '20px',\n        left: '20px',\n        zIndex: 1000,\n        background: 'rgba(255, 255, 255, 0.95)',\n        border: 'none',\n        borderRadius: '8px',\n        padding: '12px 16px',\n        fontSize: '16px',\n        fontWeight: '500',\n        cursor: 'pointer',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px',\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n        transition: 'all 0.3s ease',\n        color: '#2c3e50'\n      },\n      onMouseEnter: e => {\n        e.currentTarget.style.background = 'rgba(255, 255, 255, 1)';\n        e.currentTarget.style.transform = 'translateY(-2px)';\n      },\n      onMouseLeave: e => {\n        e.currentTarget.style.background = 'rgba(255, 255, 255, 0.95)';\n        e.currentTarget.style.transform = 'translateY(0)';\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u2190\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2685,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Back to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2686,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2655,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AirplaneExperience, {\n      selectedSeat: selectedSeat,\n      onSeatChange: setSelectedSeat\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2689,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2653,\n    columnNumber: 5\n  }, this);\n};\n\n// SearchPage Component\n_s3(ExperiencePage, \"tpRpQrKDbHxVTPIxs0m4ouTDw+c=\");\n_c4 = ExperiencePage;\nconst SearchPage = ({\n  fromAirport,\n  setFromAirport,\n  toAirport,\n  setToAirport,\n  departureTime,\n  setDepartureTime,\n  flightDuration,\n  setFlightDuration,\n  loading,\n  error,\n  onSubmit,\n  formatTimeDisplay,\n  getFlightEndTime\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u2708\\uFE0F SunSide - Perfect Window Seat Finder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2723,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Find the best window seat for sunrise and sunset views during your flight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2724,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2722,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"search-main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-form card-elevated slide-up\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uD83C\\uDFAF Plan Your Journey\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2731,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Enter your flight details to get personalized seat recommendations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2732,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 2730,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: onSubmit,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-left-column\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-section\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"section-title\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"section-icon\",\n                      children: \"\\uD83D\\uDEEB\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2741,\n                      columnNumber: 23\n                    }, this), \"Flight Details\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2740,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-grid\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"input-label\",\n                        htmlFor: \"fromAirport\",\n                        children: \"From Airport\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2747,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"input-field\",\n                        id: \"fromAirport\",\n                        value: fromAirport,\n                        onChange: e => setFromAirport(e.target.value),\n                        required: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select departure\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2755,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                          label: \"\\uD83C\\uDDEE\\uD83C\\uDDF3 Indian Cities\",\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"DEL\",\n                            children: \"\\uD83C\\uDFDB\\uFE0F Delhi (DEL)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2757,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"JAI\",\n                            children: \"\\uD83C\\uDFF0 Jaipur (JAI)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2758,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"BLR\",\n                            children: \"\\uD83C\\uDF06 Bangalore (BLR)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2759,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"BOM\",\n                            children: \"\\uD83C\\uDFD9\\uFE0F Mumbai (BOM)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2760,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"BHO\",\n                            children: \"\\uD83C\\uDF38 Bhopal (BHO)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2761,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"LKO\",\n                            children: \"\\uD83D\\uDD4C Lucknow (LKO)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2762,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2756,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                          label: \"\\uD83C\\uDF0D International Cities\",\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"JFK\",\n                            children: \"\\uD83D\\uDDFD New York (JFK)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2765,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"LHR\",\n                            children: \"\\uD83C\\uDDEC\\uD83C\\uDDE7 London (LHR)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2766,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"NRT\",\n                            children: \"\\uD83D\\uDDFE Tokyo (NRT)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2767,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"LAX\",\n                            children: \"\\uD83C\\uDF34 Los Angeles (LAX)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2768,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"DXB\",\n                            children: \"\\uD83C\\uDFDC\\uFE0F Dubai (DXB)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2769,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"SIN\",\n                            children: \"\\uD83C\\uDF3A Singapore (SIN)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2770,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"SYD\",\n                            children: \"\\uD83E\\uDD98 Sydney (SYD)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2771,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"CDG\",\n                            children: \"\\uD83D\\uDDFC Paris (CDG)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2772,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"FRA\",\n                            children: \"\\uD83C\\uDDE9\\uD83C\\uDDEA Frankfurt (FRA)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2773,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"HKG\",\n                            children: \"\\uD83C\\uDFD9\\uFE0F Hong Kong (HKG)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2774,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"ICN\",\n                            children: \"\\uD83C\\uDDF0\\uD83C\\uDDF7 Seoul (ICN)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2775,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"BKK\",\n                            children: \"\\uD83C\\uDDF9\\uD83C\\uDDED Bangkok (BKK)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2776,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"DOH\",\n                            children: \"\\uD83C\\uDFFA Doha (DOH)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2777,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"IST\",\n                            children: \"\\uD83D\\uDD4C Istanbul (IST)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2778,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"MAD\",\n                            children: \"\\uD83C\\uDDEA\\uD83C\\uDDF8 Madrid (MAD)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2779,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2764,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2748,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2746,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"input-label\",\n                        htmlFor: \"toAirport\",\n                        children: \"To Airport\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2785,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"input-field\",\n                        id: \"toAirport\",\n                        value: toAirport,\n                        onChange: e => setToAirport(e.target.value),\n                        required: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select destination\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2793,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                          label: \"\\uD83C\\uDDEE\\uD83C\\uDDF3 Indian Cities\",\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"DEL\",\n                            children: \"\\uD83C\\uDFDB\\uFE0F Delhi (DEL)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2795,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"JAI\",\n                            children: \"\\uD83C\\uDFF0 Jaipur (JAI)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2796,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"BLR\",\n                            children: \"\\uD83C\\uDF06 Bangalore (BLR)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2797,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"BOM\",\n                            children: \"\\uD83C\\uDFD9\\uFE0F Mumbai (BOM)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2798,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"BHO\",\n                            children: \"\\uD83C\\uDF38 Bhopal (BHO)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2799,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"LKO\",\n                            children: \"\\uD83D\\uDD4C Lucknow (LKO)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2800,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2794,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n                          label: \"\\uD83C\\uDF0D International Cities\",\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"JFK\",\n                            children: \"\\uD83D\\uDDFD New York (JFK)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2803,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"LHR\",\n                            children: \"\\uD83C\\uDDEC\\uD83C\\uDDE7 London (LHR)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2804,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"NRT\",\n                            children: \"\\uD83D\\uDDFE Tokyo (NRT)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2805,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"LAX\",\n                            children: \"\\uD83C\\uDF34 Los Angeles (LAX)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2806,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"DXB\",\n                            children: \"\\uD83C\\uDFDC\\uFE0F Dubai (DXB)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2807,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"SIN\",\n                            children: \"\\uD83C\\uDF3A Singapore (SIN)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2808,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"SYD\",\n                            children: \"\\uD83E\\uDD98 Sydney (SYD)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2809,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"CDG\",\n                            children: \"\\uD83D\\uDDFC Paris (CDG)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2810,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"FRA\",\n                            children: \"\\uD83C\\uDDE9\\uD83C\\uDDEA Frankfurt (FRA)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2811,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"HKG\",\n                            children: \"\\uD83C\\uDFD9\\uFE0F Hong Kong (HKG)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2812,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"ICN\",\n                            children: \"\\uD83C\\uDDF0\\uD83C\\uDDF7 Seoul (ICN)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2813,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"BKK\",\n                            children: \"\\uD83C\\uDDF9\\uD83C\\uDDED Bangkok (BKK)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2814,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"DOH\",\n                            children: \"\\uD83C\\uDFFA Doha (DOH)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2815,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"IST\",\n                            children: \"\\uD83D\\uDD4C Istanbul (IST)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2816,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"MAD\",\n                            children: \"\\uD83C\\uDDEA\\uD83C\\uDDF8 Madrid (MAD)\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2817,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2802,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2786,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2784,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2745,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-grid\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"input-label\",\n                        htmlFor: \"departureTime\",\n                        children: \"Departure Date & Time\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2825,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"input-field\",\n                        type: \"datetime-local\",\n                        id: \"departureTime\",\n                        value: departureTime,\n                        onChange: e => setDepartureTime(e.target.value),\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2826,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2824,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        className: \"input-label\",\n                        htmlFor: \"flightDuration\",\n                        children: \"Flight Duration (minutes)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2837,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"input-field\",\n                        type: \"number\",\n                        id: \"flightDuration\",\n                        min: \"30\",\n                        max: \"1440\",\n                        step: \"1\",\n                        value: flightDuration,\n                        onChange: e => {\n                          const value = e.target.value;\n                          if (value === '') {\n                            setFlightDuration('');\n                          } else {\n                            const intValue = parseInt(value, 10);\n                            if (!isNaN(intValue)) {\n                              setFlightDuration(intValue);\n                            }\n                          }\n                        },\n                        placeholder: \"e.g., 120 (2 hours)\",\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2838,\n                        columnNumber: 25\n                      }, this), departureTime && flightDuration && /*#__PURE__*/_jsxDEV(\"small\", {\n                        className: \"duration-help\",\n                        style: {\n                          marginTop: '8px',\n                          display: 'block',\n                          color: 'var(--text-muted)',\n                          fontSize: '0.875rem'\n                        },\n                        children: [\"Flight time: \", formatTimeDisplay(new Date(departureTime)), \" \\u2192 \", formatTimeDisplay(getFlightEndTime()), \"(\", Math.floor(Number(flightDuration) / 60), \"h \", Number(flightDuration) % 60, \"m)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2861,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2836,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2823,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2739,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2738,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-right-column\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-section\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flight-tips-card\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"section-icon\",\n                        children: \"\\uD83D\\uDCA1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2881,\n                        columnNumber: 25\n                      }, this), \"Flight Seat Tips\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2880,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"tips-content\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"tip-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"tip-icon\",\n                          children: \"\\uD83C\\uDF05\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2886,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"tip-text\",\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Best Sunrise Views:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2888,\n                            columnNumber: 29\n                          }, this), \" East-facing windows during morning flights\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2887,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2885,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"tip-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"tip-icon\",\n                          children: \"\\uD83C\\uDF07\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2892,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"tip-text\",\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Best Sunset Views:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2894,\n                            columnNumber: 29\n                          }, this), \" West-facing windows during evening flights\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2893,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2891,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"tip-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"tip-icon\",\n                          children: \"\\uD83D\\uDDFA\\uFE0F\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2898,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"tip-text\",\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Flight Direction:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2900,\n                            columnNumber: 29\n                          }, this), \" Our algorithm considers your exact route for precise recommendations\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2899,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2897,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"tip-item\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"tip-icon\",\n                          children: \"\\u23F0\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2904,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"tip-text\",\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Timing Matters:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 2906,\n                            columnNumber: 29\n                          }, this), \" Sun position changes throughout your flight duration\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 2905,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 2903,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2884,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2879,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2878,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 2872,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-submit-section\",\n                children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"error\",\n                  style: {\n                    marginBottom: 'var(--space-4)'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"error-icon\",\n                    children: \"\\u26A0\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 2918,\n                    columnNumber: 23\n                  }, this), error]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2917,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary btn-lg\",\n                  disabled: loading,\n                  style: {\n                    width: '100%'\n                  },\n                  children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"loading-spinner\",\n                      style: {\n                        width: '20px',\n                        height: '20px',\n                        border: '2px solid rgba(255,255,255,0.3)',\n                        borderTop: '2px solid white'\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 2931,\n                      columnNumber: 25\n                    }, this), \"Finding your perfect seat...\"]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: \"\\uD83D\\uDD0D Find My Perfect Seat\"\n                  }, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 2923,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 2915,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 2736,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2735,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2729,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2728,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2727,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2721,\n    columnNumber: 5\n  }, this);\n};\n\n// ResultsPage Component\n_c5 = SearchPage;\n// Calculate actual astronomical sunrise and sunset times during flight\nconst getOptimalPeriodsInFlight = (departureTime, flightDuration, flightData) => {\n  var _flightData$path, _flightData$sunPositi;\n  if (!departureTime || !flightDuration || !(flightData !== null && flightData !== void 0 && (_flightData$path = flightData.path) !== null && _flightData$path !== void 0 && _flightData$path.length)) {\n    return {\n      sunrise: false,\n      sunset: false,\n      details: []\n    };\n  }\n  const startTime = new Date(departureTime);\n  const endTime = new Date(startTime.getTime() + (typeof flightDuration === 'number' ? flightDuration * 60 * 60 * 1000 : 0));\n  const details = [];\n  let sunriseInFlight = false;\n  let sunsetInFlight = false;\n  let sunriseTime;\n  let sunsetTime;\n  let sunriseProgress;\n  let sunsetProgress;\n\n  // Check each waypoint for sunrise/sunset during flight\n  console.log('Checking sun positions for sunrise/sunset...');\n  console.log('Flight start time:', startTime);\n  console.log('Flight end time:', endTime);\n  console.log('Sun positions count:', ((_flightData$sunPositi = flightData.sunPositions) === null || _flightData$sunPositi === void 0 ? void 0 : _flightData$sunPositi.length) || 0);\n  if (flightData.sunPositions) {\n    flightData.sunPositions.forEach((sunPos, index) => {\n      const currentTime = new Date(sunPos.time);\n      const prevSunPos = index > 0 ? flightData.sunPositions[index - 1] : null;\n      console.log(`Waypoint ${index}: ${currentTime.toISOString()}, elevation: ${sunPos.elevation}°`);\n      if (currentTime >= startTime && currentTime <= endTime) {\n        // For the first waypoint, consider if sun is already rising (elevation > -10°)\n        if (index === 0 && sunPos.elevation > -10 && sunPos.elevation < 10 && !sunriseInFlight) {\n          sunriseInFlight = true;\n          sunriseTime = currentTime;\n          sunriseProgress = index / (flightData.path.length - 1) * 100;\n          // Removed: details.push(`🌅 Golden hour/Sunrise conditions at takeoff ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`);\n          console.log('Sunrise detected at takeoff');\n        }\n\n        // Check for horizon crossings between waypoints\n        if (prevSunPos) {\n          // Check for sunrise (sun elevation crosses from below to above horizon)\n          if (prevSunPos.elevation <= 0 && sunPos.elevation > 0 && !sunriseInFlight) {\n            sunriseInFlight = true;\n            sunriseTime = currentTime;\n            sunriseProgress = index / (flightData.path.length - 1) * 100;\n            details.push(`🌅 Sunrise at ${currentTime.toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })} during flight`);\n            console.log('Sunrise detected - horizon crossing');\n          }\n\n          // Check for sunset (sun elevation crosses from above to below horizon)\n          if (prevSunPos.elevation > 0 && sunPos.elevation <= 0 && !sunsetInFlight) {\n            sunsetInFlight = true;\n            sunsetTime = currentTime;\n            sunsetProgress = index / (flightData.path.length - 1) * 100;\n            // Removed: details.push(`🌇 Sunset at ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} during flight`);\n            console.log('Sunset detected - horizon crossing');\n          }\n        }\n      }\n    });\n  }\n\n  // If no exact crossing found, check for golden hour periods and sun conditions\n  if (!sunriseInFlight || !sunsetInFlight) {\n    flightData.sunPositions.forEach((sunPos, index) => {\n      const currentTime = new Date(sunPos.time);\n      const prevSunPos = index > 0 ? flightData.sunPositions[index - 1] : null;\n      if (currentTime >= startTime && currentTime <= endTime) {\n        // Check for morning conditions (sunrise-like)\n        if (!sunriseInFlight) {\n          // Early morning with low sun (good for sunrise viewing)\n          if (sunPos.elevation > -5 && sunPos.elevation < 15) {\n            const hour = currentTime.getHours();\n            if (hour >= 5 && hour <= 9) {\n              // Morning hours\n              sunriseInFlight = true;\n              sunriseTime = currentTime;\n              sunriseProgress = index / (flightData.path.length - 1) * 100;\n              details.push(`🌅 Morning golden hour at ${currentTime.toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })}`);\n            }\n          }\n\n          // Golden hour transition (sun crosses 10° elevation upward)\n          if (prevSunPos && prevSunPos.elevation <= 10 && sunPos.elevation > 10) {\n            sunriseInFlight = true;\n            sunriseTime = currentTime;\n            sunriseProgress = index / (flightData.path.length - 1) * 100;\n            details.push(`🌅 Golden hour begins at ${currentTime.toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })}`);\n          }\n        }\n\n        // Check for evening conditions (sunset-like)\n        if (!sunsetInFlight) {\n          // Evening with low sun (good for sunset viewing)\n          if (sunPos.elevation > -5 && sunPos.elevation < 15) {\n            const hour = currentTime.getHours();\n            if (hour >= 17 && hour <= 21) {\n              // Evening hours\n              sunsetInFlight = true;\n              sunsetTime = currentTime;\n              sunsetProgress = index / (flightData.path.length - 1) * 100;\n              details.push(`🌇 Evening golden hour at ${currentTime.toLocaleTimeString([], {\n                hour: '2-digit',\n                minute: '2-digit'\n              })}`);\n            }\n          }\n\n          // Golden hour transition (sun crosses 10° elevation downward)\n          if (prevSunPos && prevSunPos.elevation > 10 && sunPos.elevation <= 10) {\n            sunsetInFlight = true;\n            sunsetTime = currentTime;\n            sunsetProgress = index / (flightData.path.length - 1) * 100;\n            details.push(`🌇 Golden hour begins at ${currentTime.toLocaleTimeString([], {\n              hour: '2-digit',\n              minute: '2-digit'\n            })}`);\n          }\n        }\n      }\n    });\n  }\n  return {\n    sunrise: sunriseInFlight,\n    sunset: sunsetInFlight,\n    details,\n    sunriseTime,\n    sunsetTime,\n    sunriseProgress,\n    sunsetProgress\n  };\n};\nconst ResultsPage = ({\n  flightData,\n  fromAirport,\n  toAirport,\n  currentPosition,\n  currentSunPosition,\n  flightProgress,\n  handleProgressChange,\n  handlePositionChange,\n  isDragging,\n  handleMouseDown,\n  handleClick,\n  onBack,\n  departureTime,\n  flightDuration\n}) => {\n  _s4();\n  var _currentPosition$lat$, _currentPosition$lat, _currentPosition$lon$, _currentPosition$lon, _currentSunPosition$e2, _currentSunPosition$e3, _currentSunPosition$a2, _currentSunPosition$a3, _currentSunPosition$e4;\n  // Resizable layout state\n  const [mapWidth, setMapWidth] = useState(60); // 60% default width for map\n  const [isDraggingResize, setIsDraggingResize] = useState(false);\n\n  // Resize handler for the divider\n  const handleResizeMouseDown = e => {\n    e.preventDefault();\n    setIsDraggingResize(true);\n    const handleMouseMove = e => {\n      const containerWidth = window.innerWidth;\n      const newMapWidth = e.clientX / containerWidth * 100;\n\n      // Constrain between 30% and 80%\n      const constrainedWidth = Math.max(30, Math.min(80, newMapWidth));\n      setMapWidth(constrainedWidth);\n    };\n    const handleMouseUp = () => {\n      setIsDraggingResize(false);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Smart tooltip positioning to prevent off-screen tooltips\n  React.useEffect(() => {\n    const adjustTooltipPositions = () => {\n      const tooltipContainers = document.querySelectorAll('.sun-tooltip-container');\n      tooltipContainers.forEach(container => {\n        const rect = container.getBoundingClientRect();\n        const viewportWidth = window.innerWidth;\n\n        // Remove existing positioning classes\n        container.classList.remove('tooltip-left', 'tooltip-right');\n\n        // If tooltip would go off the right edge\n        if (rect.right > viewportWidth - 150) {\n          container.classList.add('tooltip-right');\n        }\n        // If tooltip would go off the left edge\n        else if (rect.left < 150) {\n          container.classList.add('tooltip-left');\n        }\n      });\n    };\n\n    // Adjust on mount and window resize\n    adjustTooltipPositions();\n    window.addEventListener('resize', adjustTooltipPositions);\n    return () => window.removeEventListener('resize', adjustTooltipPositions);\n  }, [currentSunPosition, flightProgress]);\n  if (!flightData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: \"No flight data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3175,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3174,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"results-page fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"results-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"back-btn\",\n        children: \"\\u2190 Back to Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-header-content\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\u2708\\uFE0F Flight Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3187,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 3186,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 3182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"results-main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-section\",\n          style: {\n            width: `${mapWidth}%`\n          },\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: [28.6139, 77.2090],\n            zoom: 6,\n            style: {\n              height: '100vh',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n              attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3199,\n              columnNumber: 15\n            }, this), flightData.path && flightData.path.length > 1 && /*#__PURE__*/_jsxDEV(Polyline, {\n              positions: flightData.path.map(wp => [wp.lat, wp.lon]),\n              color: \"blue\",\n              weight: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3205,\n              columnNumber: 17\n            }, this), flightData.path && flightData.path.length > 0 && /*#__PURE__*/_jsxDEV(Marker, {\n              position: [flightData.path[0].lat, flightData.path[0].lon],\n              icon: L.divIcon({\n                className: 'custom-marker from-marker',\n                html: '<div style=\"background: green; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;\"></div>',\n                iconSize: [20, 20],\n                iconAnchor: [10, 10]\n              }),\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: [\"Departure: \", fromAirport]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3222,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3213,\n              columnNumber: 17\n            }, this), flightData.path && flightData.path.length > 0 && /*#__PURE__*/_jsxDEV(Marker, {\n              position: [flightData.path[flightData.path.length - 1].lat, flightData.path[flightData.path.length - 1].lon],\n              icon: L.divIcon({\n                className: 'custom-marker to-marker',\n                html: '<div style=\"background: red; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;\"></div>',\n                iconSize: [20, 20],\n                iconAnchor: [10, 10]\n              }),\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: [\"Arrival: \", toAirport]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3236,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InteractiveAirplane, {\n              flightData: flightData,\n              flightProgress: flightProgress,\n              onPositionChange: handlePositionChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 3240,\n              columnNumber: 15\n            }, this), currentPosition && currentSunPosition && flightData && ((_currentSunPosition$a, _currentSunPosition$e) => {\n              // Calculate pure flight bearing for reference\n              const startPoint = flightData.path[0];\n              const endPoint = flightData.path[flightData.path.length - 1];\n              const dLon = (endPoint.lon - startPoint.lon) * Math.PI / 180;\n              const lat1Rad = startPoint.lat * Math.PI / 180;\n              const lat2Rad = endPoint.lat * Math.PI / 180;\n              const y = Math.sin(dLon) * Math.cos(lat2Rad);\n              const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n              let flightBearing = Math.atan2(y, x) * 180 / Math.PI;\n              flightBearing = (flightBearing + 360) % 360; // Normalize to 0-360\n\n              // Use REAL sun azimuth from astronomical calculations\n              // SunCalc: South=0°, West=+90°, North=180°/-180°, East=-90°\n              // Map: North=0°, East=90°, South=180°, West=270°\n              // Convert: Add 180° to shift from South=0° to North=0°\n              let sunBearing = (currentSunPosition.azimuth + 180) % 360;\n\n              // Position sun using real azimuth and elevation\n              // Distance from airplane based on elevation (higher sun = farther for better visibility)\n              const elevationDegrees = currentSunPosition.elevation;\n              const sunDistance = Math.max(0.3, 0.8 + (90 - Math.abs(elevationDegrees)) / 180); // 0.3 to 1.3 degrees\n\n              // Convert bearing to map coordinates\n              const sunLat = currentPosition.lat + Math.cos(sunBearing * Math.PI / 180) * sunDistance;\n              const sunLon = currentPosition.lon + Math.sin(sunBearing * Math.PI / 180) * sunDistance;\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Marker, {\n                  position: [sunLat, sunLon],\n                  icon: L.divIcon({\n                    className: 'sun-marker',\n                    html: `\n                          <div class=\"map-sun-marker\" style=\"\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            width: 40px;\n                            height: 40px;\n                            background: ${elevationDegrees < 0 ? 'radial-gradient(circle, #4a5568 30%, #2d3748 60%, #1a202c 100%)' : elevationDegrees < 10 ? 'radial-gradient(circle, #ff8c00 30%, #ff6b35 60%, #e53e3e 100%)' : 'radial-gradient(circle, #ffd700 30%, #ffed4e 60%, #ff8c00 100%)'};\n                            border-radius: 50%;\n                            border: 3px solid #fff;\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 0 40px rgba(255, 215, 0, 0.3);\n                            position: relative;\n                            font-size: 20px;\n                            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);\n                            cursor: pointer;\n                            transition: all 0.3s ease;\n                          \" title=\"${elevationDegrees < 0 ? `🌙 Nighttime • ${Math.abs(elevationDegrees).toFixed(1)}° below horizon` : elevationDegrees < 10 ? `🌅 Golden Hour • ${elevationDegrees.toFixed(1)}° above horizon` : `☀️ Daylight • ${elevationDegrees.toFixed(1)}° above horizon`}\">\n                            ${elevationDegrees < 0 ? '🌙' : elevationDegrees < 10 ? '🌅' : '☀️'}\n                            <div style=\"\n                              position: absolute;\n                              width: 60px;\n                              height: 60px;\n                              border: 2px solid #ffd700;\n                              border-radius: 50%;\n                              border-style: dashed;\n                              animation: rotate 8s linear infinite;\n                              opacity: 0.4;\n                            \"></div>\n                            <div class=\"map-sun-tooltip\" style=\"\n                              position: absolute;\n                              bottom: 120%;\n                              left: 50%;\n                              transform: translateX(-50%);\n                              background: rgba(0, 0, 0, 0.9);\n                              color: white;\n                              padding: 8px 12px;\n                              border-radius: 6px;\n                              font-size: 12px;\n                              white-space: nowrap;\n                              z-index: 1000;\n                              opacity: 0;\n                              visibility: hidden;\n                              transition: opacity 0.3s ease, visibility 0.3s ease;\n                              pointer-events: none;\n                              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                            \">\n                              ${elevationDegrees < 0 ? `🌙 Nighttime • ${Math.abs(elevationDegrees).toFixed(1)}° below horizon` : elevationDegrees < 10 ? `🌅 Golden Hour • ${elevationDegrees.toFixed(1)}° above horizon` : `☀️ Daylight • ${elevationDegrees.toFixed(1)}° above horizon`}\n                            </div>\n                          </div>\n                          <style>\n                            @keyframes rotate {\n                              from { transform: rotate(0deg); }\n                              to { transform: rotate(360deg); }\n                            }\n                            .map-sun-marker:hover {\n                              transform: scale(1.1) !important;\n                            }\n                            .map-sun-marker:hover .map-sun-tooltip {\n                              opacity: 1 !important;\n                              visibility: visible !important;\n                            }\n                          </style>\n                        `,\n                    iconSize: [40, 40],\n                    iconAnchor: [20, 20]\n                  }),\n                  children: /*#__PURE__*/_jsxDEV(Popup, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u2600\\uFE0F Real Sun Position\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3367,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3367,\n                        columnNumber: 64\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Recommended Seat:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3368,\n                        columnNumber: 27\n                      }, this), \" \", flightData.recommendation === 'left' ? 'Left' : 'Right', \" Side\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3368,\n                        columnNumber: 124\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Sun Azimuth:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3369,\n                        columnNumber: 27\n                      }, this), \" \", (_currentSunPosition$a = currentSunPosition.azimuth) === null || _currentSunPosition$a === void 0 ? void 0 : _currentSunPosition$a.toFixed(1), \"\\xB0 (from South)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3369,\n                        columnNumber: 111\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Sun Elevation:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3370,\n                        columnNumber: 27\n                      }, this), \" \", (_currentSunPosition$e = currentSunPosition.elevation) === null || _currentSunPosition$e === void 0 ? void 0 : _currentSunPosition$e.toFixed(1), \"\\xB0 (above horizon)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3370,\n                        columnNumber: 118\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Map Bearing:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3371,\n                        columnNumber: 27\n                      }, this), \" \", sunBearing.toFixed(1), \"\\xB0 (from North)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3371,\n                        columnNumber: 94\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Flight Direction:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3372,\n                        columnNumber: 27\n                      }, this), \" \", flightBearing.toFixed(1), \"\\xB0\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3372,\n                        columnNumber: 89\n                      }, this), elevationDegrees < 0 && /*#__PURE__*/_jsxDEV(\"em\", {\n                        style: {\n                          color: '#ff6b6b'\n                        },\n                        children: \"Sun below horizon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3373,\n                        columnNumber: 52\n                      }, this), elevationDegrees >= 0 && elevationDegrees < 10 && /*#__PURE__*/_jsxDEV(\"em\", {\n                        style: {\n                          color: '#ffa500'\n                        },\n                        children: \"Sun near horizon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3374,\n                        columnNumber: 78\n                      }, this), elevationDegrees >= 10 && /*#__PURE__*/_jsxDEV(\"em\", {\n                        style: {\n                          color: '#4dabf7'\n                        },\n                        children: \"Sun well above horizon\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3375,\n                        columnNumber: 54\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3366,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3365,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3279,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n                  positions: [[currentPosition.lat, currentPosition.lon], [sunLat, sunLon]],\n                  color: \"#ffd700\",\n                  weight: 3,\n                  opacity: 0.8,\n                  dashArray: \"10, 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3381,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true);\n            })(), flightData.path && (() => {\n              const visibleMountains = getMountainsVisibleFromPath(flightData.path, 200);\n              return visibleMountains.map(mountainKey => {\n                const mountain = MOUNTAINS[mountainKey];\n                return /*#__PURE__*/_jsxDEV(Marker, {\n                  position: [mountain.lat, mountain.lon],\n                  icon: L.divIcon({\n                    className: 'mountain-marker',\n                    html: `\n                          <div class=\"map-mountain-marker\" style=\"\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            width: 35px;\n                            height: 35px;\n                            background: linear-gradient(135deg, #8B4513 0%, #D2691E  30%, #F4A460 60%, #FFFFFF 85%);\n                            border-radius: 8px 8px 20px 20px;\n                            border: 2px solid #654321;\n                            box-shadow: 0 4px 12px rgba(139, 69, 19, 0.5), 0 2px 6px rgba(0, 0, 0, 0.3);\n                            position: relative;\n                            font-size: 16px;\n                            cursor: pointer;\n                            transition: all 0.3s ease;\n                            transform-origin: bottom center;\n                          \" title=\"${mountain.name} • ${mountain.elevation}m • ${mountain.region}\">\n                            🏔️\n                            <div style=\"\n                              position: absolute;\n                              width: 45px;\n                              height: 45px;\n                              border: 2px solid #8B4513;\n                              border-radius: 8px;\n                              border-style: dashed;\n                              animation: pulse 3s ease-in-out infinite;\n                              opacity: 0.3;\n                            \"></div>\n                            <div class=\"map-mountain-tooltip\" style=\"\n                              position: absolute;\n                              bottom: 120%;\n                              left: 50%;\n                              transform: translateX(-50%);\n                              background: rgba(139, 69, 19, 0.95);\n                              color: white;\n                              padding: 10px 14px;\n                              border-radius: 8px;\n                              font-size: 12px;\n                              white-space: nowrap;\n                              z-index: 1000;\n                              opacity: 0;\n                              visibility: hidden;\n                              transition: opacity 0.3s ease, visibility 0.3s ease;\n                              pointer-events: none;\n                              box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n                              border: 1px solid #F4A460;\n                            \">\n                              <div style=\"font-weight: bold; margin-bottom: 4px;\">🏔️ ${mountain.name}</div>\n                              <div style=\"font-size: 11px; opacity: 0.9;\">\n                                📏 ${mountain.elevation.toLocaleString()}m elevation<br/>\n                                🗺️ ${mountain.region}\n                              </div>\n                              <div style=\"\n                                position: absolute;\n                                top: 100%;\n                                left: 50%;\n                                transform: translateX(-50%);\n                                width: 0;\n                                height: 0;\n                                border-left: 6px solid transparent;\n                                border-right: 6px solid transparent;\n                                border-top: 6px solid rgba(139, 69, 19, 0.95);\n                              \"></div>\n                            </div>\n                          </div>\n                          <style>\n                            @keyframes pulse {\n                              0%, 100% { transform: scale(1); opacity: 0.3; }\n                              50% { transform: scale(1.1); opacity: 0.6; }\n                            }\n                            .map-mountain-marker:hover {\n                              transform: scale(1.15) !important;\n                              box-shadow: 0 6px 20px rgba(139, 69, 19, 0.7), 0 3px 10px rgba(0, 0, 0, 0.4) !important;\n                            }\n                            .map-mountain-marker:hover .map-mountain-tooltip {\n                              opacity: 1 !important;\n                              visibility: visible !important;\n                            }\n                          </style>\n                        `,\n                    iconSize: [35, 35],\n                    iconAnchor: [17, 35]\n                  }),\n                  children: /*#__PURE__*/_jsxDEV(Popup, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        minWidth: '200px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        style: {\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: '8px',\n                          marginBottom: '8px'\n                        },\n                        children: [\"\\uD83C\\uDFD4\\uFE0F \", mountain.name]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3494,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: '13px',\n                          lineHeight: '1.5'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Elevation:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3498,\n                            columnNumber: 34\n                          }, this), \" \", mountain.elevation.toLocaleString(), \"m\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3498,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"Region:\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3499,\n                            columnNumber: 34\n                          }, this), \" \", mountain.region]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3499,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            marginTop: '8px',\n                            padding: '8px',\n                            background: '#f0f8ff',\n                            borderRadius: '4px',\n                            fontSize: '12px'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: \"\\uD83D\\uDD2D Mountain View Available\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3501,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3501,\n                            columnNumber: 74\n                          }, this), \"This peak is visible from your flight path!\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3500,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3497,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3493,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3492,\n                    columnNumber: 23\n                  }, this)\n                }, mountainKey, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3403,\n                  columnNumber: 21\n                }, this);\n              });\n            })()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `resize-divider ${isDraggingResize ? 'dragging' : ''}`,\n          onMouseDown: handleResizeMouseDown,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"resize-handle\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"resize-dots\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3521,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3522,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3523,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3520,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3519,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 3515,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flight-details\",\n          style: {\n            width: `${100 - mapWidth}%`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flight-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\u2708\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3532,\n                columnNumber: 17\n              }, this), \"Flight Results\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3531,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flight-route\",\n              children: [fromAirport, /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"route-arrow\",\n                children: \"\\u2192\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3537,\n                columnNumber: 17\n              }, this), toAirport]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3535,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 3530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"scroll-indicator\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"scroll-hint\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"scroll-icon\",\n                children: \"\\u2B07\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3545,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"scroll-text\",\n                children: \"Scroll for Flight Timeline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3546,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3544,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3543,\n            columnNumber: 13\n          }, this), flightData.enhancedAnalysis && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"enhanced-analysis-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"section-icon\",\n                  children: \"\\uD83D\\uDD2E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3555,\n                  columnNumber: 21\n                }, this), \"Flight Sun Analysis\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3554,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"analysis-summary\",\n                children: flightData.enhancedAnalysis.summary.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"summary-message\",\n                  children: message\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3562,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3560,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"analysis-stats\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stat-icon\",\n                    children: \"\\uD83C\\uDF05\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3571,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stat-label\",\n                    children: \"Sunrise\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3572,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `stat-value ${flightData.enhancedAnalysis.willSeeSunrise ? 'positive' : 'negative'}`,\n                    children: flightData.enhancedAnalysis.willSeeSunrise ? 'YES' : 'NO'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3573,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3570,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stat-icon\",\n                    children: \"\\uD83C\\uDF07\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3578,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stat-label\",\n                    children: \"Sunset\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3579,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `stat-value ${flightData.enhancedAnalysis.willSeeSunset ? 'positive' : 'negative'}`,\n                    children: flightData.enhancedAnalysis.willSeeSunset ? 'YES' : 'NO'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3580,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3577,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stat-icon\",\n                    children: \"\\uD83C\\uDF19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3585,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stat-label\",\n                    children: \"Night\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3586,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `stat-value ${flightData.enhancedAnalysis.willSeeNight ? 'positive' : 'negative'}`,\n                    children: flightData.enhancedAnalysis.willSeeNight ? 'YES' : 'NO'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3587,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3584,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stat-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stat-icon\",\n                    children: \"\\u2728\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3592,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stat-label\",\n                    children: \"Golden Hour\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3593,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: `stat-value ${flightData.enhancedAnalysis.willSeeGoldenHour ? 'positive' : 'negative'}`,\n                    children: flightData.enhancedAnalysis.willSeeGoldenHour ? 'YES' : 'NO'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3594,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3591,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3569,\n                columnNumber: 19\n              }, this), flightData.enhancedAnalysis.recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"analysis-recommendations\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"\\uD83D\\uDCA1 Recommendations\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3603,\n                  columnNumber: 23\n                }, this), flightData.enhancedAnalysis.recommendations.map((rec, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recommendation-item\",\n                  children: rec\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3605,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3602,\n                columnNumber: 21\n              }, this), (flightData.enhancedAnalysis.sunrise || flightData.enhancedAnalysis.sunset) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"event-times\",\n                children: [flightData.enhancedAnalysis.sunrise && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"event-time sunrise\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"event-icon\",\n                    children: \"\\uD83C\\uDF05\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3617,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"event-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"event-label\",\n                      children: \"Sunrise\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3619,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"event-time-value\",\n                      children: flightData.enhancedAnalysis.sunrise.timeString\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3620,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"event-progress\",\n                      children: [Math.round(flightData.enhancedAnalysis.sunrise.progressPercent), \"% through flight\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3621,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3618,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3616,\n                  columnNumber: 25\n                }, this), flightData.enhancedAnalysis.sunset && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"event-time sunset\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"event-icon\",\n                    children: \"\\uD83C\\uDF07\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3629,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"event-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"event-label\",\n                      children: \"Sunset\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3631,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"event-time-value\",\n                      children: flightData.enhancedAnalysis.sunset.timeString\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3632,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"event-progress\",\n                      children: [Math.round(flightData.enhancedAnalysis.sunset.progressPercent), \"% through flight\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3633,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3630,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3628,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3614,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3553,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3552,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"seat-comparison-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Seat Recommendations & View Analysis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3648,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"seat-options\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `seat-option ${flightData.recommendation === 'left' ? 'recommended' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"seat-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"\\uD83E\\uDE9F Left Side Seats\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3654,\n                      columnNumber: 21\n                    }, this), flightData.recommendation === 'left' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"recommended-badge\",\n                      children: \"\\u2B50 Recommended\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3655,\n                      columnNumber: 62\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3653,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"view-counts\",\n                    children: (_flightData$enhancedA => {\n                      const leftViews = getSideSpecificViews(fromAirport, toAirport, 'left', flightData.enhancedAnalysis);\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"count-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-icon\",\n                            children: \"\\uD83C\\uDF05\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3664,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-text\",\n                            children: [\"Sunrise Views: \", leftViews.sunrise ? 'YES' : 'NO']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3665,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3663,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"count-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-icon\",\n                            children: \"\\uD83C\\uDF07\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3668,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-text\",\n                            children: [\"Sunset Views: \", leftViews.sunset ? 'YES' : 'NO']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3669,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3667,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"count-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-icon\",\n                            children: \"\\uD83C\\uDF19\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3672,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-text\",\n                            children: [\"Night Views: \", leftViews.night ? 'YES' : 'NO']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3673,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3671,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"count-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-icon\",\n                            children: \"\\uD83C\\uDFD4\\uFE0F\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3676,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-text\",\n                            children: [\"Mountain Views: \", ((_flightData$enhancedA = flightData.enhancedAnalysis) === null || _flightData$enhancedA === void 0 ? void 0 : _flightData$enhancedA.mountainCount) || 0, \" peaks\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3677,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3675,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true);\n                    })()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3658,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3652,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `seat-option ${flightData.recommendation === 'right' ? 'recommended' : ''}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"seat-header\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"\\uD83E\\uDE9F Right Side Seats\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3688,\n                      columnNumber: 21\n                    }, this), flightData.recommendation === 'right' && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"recommended-badge\",\n                      children: \"\\u2B50 Recommended\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3689,\n                      columnNumber: 63\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3687,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"view-counts\",\n                    children: (_flightData$enhancedA2 => {\n                      const rightViews = getSideSpecificViews(fromAirport, toAirport, 'right', flightData.enhancedAnalysis);\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"count-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-icon\",\n                            children: \"\\uD83C\\uDF05\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3698,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-text\",\n                            children: [\"Sunrise Views: \", rightViews.sunrise ? 'YES' : 'NO']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3699,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3697,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"count-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-icon\",\n                            children: \"\\uD83C\\uDF07\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3702,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-text\",\n                            children: [\"Sunset Views: \", rightViews.sunset ? 'YES' : 'NO']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3703,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3701,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"count-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-icon\",\n                            children: \"\\uD83C\\uDF19\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3706,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-text\",\n                            children: [\"Night Views: \", rightViews.night ? 'YES' : 'NO']\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3707,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3705,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"count-item\",\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-icon\",\n                            children: \"\\uD83C\\uDFD4\\uFE0F\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3710,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"count-text\",\n                            children: [\"Mountain Views: \", ((_flightData$enhancedA2 = flightData.enhancedAnalysis) === null || _flightData$enhancedA2 === void 0 ? void 0 : _flightData$enhancedA2.mountainCount) || 0, \" peaks\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 3711,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3709,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true);\n                    })()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3692,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3686,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3650,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3647,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3646,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: currentSunPosition && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"current-view-card slide-up\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"section-icon\",\n                  children: \"\\uD83D\\uDCCA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3727,\n                  columnNumber: 19\n                }, this), \"Current View Analysis\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3726,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"view-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"view-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view-label\",\n                    children: \"Aircraft Position:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3732,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view-value\",\n                    children: [(_currentPosition$lat$ = currentPosition === null || currentPosition === void 0 ? void 0 : (_currentPosition$lat = currentPosition.lat) === null || _currentPosition$lat === void 0 ? void 0 : _currentPosition$lat.toFixed(4)) !== null && _currentPosition$lat$ !== void 0 ? _currentPosition$lat$ : '--', \", \", (_currentPosition$lon$ = currentPosition === null || currentPosition === void 0 ? void 0 : (_currentPosition$lon = currentPosition.lon) === null || _currentPosition$lon === void 0 ? void 0 : _currentPosition$lon.toFixed(4)) !== null && _currentPosition$lon$ !== void 0 ? _currentPosition$lon$ : '--']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3733,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3731,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"view-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view-label\",\n                    children: \"Sun Elevation:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3738,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view-value\",\n                    children: [(_currentSunPosition$e2 = (_currentSunPosition$e3 = currentSunPosition.elevation) === null || _currentSunPosition$e3 === void 0 ? void 0 : _currentSunPosition$e3.toFixed(1)) !== null && _currentSunPosition$e2 !== void 0 ? _currentSunPosition$e2 : '--', \"\\xB0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3739,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3737,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"view-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view-label\",\n                    children: \"Sun Azimuth:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3742,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view-value\",\n                    children: [(_currentSunPosition$a2 = (_currentSunPosition$a3 = currentSunPosition.azimuth) === null || _currentSunPosition$a3 === void 0 ? void 0 : _currentSunPosition$a3.toFixed(1)) !== null && _currentSunPosition$a2 !== void 0 ? _currentSunPosition$a2 : '--', \"\\xB0\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3743,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3741,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"view-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view-label\",\n                    children: \"Sun Visibility:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3746,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view-value\",\n                    children: currentSunPosition ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"sun-tooltip-container\",\n                        children: [currentSunPosition.condition ? getSunConditionMarker(currentSunPosition.condition) : '☀️', /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: `sun-tooltip ${currentSunPosition.condition ? currentSunPosition.condition.toLowerCase() : 'daylight'}`,\n                          children: currentSunPosition.condition ? getSunTooltipContent(currentSunPosition) : `Sun • ${((_currentSunPosition$e4 = currentSunPosition.elevation) === null || _currentSunPosition$e4 === void 0 ? void 0 : _currentSunPosition$e4.toFixed(1)) || '--'}° above horizon`\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3752,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3750,\n                        columnNumber: 27\n                      }, this), ' ', currentSunPosition.condition === 'NIGHT' ? 'Below Horizon' : 'Visible']\n                    }, void 0, true) : 'Not Available'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3747,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3745,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3730,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3725,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3723,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"content-section\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flight-progress-container slide-up\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"section-icon\",\n                  children: \"\\uD83D\\uDD50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3773,\n                  columnNumber: 17\n                }, this), \"Flight Timeline\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3772,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"progress-instructions\",\n                children: \"Drag the slider to explore different moments of your flight\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 3777,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"progress-slider-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-labels\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"progress-label\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"progress-icon\",\n                      children: \"\\uD83D\\uDEEB\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3784,\n                      columnNumber: 21\n                    }, this), \"Departure\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3783,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"progress-label\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"progress-icon\",\n                      children: \"\\uD83D\\uDEEC\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3788,\n                      columnNumber: 21\n                    }, this), \"Arrival\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3787,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3782,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"horizontal-slider-container\",\n                  onMouseDown: handleMouseDown,\n                  onClick: handleClick,\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"horizontal-slider-track\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"horizontal-progress-bar\",\n                      style: {\n                        width: `${flightProgress}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3799,\n                      columnNumber: 21\n                    }, this), ((_periods$sunriseTime, _periods$sunsetTime) => {\n                      const periods = getOptimalPeriodsInFlight(departureTime, flightDuration, flightData);\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: [periods.sunriseProgress !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"timeline-event-marker sunrise-marker\",\n                          style: {\n                            left: `${periods.sunriseProgress}%`\n                          },\n                          title: `Sunrise at ${(_periods$sunriseTime = periods.sunriseTime) === null || _periods$sunriseTime === void 0 ? void 0 : _periods$sunriseTime.toLocaleTimeString([], {\n                            hour: '2-digit',\n                            minute: '2-digit'\n                          })}`,\n                          children: \"\\uD83C\\uDF05\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3812,\n                          columnNumber: 29\n                        }, this), periods.sunsetProgress !== undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"timeline-event-marker sunset-marker\",\n                          style: {\n                            left: `${periods.sunsetProgress}%`\n                          },\n                          title: `Sunset at ${(_periods$sunsetTime = periods.sunsetTime) === null || _periods$sunsetTime === void 0 ? void 0 : _periods$sunsetTime.toLocaleTimeString([], {\n                            hour: '2-digit',\n                            minute: '2-digit'\n                          })}`,\n                          children: \"\\uD83C\\uDF07\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 3821,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true);\n                    })(), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"horizontal-slider-handle\",\n                      style: {\n                        left: `${flightProgress}%`\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3833,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 3798,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3793,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"progress-display\",\n                  children: [\"Flight Progress: \", Math.round(flightProgress), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 3842,\n                  columnNumber: 17\n                }, this), (() => {\n                  const periods = getOptimalPeriodsInFlight(departureTime, flightDuration, flightData);\n                  if (periods.sunrise || periods.sunset) {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"sun-events-info\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        style: {\n                          margin: '10px 0 5px 0',\n                          fontSize: '14px',\n                          color: '#ffd700'\n                        },\n                        children: \"\\u2600\\uFE0F Sun Events During Flight\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3852,\n                        columnNumber: 25\n                      }, this), periods.details.map((detail, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: '12px',\n                          margin: '3px 0',\n                          color: '#e2e8f0'\n                        },\n                        children: detail\n                      }, index, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3856,\n                        columnNumber: 27\n                      }, this)), periods.sunrise && periods.sunset && /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          fontSize: '11px',\n                          margin: '5px 0',\n                          color: '#10b981',\n                          fontWeight: 'bold'\n                        },\n                        children: \"\\uD83C\\uDF1F Perfect flight for both sunrise and sunset viewing!\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 3861,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 3851,\n                      columnNumber: 23\n                    }, this);\n                  }\n                  return null;\n                })()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 3781,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 3771,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 3770,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 3528,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 3192,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 3191,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 3181,\n    columnNumber: 5\n  }, this);\n};\n_s4(ResultsPage, \"ZLqbH/FqDX809no3RBfJ71w0fnY=\");\n_c6 = ResultsPage;\nfunction App() {\n  _s5();\n  // Page navigation state\n  const [currentPage, setCurrentPage] = useState(AppPage.SEARCH);\n\n  // Form data state - All fields start empty\n  const [fromAirport, setFromAirport] = useState('');\n  const [toAirport, setToAirport] = useState('');\n  const [departureTime, setDepartureTime] = useState('');\n  const [flightDuration, setFlightDuration] = useState(''); // Start empty\n  const [flightData, setFlightData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [flightProgress, setFlightProgress] = useState(0);\n  const [currentPosition, setCurrentPosition] = useState(null);\n  const [currentSunPosition, setCurrentSunPosition] = useState(null);\n\n  // View Preferences State - removed (no longer needed)\n\n  const [isDragging, setIsDragging] = useState(false);\n\n  // Helper functions for flight duration calculations\n  const getFlightEndTime = () => {\n    if (!departureTime || !flightDuration) {\n      return new Date(); // Return current time if invalid\n    }\n    const startTime = new Date(departureTime);\n    const endTime = new Date(startTime.getTime() + Number(flightDuration) * 60 * 1000); // Convert minutes to milliseconds\n    return endTime;\n  };\n  const formatTimeDisplay = date => {\n    return date.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    // Comprehensive form validation\n    if (!fromAirport || !toAirport || !departureTime || !flightDuration) {\n      setError('Please fill all the details including departure airport, arrival airport, departure time, and flight duration.');\n      setLoading(false);\n      return;\n    }\n\n    // Check if source and destination are the same\n    if (fromAirport === toAirport) {\n      setError('No flights available for the same source and destination airports. Please select different departure and arrival airports.');\n      setLoading(false);\n      return;\n    }\n\n    // Validate flight duration\n    if (typeof flightDuration === 'string' || flightDuration < 30 || flightDuration > 1440) {\n      setError('Flight duration must be a number between 30 and 1440 minutes (24 hours).');\n      setLoading(false);\n      return;\n    }\n\n    // SIMPLIFIED APPROACH: Generate flight analysis directly in frontend\n    try {\n      console.log('Generating simplified flight analysis...');\n      const mockFlightData = generateSimplifiedFlightAnalysis(fromAirport, toAirport, departureTime, flightDuration);\n      setFlightData(mockFlightData);\n\n      // Set initial flight progress to 0% (departure)\n      setFlightProgress(0);\n      console.log('Simplified flight analysis completed:', mockFlightData);\n\n      // Navigate to results page\n      setCurrentPage(AppPage.RESULTS);\n    } catch (err) {\n      setError('Unable to generate flight analysis. Please check your input and try again.');\n      console.error('Error generating flight analysis:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleProgressChange = useCallback(newProgress => {\n    setFlightProgress(newProgress);\n  }, []);\n\n  // Throttled version for smooth dragging with optimized frequency\n  const throttledProgressChange = useCallback(throttle(newProgress => {\n    setFlightProgress(newProgress);\n  }, 8),\n  // ~120 FPS for ultra-smooth airplane movement\n  []);\n  const handleClick = e => {\n    e.preventDefault();\n\n    // Immediately update position on click for instant feedback\n    if (flightData) {\n      const sliderElement = e.currentTarget.closest('.horizontal-slider-container');\n      if (sliderElement) {\n        const rect = sliderElement.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        let percentage = x / rect.width * 100;\n\n        // Make it easier to reach 100% - if within 5% of the end, snap to 100%\n        if (percentage > 95) percentage = 100;\n        if (percentage < 5) percentage = 0;\n        percentage = Math.max(0, Math.min(100, percentage));\n\n        // Immediately update the visual elements without waiting for React state\n        const handle = document.querySelector('.horizontal-slider-handle');\n        const progressBar = document.querySelector('.horizontal-progress-bar');\n        const progressText = document.querySelector('.progress-display');\n        if (handle) handle.style.left = `${percentage}%`;\n        if (progressBar) progressBar.style.width = `${percentage}%`;\n        if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\n        handleProgressChange(percentage);\n      }\n    }\n  };\n  const handleMouseDown = e => {\n    e.preventDefault();\n    setIsDragging(true);\n    const sliderElement = e.currentTarget;\n    let isDraggingLocal = true;\n\n    // Function to update slider position\n    const updateSliderPosition = clientX => {\n      if (!flightData || !sliderElement) return;\n      const rect = sliderElement.getBoundingClientRect();\n      const x = clientX - rect.left;\n      let percentage = x / rect.width * 100;\n\n      // Make it easier to reach 100% - if within 5% of the end, snap to 100%\n      if (percentage > 95) percentage = 100;\n      if (percentage < 5) percentage = 0;\n      percentage = Math.max(0, Math.min(100, percentage));\n\n      // INSTANT updates - both visual and airplane position\n      const handle = document.querySelector('.horizontal-slider-handle');\n      const progressBar = document.querySelector('.horizontal-progress-bar');\n      const progressText = document.querySelector('.progress-display');\n      if (handle) handle.style.left = `${percentage}%`;\n      if (progressBar) progressBar.style.width = `${percentage}%`;\n      if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\n\n      // IMMEDIATE React state update\n      setFlightProgress(percentage);\n    };\n\n    // Initial update on mouse down\n    updateSliderPosition(e.clientX);\n\n    // Mouse move handler\n    const mouseMoveHandler = e => {\n      e.preventDefault();\n      if (!isDraggingLocal) return;\n      updateSliderPosition(e.clientX);\n    };\n\n    // Mouse up handler\n    const mouseUpHandler = () => {\n      isDraggingLocal = false;\n      setIsDragging(false);\n      document.removeEventListener('mousemove', mouseMoveHandler);\n      document.removeEventListener('mouseup', mouseUpHandler);\n    };\n    document.addEventListener('mousemove', mouseMoveHandler, {\n      passive: false\n    });\n    document.addEventListener('mouseup', mouseUpHandler, {\n      passive: false\n    });\n  };\n  const handlePositionChange = position => {\n    setCurrentPosition({\n      lat: position.lat,\n      lon: position.lon\n    });\n    setCurrentSunPosition(position.sunPosition);\n  };\n\n  // Navigation function to go back to search\n  const goBackToSearch = () => {\n    setCurrentPage(AppPage.SEARCH);\n    setError(null); // Clear any errors when going back\n  };\n\n  // Navigation function to change pages\n  const handlePageChange = page => {\n    setCurrentPage(page);\n    setError(null); // Clear any errors when changing pages\n  };\n  const renderCurrentPage = () => {\n    switch (currentPage) {\n      case AppPage.SEARCH:\n        return /*#__PURE__*/_jsxDEV(SearchPage, {\n          fromAirport: fromAirport,\n          setFromAirport: setFromAirport,\n          toAirport: toAirport,\n          setToAirport: setToAirport,\n          departureTime: departureTime,\n          setDepartureTime: setDepartureTime,\n          flightDuration: flightDuration,\n          setFlightDuration: setFlightDuration,\n          loading: loading,\n          error: error,\n          onSubmit: handleSubmit,\n          formatTimeDisplay: formatTimeDisplay,\n          getFlightEndTime: getFlightEndTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4103,\n          columnNumber: 11\n        }, this);\n      case AppPage.RESULTS:\n        return /*#__PURE__*/_jsxDEV(ResultsPage, {\n          flightData: flightData,\n          fromAirport: fromAirport,\n          toAirport: toAirport,\n          currentPosition: currentPosition,\n          currentSunPosition: currentSunPosition,\n          flightProgress: flightProgress,\n          handleProgressChange: handleProgressChange,\n          handlePositionChange: handlePositionChange,\n          isDragging: isDragging,\n          handleMouseDown: handleMouseDown,\n          handleClick: handleClick,\n          onBack: goBackToSearch,\n          departureTime: departureTime,\n          flightDuration: flightDuration\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4121,\n          columnNumber: 11\n        }, this);\n      case AppPage.EXPERIENCE:\n        return /*#__PURE__*/_jsxDEV(ExperiencePage, {\n          onBack: goBackToSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 4140,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [currentPage === AppPage.SEARCH && /*#__PURE__*/_jsxDEV(Navigation, {\n      currentPage: currentPage,\n      onPageChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 4153,\n      columnNumber: 9\n    }, this), renderCurrentPage()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4150,\n    columnNumber: 5\n  }, this);\n}\n_s5(App, \"iJSOBStWVrHwFqMiG9TDmh/qh3E=\");\n_c7 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"AirplaneExperience\");\n$RefreshReg$(_c2, \"InteractiveAirplane\");\n$RefreshReg$(_c3, \"Navigation\");\n$RefreshReg$(_c4, \"ExperiencePage\");\n$RefreshReg$(_c5, \"SearchPage\");\n$RefreshReg$(_c6, \"ResultsPage\");\n$RefreshReg$(_c7, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","useMemo","MapContainer","TileLayer","Marker","Popup","Polyline","L","jsxDEV","_jsxDEV","Fragment","_Fragment","THREE","loadThreeJS","error","console","SEAT_POSITIONS_3D","position","target","row","side","AirplaneExperience","selectedSeat","onSeatChange","_s","_SEAT_POSITIONS_3D$se","_SEAT_POSITIONS_3D$se2","mountRef","sceneRef","rendererRef","cameraRef","isLoading","setIsLoading","setError","isThreeLoaded","setIsThreeLoaded","initThreeJS","threeModule","Error","setTimeout","initializeScene","err","current","scene","Scene","background","Color","camera","PerspectiveCamera","clientWidth","clientHeight","set","renderer","WebGLRenderer","antialias","alpha","powerPreference","setSize","setClearColor","shadowMap","enabled","type","PCFSoftShadowMap","autoUpdate","outputEncoding","sRGBEncoding","toneMapping","ACESFilmicToneMapping","toneMappingExposure","appendChild","domElement","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","castShadow","shadow","mapSize","width","height","near","far","left","right","top","bottom","fillLight","rimLight","createAirplaneInterior3D","createSkybox3D","setupControls","animate","requestAnimationFrame","render","handleResize","aspect","updateProjectionMatrix","window","addEventListener","removeEventListener","removeChild","dispose","createBasicFuselage3D","createBasicWings3D","createBasicTail3D","createBasicCockpit3D","createBasicCabinInterior3D","createBasicSeats3D","createBasicWindows3D","createBasicOverheadCompartments3D","createBasicCabinWalls3D","createBasicCeiling3D","createSeats3D","Object","entries","forEach","seatId","seatData","seatGeometry","BoxGeometry","seatMaterial","MeshPhongMaterial","color","shininess","seat","Mesh","y","receiveShadow","userData","backGeometry","seatBack","z","armrestGeometry","armrestMaterial","leftArmrest","x","rightArmrest","canvas","document","createElement","context","getContext","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","strokeStyle","lineWidth","strokeRect","font","textAlign","fillText","texture","CanvasTexture","labelMaterial","MeshBasicMaterial","map","transparent","opacity","labelGeometry","PlaneGeometry","label","createWindows3D","windowFrameGeometry","windowFrameMaterial","windowGlassGeometry","windowGlassMaterial","i","windowFrame","windowGlass","rotation","Math","PI","createOverheadCompartments3D","compartmentGeometry","compartmentMaterial","compartment","handleGeometry","handleMaterial","handle","createCabinWalls3D","leftWallGeometry","wallMaterial","leftWall","rightWall","createCeilingPanels3D","ceilingGeometry","ceilingMaterial","ceiling","lightGeometry","SphereGeometry","lightMaterial","emissive","emissiveIntensity","light","createAisleLighting3D","fuselageGeometry","CylinderGeometry","fuselageMaterial","MeshLambertMaterial","fuselage","noseGeometry","ConeGeometry","noseMaterial","nose","wingGeometry","wingMaterial","leftWing","rightWing","tailFinGeometry","tailFinMaterial","tailFin","cockpitGeometry","cockpitMaterial","cockpit","createRealisticCabinInterior3D","floorGeometry","floorMaterial","floor","createRealisticSeats3D","woodCanvas","woodContext","beginPath","moveTo","random","quadraticCurveTo","stroke","arc","fill","lineTo","woodTexture","woodMaterial","accentGeometry","accent","screenCanvas","screenContext","screenTexture","screenMaterial","screenGeometry","screen","pocketGeometry","pocketMaterial","pocket","controlCanvas","controlContext","controlTexture","controlMaterial","controlGeometry","control","labelCanvas","labelContext","labelGradient","labelTexture","createRealisticWindows3D","EllipseCurve","windowGlassShape","Shape","curves","push","windowGlassExtrudeSettings","depth","bevelEnabled","windowGlassGeometry3D","ExtrudeGeometry","blindGeometry","blindMaterial","blind","blindRight","createRealisticOverheadCompartments3D","createRealisticCabinWalls3D","carpetCanvas","carpetContext","j","carpetTexture","carpetMaterial","accentWallGeometry","accentWallMaterial","accentWall","rackGeometry","rackMaterial","rack","exitSignGeometry","exitSignMaterial","exitSign","safetySignGeometry","safetySignMaterial","safetySign","createRealisticCeilingPanels3D","fixtureGeometry","fixtureMaterial","fixture","controlPanelGeometry","controlPanelMaterial","controlPanel","panelCanvas","panelContext","panelTexture","panelLabelMaterial","panelLabelGeometry","panelLabel","readingLightGeometry","readingLightMaterial","readingLight","ventGeometry","ventMaterial","vent","createRealisticAisleLighting3D","skyGeometry","skyMaterial","BackSide","skybox","cloudGeometry","cloudMaterial","cloud","scale","setScalar","isMouseDown","mouseX","mouseY","cameraTheta","cameraPhi","cameraRadius","updateCamera","sin","cos","lookAt","onMouseDown","event","clientX","clientY","onMouseMove","deltaX","deltaY","max","min","onMouseUp","onWheel","style","cursor","startPos","clone","endPos","Vector3","duration","startTime","Date","now","animateCamera","elapsed","progress","easeProgress","pow","lerpVectors","handleSeatSelection","display","alignItems","justifyContent","children","fontSize","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","zIndex","padding","borderRadius","boxShadow","minWidth","margin","value","onChange","e","border","keys","ref","_c","throttle","func","delay","timeoutId","lastExecTime","args","currentTime","clearTimeout","Icon","Default","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","AIRPORTS","MOUNTAINS","lat","lon","name","elevation","region","getMountainsVisibleFromPath","flightPath","maxDistance","visibleMountains","mountainKey","mountain","isVisible","some","waypoint","distance","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","dLon","a","c","atan2","sqrt","generateSimplifiedFlightAnalysis","fromAirport","toAirport","departureTime","flightDuration","log","fromCoords","toCoords","depTime","arrivalTime","getTime","path","fraction","enhancedAnalysis","generateBasicSunAnalysis","sunPositions","index","timeAtWaypoint","hour","getHours","minute","getMinutes","timeInMinutes","lonDiff","depHour","depMinute","depTimeInMinutes","GOLDEN_HOUR_BEFORE_SUNRISE_START","GOLDEN_HOUR_BEFORE_SUNRISE_END","SUNRISE_START","SUNRISE_END","SUN_VISIBLE_START","SUN_VISIBLE_END","GOLDEN_HOUR_BEFORE_SUNSET_START","GOLDEN_HOUR_BEFORE_SUNSET_END","SUNSET_START","SUNSET_END","condition","azimuth","isTimeInRange","time","start","end","NIGHT_START","NIGHT_END","timeStr","toString","padStart","isSunrise","isSunset","hardcodedSide","getHardcodedSunSide","calculateRealisticSunAzimuth","String","toFixed","toISOString","mountainCount","length","recommendation","seatSuggestion","arrHour","arrMinute","depTimeMinutes","arrTimeMinutes","willSeeGoldenHourBeforeSunrise","willSeeSunrise","willSeeSunVisible","willSeeGoldenHourBeforeSunset","willSeeSunset","willSeeNight","checkTimeOverlap","startMinutes","endMinutes","flightDurationMinutes","flightEndMinutes","startsInNight","endsInNight","crossesMidnight","overlapBeforeMidnight","overlapAfterMidnight","willSeeGoldenHour","summary","recommendations","nightHours","calculateNightHours","determineSeatSuggestion","timeline","nightDuration","dayDuration","arrTime","lat1Rad","lat2Rad","flightBearing","relativeSunPosition","getSideSpecificViews","sunrise","sunset","night","sunriseVisible","relativeSunrisePosition","sunsetVisible","relativeSunsetPosition","getSunConditionMarker","getSunTooltipContent","sunPos","_sunPos$elevation2","_sunPos$elevation","abs","marker","CITY_PAIR_SUN_MAPPINGS","routeKey","mapping","flightLonDiff","sunAzimuth","relativeSunAzimuth","mapAzimuth","calculateBearing","bearing","createAirplaneIcon","divIcon","className","html","iconSize","iconAnchor","InteractiveAirplane","flightData","flightProgress","onPositionChange","_s2","airplaneRef","getCurrentAirplaneData","totalDistance","exactProgress","currentIndex","nextIndex","currentWaypoint","nextWaypoint","progressInSegment","prevIndex","prevWaypoint","currentPosition","airplaneRotation","currentSunPosition","sunProgress","sunIndex","nextSunIndex","currentSun","nextSun","sunProgressInSegment","sunPosition","leafletElement","_map","setView","getZoom","icon","draggable","interactive","bubblingMouseEvents","eventHandlers","dragstart","_preventDefault","_ref","preventDefault","call","drag","_preventDefault2","_ref2","dragend","_preventDefault3","_ref3","mousedown","_e$originalEvent","originalEvent","mouseup","_e$originalEvent2","mousemove","_e$originalEvent3","element","getElement","pointerEvents","userSelect","touchAction","_c2","AppPage","Navigation","currentPage","onPageChange","maxWidth","gap","fontWeight","onClick","SEARCH","transition","onMouseEnter","currentTarget","onMouseLeave","EXPERIENCE","_c3","ExperiencePage","onBack","_s3","setSelectedSeat","overflow","transform","_c4","SearchPage","setFromAirport","setToAirport","setDepartureTime","setFlightDuration","loading","onSubmit","formatTimeDisplay","getFlightEndTime","htmlFor","id","required","step","intValue","parseInt","isNaN","placeholder","marginTop","Number","disabled","borderTop","_c5","getOptimalPeriodsInFlight","_flightData$path","_flightData$sunPositi","details","endTime","sunriseInFlight","sunsetInFlight","sunriseTime","sunsetTime","sunriseProgress","sunsetProgress","prevSunPos","toLocaleTimeString","ResultsPage","handleProgressChange","handlePositionChange","isDragging","handleMouseDown","handleClick","_s4","_currentPosition$lat$","_currentPosition$lat","_currentPosition$lon$","_currentPosition$lon","_currentSunPosition$e2","_currentSunPosition$e3","_currentSunPosition$a2","_currentSunPosition$a3","_currentSunPosition$e4","mapWidth","setMapWidth","isDraggingResize","setIsDraggingResize","handleResizeMouseDown","handleMouseMove","containerWidth","innerWidth","newMapWidth","constrainedWidth","handleMouseUp","adjustTooltipPositions","tooltipContainers","querySelectorAll","container","rect","getBoundingClientRect","viewportWidth","classList","remove","center","zoom","url","attribution","positions","wp","weight","_currentSunPosition$a","_currentSunPosition$e","startPoint","endPoint","sunBearing","elevationDegrees","sunDistance","sunLat","sunLon","dashArray","toLocaleString","lineHeight","message","rec","timeString","round","progressPercent","_flightData$enhancedA","leftViews","_flightData$enhancedA2","rightViews","toLowerCase","_periods$sunriseTime","_periods$sunsetTime","periods","undefined","title","detail","_c6","App","_s5","setCurrentPage","setFlightData","setLoading","setFlightProgress","setCurrentPosition","setCurrentSunPosition","setIsDragging","date","hour12","handleSubmit","mockFlightData","RESULTS","newProgress","throttledProgressChange","sliderElement","closest","percentage","querySelector","progressBar","progressText","textContent","isDraggingLocal","updateSliderPosition","mouseMoveHandler","mouseUpHandler","passive","goBackToSearch","handlePageChange","page","renderCurrentPage","_c7","$RefreshReg$"],"sources":["C:/Users/prakh/Desktop/Flight/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback, useMemo } from 'react';\nimport './index.css';\nimport 'leaflet/dist/leaflet.css';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\n// import AirplaneExperience from './components/AirplaneExperience';\nimport axios from 'axios';\n\n// First, let's dynamically import Three.js to avoid build issues\nlet THREE: any = null;\n\nconst loadThreeJS = async () => {\n  if (!THREE) {\n    try {\n      THREE = await import('three');\n    } catch (error) {\n      console.error('Failed to load Three.js:', error);\n    }\n  }\n  return THREE;\n};\n\n// 3D AirplaneExperience Component with Three.js\ninterface AirplaneExperienceProps {\n  selectedSeat?: string;\n  onSeatChange?: (seat: string) => void;\n}\n\n// Seat positions in 3D space (relative to airplane interior)\nconst SEAT_POSITIONS_3D: { [key: string]: { position: [number, number, number], target: [number, number, number], row: number, side: string } } = {\n  'A1': { position: [-1.5, 1.2, 4], target: [0, 1, 0], row: 1, side: 'Left' },\n  'B1': { position: [-0.5, 1.2, 4], target: [0, 1, 0], row: 1, side: 'Left' },\n  'C1': { position: [0.5, 1.2, 4], target: [0, 1, 0], row: 1, side: 'Right' },\n  'D1': { position: [1.5, 1.2, 4], target: [0, 1, 0], row: 1, side: 'Right' },\n  'A2': { position: [-1.5, 1.2, 2], target: [0, 1, 0], row: 2, side: 'Left' },\n  'B2': { position: [-0.5, 1.2, 2], target: [0, 1, 0], row: 2, side: 'Left' },\n  'C2': { position: [0.5, 1.2, 2], target: [0, 1, 0], row: 2, side: 'Right' },\n  'D2': { position: [1.5, 1.2, 2], target: [0, 1, 0], row: 2, side: 'Right' },\n  'A3': { position: [-1.5, 1.2, 0], target: [0, 1, 0], row: 3, side: 'Left' },\n  'B3': { position: [-0.5, 1.2, 0], target: [0, 1, 0], row: 3, side: 'Left' },\n  'C3': { position: [0.5, 1.2, 0], target: [0, 1, 0], row: 3, side: 'Right' },\n  'D3': { position: [1.5, 1.2, 0], target: [0, 1, 0], row: 3, side: 'Right' },\n  'A4': { position: [-1.5, 1.2, -2], target: [0, 1, 0], row: 4, side: 'Left' },\n  'B4': { position: [-0.5, 1.2, -2], target: [0, 1, 0], row: 4, side: 'Left' },\n  'C4': { position: [0.5, 1.2, -2], target: [0, 1, 0], row: 4, side: 'Right' },\n  'D4': { position: [1.5, 1.2, -2], target: [0, 1, 0], row: 4, side: 'Right' },\n  'A5': { position: [-1.5, 1.2, -4], target: [0, 1, 0], row: 5, side: 'Left' },\n  'B5': { position: [-0.5, 1.2, -4], target: [0, 1, 0], row: 5, side: 'Left' },\n  'C5': { position: [0.5, 1.2, -4], target: [0, 1, 0], row: 5, side: 'Right' },\n  'D5': { position: [1.5, 1.2, -4], target: [0, 1, 0], row: 5, side: 'Right' },\n};\n\nconst AirplaneExperience: React.FC<AirplaneExperienceProps> = ({ selectedSeat, onSeatChange }) => {\n  const mountRef = useRef<HTMLDivElement>(null);\n  const sceneRef = useRef<any>();\n  const rendererRef = useRef<any>();\n  const cameraRef = useRef<any>();\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isThreeLoaded, setIsThreeLoaded] = useState(false);\n\n  // Load Three.js and initialize scene\n  useEffect(() => {\n    const initThreeJS = async () => {\n      try {\n        const threeModule = await loadThreeJS();\n        if (!threeModule) throw new Error('Failed to load Three.js');\n        \n        setIsThreeLoaded(true);\n        setTimeout(() => {\n          initializeScene(threeModule);\n        }, 100);\n      } catch (err) {\n        setError('Failed to load 3D engine. Please refresh the page.');\n        setIsLoading(false);\n      }\n    };\n\n    initThreeJS();\n  }, []);\n\n  const initializeScene = (THREE: any) => {\n    if (!mountRef.current) return;\n\n    try {\n      // Scene setup\n      const scene = new THREE.Scene();\n      scene.background = new THREE.Color(0x87CEEB); // Sky blue\n      sceneRef.current = scene;\n\n      // Camera setup\n      const camera = new THREE.PerspectiveCamera(\n        75,\n        mountRef.current.clientWidth / mountRef.current.clientHeight,\n        0.1,\n        1000\n      );\n      camera.position.set(0, 2, 6);\n      cameraRef.current = camera;\n\n      // Enhanced Renderer setup for professional quality\n      const renderer = new THREE.WebGLRenderer({ \n        antialias: true,\n        alpha: true,\n        powerPreference: \"high-performance\"\n      });\n      renderer.setSize(mountRef.current.clientWidth, mountRef.current.clientHeight);\n      renderer.setClearColor(0x87CEEB, 1);\n      renderer.shadowMap.enabled = true;\n      renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n      renderer.shadowMap.autoUpdate = true;\n      renderer.outputEncoding = THREE.sRGBEncoding;\n      renderer.toneMapping = THREE.ACESFilmicToneMapping;\n      renderer.toneMappingExposure = 1.2;\n      rendererRef.current = renderer;\n\n      mountRef.current.appendChild(renderer.domElement);\n\n      // Enhanced Lighting setup for professional look\n      const ambientLight = new THREE.AmbientLight(0xffffff, 0.4);\n      scene.add(ambientLight);\n\n      // Main directional light\n      const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\n      directionalLight.position.set(5, 10, 5);\n      directionalLight.castShadow = true;\n      directionalLight.shadow.mapSize.width = 2048;\n      directionalLight.shadow.mapSize.height = 2048;\n      directionalLight.shadow.camera.near = 0.5;\n      directionalLight.shadow.camera.far = 50;\n      directionalLight.shadow.camera.left = -10;\n      directionalLight.shadow.camera.right = 10;\n      directionalLight.shadow.camera.top = 10;\n      directionalLight.shadow.camera.bottom = -10;\n      scene.add(directionalLight);\n\n      // Additional fill light for better illumination\n      const fillLight = new THREE.DirectionalLight(0xffffff, 0.3);\n      fillLight.position.set(-5, 5, -5);\n      scene.add(fillLight);\n\n      // Rim light for better definition\n      const rimLight = new THREE.DirectionalLight(0xffffff, 0.2);\n      rimLight.position.set(0, 5, -10);\n      scene.add(rimLight);\n\n      // Create airplane interior\n      createAirplaneInterior3D(scene, THREE);\n\n      // Create skybox/environment\n      createSkybox3D(scene, THREE);\n\n      // Setup controls\n      setupControls(camera, renderer.domElement, THREE);\n\n      // Animation loop\n      const animate = () => {\n        requestAnimationFrame(animate);\n        renderer.render(scene, camera);\n      };\n      animate();\n\n      // Handle window resize\n      const handleResize = () => {\n        if (mountRef.current && camera && renderer) {\n          camera.aspect = mountRef.current.clientWidth / mountRef.current.clientHeight;\n          camera.updateProjectionMatrix();\n          renderer.setSize(mountRef.current.clientWidth, mountRef.current.clientHeight);\n        }\n      };\n\n      window.addEventListener('resize', handleResize);\n\n      setIsLoading(false);\n\n      // Cleanup function\n      return () => {\n        window.removeEventListener('resize', handleResize);\n        if (mountRef.current && renderer.domElement) {\n          mountRef.current.removeChild(renderer.domElement);\n        }\n        renderer.dispose();\n      };\n    } catch (err) {\n      setError('Failed to initialize 3D scene. Please refresh the page.');\n      setIsLoading(false);\n    }\n  };\n\n  const createAirplaneInterior3D = (scene: any, THREE: any) => {\n    // Simple basic airplane structure\n    createBasicFuselage3D(scene, THREE);\n    createBasicWings3D(scene, THREE);\n    createBasicTail3D(scene, THREE);\n    createBasicCockpit3D(scene, THREE);\n    \n    // Simple interior components\n    createBasicCabinInterior3D(scene, THREE);\n    createBasicSeats3D(scene, THREE);\n    createBasicWindows3D(scene, THREE);\n    createBasicOverheadCompartments3D(scene, THREE);\n    createBasicCabinWalls3D(scene, THREE);\n    createBasicCeiling3D(scene, THREE);\n  };\n\n  const createSeats3D = (scene: any, THREE: any) => {\n    Object.entries(SEAT_POSITIONS_3D).forEach(([seatId, seatData]) => {\n      // Enhanced Seat base with better materials\n      const seatGeometry = new THREE.BoxGeometry(0.45, 0.12, 0.45);\n      const seatMaterial = new THREE.MeshPhongMaterial({ \n        color: selectedSeat === seatId ? 0x3498db : 0x2c3e50,\n        shininess: 20\n      });\n      const seat = new THREE.Mesh(seatGeometry, seatMaterial);\n      seat.position.set(...seatData.position);\n      seat.position.y = 0.5;\n      seat.castShadow = true;\n      seat.receiveShadow = true;\n      seat.userData = { seatId };\n      scene.add(seat);\n\n      // Enhanced Seat back with better shape\n      const backGeometry = new THREE.BoxGeometry(0.45, 0.9, 0.08);\n      const seatBack = new THREE.Mesh(backGeometry, seatMaterial);\n      seatBack.position.set(...seatData.position);\n      seatBack.position.y = 0.95;\n      seatBack.position.z -= 0.2;\n      seatBack.castShadow = true;\n      scene.add(seatBack);\n\n      // Add seat armrests\n      const armrestGeometry = new THREE.BoxGeometry(0.05, 0.3, 0.4);\n      const armrestMaterial = new THREE.MeshPhongMaterial({ \n        color: 0x34495e,\n        shininess: 30\n      });\n      \n      // Left armrest\n      const leftArmrest = new THREE.Mesh(armrestGeometry, armrestMaterial);\n      leftArmrest.position.set(...seatData.position);\n      leftArmrest.position.x -= 0.25;\n      leftArmrest.position.y = 0.65;\n      leftArmrest.castShadow = true;\n      scene.add(leftArmrest);\n      \n      // Right armrest\n      const rightArmrest = new THREE.Mesh(armrestGeometry, armrestMaterial);\n      rightArmrest.position.set(...seatData.position);\n      rightArmrest.position.x += 0.25;\n      rightArmrest.position.y = 0.65;\n      rightArmrest.castShadow = true;\n      scene.add(rightArmrest);\n\n      // Enhanced Seat label with better styling\n      const canvas = document.createElement('canvas');\n      const context = canvas.getContext('2d')!;\n      canvas.width = 256;\n      canvas.height = 128;\n      \n      // Create gradient background\n      const gradient = context.createLinearGradient(0, 0, 0, 128);\n      gradient.addColorStop(0, selectedSeat === seatId ? '#3498db' : '#34495e');\n      gradient.addColorStop(1, selectedSeat === seatId ? '#2980b9' : '#2c3e50');\n      context.fillStyle = gradient;\n      context.fillRect(0, 0, 256, 128);\n      \n      // Add border\n      context.strokeStyle = '#ffffff';\n      context.lineWidth = 4;\n      context.strokeRect(2, 2, 252, 124);\n      \n      // Add text\n      context.fillStyle = '#ffffff';\n      context.font = 'bold 32px Arial';\n      context.textAlign = 'center';\n      context.fillText(seatId, 128, 75);\n      \n      // Add subtitle\n      context.font = '16px Arial';\n      context.fillText(`Row ${seatData.row}`, 128, 100);\n\n      const texture = new THREE.CanvasTexture(canvas);\n      const labelMaterial = new THREE.MeshBasicMaterial({ \n        map: texture,\n        transparent: true,\n        opacity: 0.9\n      });\n      const labelGeometry = new THREE.PlaneGeometry(0.4, 0.2);\n      const label = new THREE.Mesh(labelGeometry, labelMaterial);\n      label.position.set(...seatData.position);\n      label.position.y = 1.6;\n      scene.add(label);\n    });\n  };\n\n  const createWindows3D = (scene: any, THREE: any) => {\n    // Enhanced window geometry with frame\n    const windowFrameGeometry = new THREE.BoxGeometry(0.7, 0.5, 0.05);\n    const windowFrameMaterial = new THREE.MeshPhongMaterial({ \n      color: 0x34495e,\n      shininess: 40\n    });\n    \n    const windowGlassGeometry = new THREE.PlaneGeometry(0.6, 0.4);\n    const windowGlassMaterial = new THREE.MeshPhongMaterial({ \n      color: 0x87CEEB, \n      transparent: true, \n      opacity: 0.8,\n      shininess: 100\n    });\n\n    // Left side windows with frames\n    for (let i = 0; i < 6; i++) {\n      // Window frame\n      const windowFrame = new THREE.Mesh(windowFrameGeometry, windowFrameMaterial);\n      windowFrame.position.set(-2.1, 0.5, 4 - i * 1.5);\n      windowFrame.castShadow = true;\n      scene.add(windowFrame);\n      \n      // Window glass\n      const windowGlass = new THREE.Mesh(windowGlassGeometry, windowGlassMaterial);\n      windowGlass.position.set(-2.1, 0.5, 4 - i * 1.5);\n      windowGlass.rotation.y = Math.PI / 2;\n      scene.add(windowGlass);\n    }\n\n    // Right side windows with frames\n    for (let i = 0; i < 6; i++) {\n      // Window frame\n      const windowFrame = new THREE.Mesh(windowFrameGeometry, windowFrameMaterial);\n      windowFrame.position.set(2.1, 0.5, 4 - i * 1.5);\n      windowFrame.castShadow = true;\n      scene.add(windowFrame);\n      \n      // Window glass\n      const windowGlass = new THREE.Mesh(windowGlassGeometry, windowGlassMaterial);\n      windowGlass.position.set(2.1, 0.5, 4 - i * 1.5);\n      windowGlass.rotation.y = -Math.PI / 2;\n      scene.add(windowGlass);\n    }\n  };\n\n  const createOverheadCompartments3D = (scene: any, THREE: any) => {\n    const compartmentGeometry = new THREE.BoxGeometry(4.2, 0.5, 0.8);\n    const compartmentMaterial = new THREE.MeshPhongMaterial({ \n      color: 0xe2e8f0,\n      shininess: 25\n    });\n\n    for (let i = 0; i < 5; i++) {\n      const compartment = new THREE.Mesh(compartmentGeometry, compartmentMaterial);\n      compartment.position.set(0, 1.9, 4 - i * 2);\n      compartment.castShadow = true;\n      compartment.receiveShadow = true;\n      scene.add(compartment);\n      \n      // Add compartment handles\n      const handleGeometry = new THREE.BoxGeometry(0.3, 0.05, 0.05);\n      const handleMaterial = new THREE.MeshPhongMaterial({ \n        color: 0x2c3e50,\n        shininess: 50\n      });\n      \n      const handle = new THREE.Mesh(handleGeometry, handleMaterial);\n      handle.position.set(0, 1.65, 4 - i * 2);\n      handle.castShadow = true;\n      scene.add(handle);\n    }\n  };\n\n  const createCabinWalls3D = (scene: any, THREE: any) => {\n    // Left wall\n    const leftWallGeometry = new THREE.PlaneGeometry(14, 3);\n    const wallMaterial = new THREE.MeshPhongMaterial({ \n      color: 0xf8f9fa,\n      shininess: 20\n    });\n    \n    const leftWall = new THREE.Mesh(leftWallGeometry, wallMaterial);\n    leftWall.position.set(-2.5, 0.5, 0);\n    leftWall.rotation.y = Math.PI / 2;\n    leftWall.receiveShadow = true;\n    scene.add(leftWall);\n    \n    // Right wall\n    const rightWall = new THREE.Mesh(leftWallGeometry, wallMaterial);\n    rightWall.position.set(2.5, 0.5, 0);\n    rightWall.rotation.y = -Math.PI / 2;\n    rightWall.receiveShadow = true;\n    scene.add(rightWall);\n  };\n\n  const createCeilingPanels3D = (scene: any, THREE: any) => {\n    const ceilingGeometry = new THREE.PlaneGeometry(5, 14);\n    const ceilingMaterial = new THREE.MeshPhongMaterial({ \n      color: 0xf1f5f9,\n      shininess: 15\n    });\n    \n    const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);\n    ceiling.position.set(0, 2.5, 0);\n    ceiling.rotation.x = Math.PI / 2;\n    ceiling.receiveShadow = true;\n    scene.add(ceiling);\n    \n    // Add ceiling lights\n    for (let i = 0; i < 7; i++) {\n      const lightGeometry = new THREE.SphereGeometry(0.1, 16, 16);\n      const lightMaterial = new THREE.MeshBasicMaterial({ \n        color: 0xffffff,\n        emissive: 0xffffff,\n        emissiveIntensity: 0.3\n      });\n      \n      const light = new THREE.Mesh(lightGeometry, lightMaterial);\n      light.position.set(0, 2.4, 4 - i * 1.5);\n      scene.add(light);\n    }\n  };\n\n  const createAisleLighting3D = (scene: any, THREE: any) => {\n    // Add aisle floor lighting\n    for (let i = 0; i < 7; i++) {\n      const lightGeometry = new THREE.PlaneGeometry(0.8, 0.1);\n      const lightMaterial = new THREE.MeshBasicMaterial({ \n        color: 0x4ade80,\n        emissive: 0x4ade80,\n        emissiveIntensity: 0.2\n      });\n      \n      const light = new THREE.Mesh(lightGeometry, lightMaterial);\n      light.position.set(0, -1.15, 4 - i * 1.5);\n      light.rotation.x = -Math.PI / 2;\n      scene.add(light);\n    }\n  };\n\n  // Basic Airplane Components\n  const createBasicFuselage3D = (scene: any, THREE: any) => {\n    // Simple fuselage body\n    const fuselageGeometry = new THREE.CylinderGeometry(2.5, 2.2, 16, 16);\n    const fuselageMaterial = new THREE.MeshLambertMaterial({ \n      color: 0xffffff\n    });\n    const fuselage = new THREE.Mesh(fuselageGeometry, fuselageMaterial);\n    fuselage.rotation.z = Math.PI / 2;\n    scene.add(fuselage);\n\n    // Simple nose cone\n    const noseGeometry = new THREE.ConeGeometry(2.5, 3, 8);\n    const noseMaterial = new THREE.MeshLambertMaterial({ \n      color: 0xffffff\n    });\n    const nose = new THREE.Mesh(noseGeometry, noseMaterial);\n    nose.position.set(0, 0, 9.5);\n    nose.rotation.x = Math.PI / 2;\n    scene.add(nose);\n  };\n\n  const createBasicWings3D = (scene: any, THREE: any) => {\n    // Simple wings\n    const wingGeometry = new THREE.BoxGeometry(12, 0.2, 2);\n    const wingMaterial = new THREE.MeshLambertMaterial({ \n      color: 0xffffff\n    });\n    \n    // Left wing\n    const leftWing = new THREE.Mesh(wingGeometry, wingMaterial);\n    leftWing.position.set(-6, 0, 0);\n    scene.add(leftWing);\n    \n    // Right wing\n    const rightWing = new THREE.Mesh(wingGeometry, wingMaterial);\n    rightWing.position.set(6, 0, 0);\n    scene.add(rightWing);\n  };\n\n  const createBasicTail3D = (scene: any, THREE: any) => {\n    // Simple tail fin\n    const tailFinGeometry = new THREE.BoxGeometry(0.1, 2, 1);\n    const tailFinMaterial = new THREE.MeshLambertMaterial({ \n      color: 0xffffff\n    });\n    const tailFin = new THREE.Mesh(tailFinGeometry, tailFinMaterial);\n    tailFin.position.set(0, 1, -8);\n    scene.add(tailFin);\n  };\n\n  const createBasicCockpit3D = (scene: any, THREE: any) => {\n    // Simple cockpit\n    const cockpitGeometry = new THREE.SphereGeometry(2, 16, 8, 0, Math.PI * 2, 0, Math.PI / 2);\n    const cockpitMaterial = new THREE.MeshLambertMaterial({ \n      color: 0x000000,\n      transparent: true,\n      opacity: 0.7\n    });\n    const cockpit = new THREE.Mesh(cockpitGeometry, cockpitMaterial);\n    cockpit.position.set(0, 0, 8);\n    cockpit.rotation.x = Math.PI;\n    scene.add(cockpit);\n  };\n\n  const createRealisticCabinInterior3D = (scene: any, THREE: any) => {\n    // Cabin floor\n    const floorGeometry = new THREE.PlaneGeometry(16, 5);\n    const floorMaterial = new THREE.MeshPhongMaterial({ \n      color: 0x34495e,\n      shininess: 20\n    });\n    const floor = new THREE.Mesh(floorGeometry, floorMaterial);\n    floor.rotation.x = -Math.PI / 2;\n    floor.position.y = -1.5;\n    floor.receiveShadow = true;\n    scene.add(floor);\n  };\n\n  const createRealisticSeats3D = (scene: any, THREE: any) => {\n    Object.entries(SEAT_POSITIONS_3D).forEach(([seatId, seatData]) => {\n      // Create exact burl wood texture from reference images\n      const woodCanvas = document.createElement('canvas');\n      const woodContext = woodCanvas.getContext('2d')!;\n      woodCanvas.width = 1024;\n      woodCanvas.height = 1024;\n      \n      // Create exact burl wood pattern from reference\n      woodContext.fillStyle = '#f4d03f';\n      woodContext.fillRect(0, 0, 1024, 1024);\n      \n      // Add complex burl wood swirls\n      woodContext.strokeStyle = '#d68910';\n      woodContext.lineWidth = 3;\n      for (let i = 0; i < 50; i++) {\n        woodContext.beginPath();\n        woodContext.moveTo(Math.random() * 1024, Math.random() * 1024);\n        woodContext.quadraticCurveTo(\n          Math.random() * 1024, Math.random() * 1024,\n          Math.random() * 1024, Math.random() * 1024\n        );\n        woodContext.stroke();\n      }\n      \n      // Add burl wood knots and patterns\n      for (let i = 0; i < 25; i++) {\n        woodContext.fillStyle = '#b7950b';\n        woodContext.beginPath();\n        woodContext.arc(Math.random() * 1024, Math.random() * 1024, Math.random() * 30 + 15, 0, Math.PI * 2);\n        woodContext.fill();\n      }\n      \n      // Add wood grain lines\n      woodContext.strokeStyle = '#d68910';\n      woodContext.lineWidth = 1;\n      for (let i = 0; i < 40; i++) {\n        woodContext.beginPath();\n        woodContext.moveTo(0, i * 25 + Math.random() * 10);\n        woodContext.lineTo(1024, i * 25 + Math.random() * 10);\n        woodContext.stroke();\n      }\n      \n      const woodTexture = new THREE.CanvasTexture(woodCanvas);\n      const woodMaterial = new THREE.MeshPhongMaterial({ \n        map: woodTexture,\n        shininess: 80\n      });\n\n      // Exact lie-flat seat base from reference images\n      const seatGeometry = new THREE.BoxGeometry(0.8, 0.3, 0.8);\n      const seatMaterial = new THREE.MeshPhongMaterial({ \n        color: 0xffffff,\n        shininess: 40\n      });\n      const seat = new THREE.Mesh(seatGeometry, seatMaterial);\n      seat.position.set(...seatData.position);\n      seat.position.y = 0.7;\n      seat.castShadow = true;\n      seat.receiveShadow = true;\n      seat.userData = { seatId };\n      scene.add(seat);\n\n      // Exact seat back from reference images\n      const backGeometry = new THREE.BoxGeometry(0.8, 1.6, 0.18);\n      const seatBack = new THREE.Mesh(backGeometry, seatMaterial);\n      seatBack.position.set(...seatData.position);\n      seatBack.position.y = 1.5;\n      seatBack.position.z -= 0.4;\n      seatBack.castShadow = true;\n      scene.add(seatBack);\n\n      // Premium wood accent panels on seat back (exact from reference)\n      const accentGeometry = new THREE.BoxGeometry(0.85, 0.15, 0.03);\n      const accent = new THREE.Mesh(accentGeometry, woodMaterial);\n      accent.position.set(...seatData.position);\n      accent.position.y = 1.6;\n      accent.position.z -= 0.48;\n      scene.add(accent);\n\n      // Exact wood armrests from reference images\n      const armrestGeometry = new THREE.BoxGeometry(0.15, 0.6, 0.7);\n      \n      const leftArmrest = new THREE.Mesh(armrestGeometry, woodMaterial);\n      leftArmrest.position.set(...seatData.position);\n      leftArmrest.position.x -= 0.47;\n      leftArmrest.position.y = 0.8;\n      leftArmrest.castShadow = true;\n      scene.add(leftArmrest);\n      \n      const rightArmrest = new THREE.Mesh(armrestGeometry, woodMaterial);\n      rightArmrest.position.set(...seatData.position);\n      rightArmrest.position.x += 0.47;\n      rightArmrest.position.y = 0.8;\n      rightArmrest.castShadow = true;\n      scene.add(rightArmrest);\n\n      // Exact in-flight entertainment screen from reference images\n      const screenCanvas = document.createElement('canvas');\n      const screenContext = screenCanvas.getContext('2d')!;\n      screenCanvas.width = 1024;\n      screenCanvas.height = 512;\n      \n      // Create exact screen content from reference\n      screenContext.fillStyle = '#1e3a8a';\n      screenContext.fillRect(0, 0, 1024, 512);\n      \n      // Add exact branding from reference\n      screenContext.fillStyle = '#ffffff';\n      screenContext.font = 'bold 64px Arial';\n      screenContext.textAlign = 'center';\n      screenContext.fillText('Welcome', 512, 120);\n      \n      screenContext.font = 'bold 48px Arial';\n      screenContext.fillText('i c e', 512, 180);\n      \n      // Add exact icons from reference\n      screenContext.font = '32px Arial';\n      screenContext.fillText('🎬 🎵 🎮 📺', 512, 240);\n      \n      // Add exact seat info\n      screenContext.font = '24px Arial';\n      screenContext.fillText(`Seat ${seatId}`, 512, 280);\n\n      const screenTexture = new THREE.CanvasTexture(screenCanvas);\n      const screenMaterial = new THREE.MeshBasicMaterial({ \n        map: screenTexture,\n        emissive: 0x1e3a8a,\n        emissiveIntensity: 0.2\n      });\n      \n      const screenGeometry = new THREE.PlaneGeometry(0.6, 0.35);\n      const screen = new THREE.Mesh(screenGeometry, screenMaterial);\n      screen.position.set(...seatData.position);\n      screen.position.y = 1.7;\n      screen.position.z -= 0.5;\n      scene.add(screen);\n\n      // Exact magazine pocket from reference images\n      const pocketGeometry = new THREE.BoxGeometry(0.5, 0.25, 0.1);\n      const pocketMaterial = new THREE.MeshPhongMaterial({ \n        color: 0x718096,\n        shininess: 30\n      });\n      const pocket = new THREE.Mesh(pocketGeometry, pocketMaterial);\n      pocket.position.set(...seatData.position);\n      pocket.position.y = 1.2;\n      pocket.position.z -= 0.5;\n      scene.add(pocket);\n\n      // Exact seat control panel from reference images\n      const controlCanvas = document.createElement('canvas');\n      const controlContext = controlCanvas.getContext('2d')!;\n      controlCanvas.width = 256;\n      controlCanvas.height = 256;\n      \n      controlContext.fillStyle = '#2c3e50';\n      controlContext.fillRect(0, 0, 256, 256);\n      \n      controlContext.fillStyle = '#ffffff';\n      controlContext.font = 'bold 20px Arial';\n      controlContext.textAlign = 'center';\n      controlContext.fillText('SEAT CONTROLS', 128, 40);\n      \n      controlContext.font = '16px Arial';\n      controlContext.fillText('Recline', 128, 80);\n      controlContext.fillText('Light', 128, 110);\n      controlContext.fillText('Entertainment', 128, 140);\n      controlContext.fillText('Service', 128, 170);\n\n      const controlTexture = new THREE.CanvasTexture(controlCanvas);\n      const controlMaterial = new THREE.MeshBasicMaterial({ \n        map: controlTexture,\n        emissive: 0x2c3e50,\n        emissiveIntensity: 0.15\n      });\n      \n      const controlGeometry = new THREE.PlaneGeometry(0.25, 0.25);\n      const control = new THREE.Mesh(controlGeometry, controlMaterial);\n      control.position.set(...seatData.position);\n      control.position.x -= 0.7;\n      control.position.y = 0.9;\n      control.position.z -= 0.4;\n      scene.add(control);\n\n      // Exact seat labels from reference images\n      const labelCanvas = document.createElement('canvas');\n      const labelContext = labelCanvas.getContext('2d')!;\n      labelCanvas.width = 512;\n      labelCanvas.height = 256;\n      \n      // Create exact label background from reference\n      const labelGradient = labelContext.createLinearGradient(0, 0, 0, 256);\n      labelGradient.addColorStop(0, selectedSeat === seatId ? '#f39c12' : '#2c3e50');\n      labelGradient.addColorStop(1, selectedSeat === seatId ? '#e67e22' : '#1a202c');\n      labelContext.fillStyle = labelGradient;\n      labelContext.fillRect(0, 0, 512, 256);\n      \n      // Add exact border from reference\n      labelContext.strokeStyle = '#ffffff';\n      labelContext.lineWidth = 4;\n      labelContext.strokeRect(4, 4, 504, 248);\n      \n      // Add exact branding from reference\n      labelContext.fillStyle = '#ffffff';\n      labelContext.font = 'bold 48px Arial';\n      labelContext.textAlign = 'center';\n      labelContext.fillText('FlightSeat Premium', 256, 80);\n      \n      // Add exact seat number from reference\n      labelContext.font = 'bold 64px Arial';\n      labelContext.fillText(seatId, 256, 160);\n      \n      // Add exact info from reference\n      labelContext.font = '24px Arial';\n      labelContext.fillText(`Row ${seatData.row} • Premium Class`, 256, 200);\n\n      const labelTexture = new THREE.CanvasTexture(labelCanvas);\n      const labelMaterial = new THREE.MeshBasicMaterial({ \n        map: labelTexture,\n        transparent: true,\n        opacity: 0.98\n      });\n      const labelGeometry = new THREE.PlaneGeometry(0.6, 0.3);\n      const label = new THREE.Mesh(labelGeometry, labelMaterial);\n      label.position.set(...seatData.position);\n      label.position.y = 2.0;\n      scene.add(label);\n    });\n  };\n\n  const createRealisticWindows3D = (scene: any, THREE: any) => {\n    // Create premium burl wood texture for window frames\n    const woodCanvas = document.createElement('canvas');\n    const woodContext = woodCanvas.getContext('2d')!;\n    woodCanvas.width = 512;\n    woodCanvas.height = 512;\n    \n    // Create premium burl wood pattern\n    woodContext.fillStyle = '#f4d03f';\n    woodContext.fillRect(0, 0, 512, 512);\n    \n    // Add complex wood grain swirls\n    woodContext.strokeStyle = '#d68910';\n    woodContext.lineWidth = 2;\n    for (let i = 0; i < 30; i++) {\n      woodContext.beginPath();\n      woodContext.moveTo(Math.random() * 512, Math.random() * 512);\n      woodContext.quadraticCurveTo(\n        Math.random() * 512, Math.random() * 512,\n        Math.random() * 512, Math.random() * 512\n      );\n      woodContext.stroke();\n    }\n    \n    // Add burl wood knots\n    for (let i = 0; i < 15; i++) {\n      woodContext.fillStyle = '#b7950b';\n      woodContext.beginPath();\n      woodContext.arc(Math.random() * 512, Math.random() * 512, Math.random() * 20 + 10, 0, Math.PI * 2);\n      woodContext.fill();\n    }\n    \n    const woodTexture = new THREE.CanvasTexture(woodCanvas);\n    const woodMaterial = new THREE.MeshPhongMaterial({ \n      map: woodTexture,\n      shininess: 60\n    });\n\n    // Premium oval window frames with wood finish\n    const windowFrameGeometry = new THREE.BoxGeometry(1.2, 0.9, 0.15);\n    \n    // Create oval window glass using custom geometry\n    const windowGlassGeometry = new THREE.EllipseCurve(0, 0, 0.5, 0.35, 0, Math.PI * 2, false, 0);\n    const windowGlassShape = new THREE.Shape();\n    windowGlassShape.curves.push(windowGlassGeometry);\n    \n    const windowGlassExtrudeSettings = {\n      depth: 0.02,\n      bevelEnabled: false\n    };\n    \n    const windowGlassGeometry3D = new THREE.ExtrudeGeometry(windowGlassShape, windowGlassExtrudeSettings);\n    const windowGlassMaterial = new THREE.MeshPhongMaterial({ \n      color: 0x87CEEB, \n      transparent: true, \n      opacity: 0.95,\n      shininess: 200\n    });\n\n    // Left side premium oval windows\n    for (let i = 0; i < 8; i++) {\n      const windowFrame = new THREE.Mesh(windowFrameGeometry, woodMaterial);\n      windowFrame.position.set(-2.5, 0.5, 6 - i * 1.8);\n      windowFrame.castShadow = true;\n      scene.add(windowFrame);\n      \n      const windowGlass = new THREE.Mesh(windowGlassGeometry3D, windowGlassMaterial);\n      windowGlass.position.set(-2.5, 0.5, 6 - i * 1.8);\n      windowGlass.rotation.y = Math.PI / 2;\n      scene.add(windowGlass);\n    }\n\n    // Right side premium oval windows\n    for (let i = 0; i < 8; i++) {\n      const windowFrame = new THREE.Mesh(windowFrameGeometry, woodMaterial);\n      windowFrame.position.set(2.5, 0.5, 6 - i * 1.8);\n      windowFrame.castShadow = true;\n      scene.add(windowFrame);\n      \n      const windowGlass = new THREE.Mesh(windowGlassGeometry3D, windowGlassMaterial);\n      windowGlass.position.set(2.5, 0.5, 6 - i * 1.8);\n      windowGlass.rotation.y = -Math.PI / 2;\n      scene.add(windowGlass);\n    }\n\n    // Add premium window blinds\n    for (let i = 0; i < 8; i++) {\n      const blindGeometry = new THREE.PlaneGeometry(1.0, 0.7);\n      const blindMaterial = new THREE.MeshPhongMaterial({ \n        color: 0xf7fafc,\n        transparent: true,\n        opacity: 0.3\n      });\n      \n      const blind = new THREE.Mesh(blindGeometry, blindMaterial);\n      blind.position.set(-2.5, 0.5, 6 - i * 1.8);\n      blind.rotation.y = Math.PI / 2;\n      scene.add(blind);\n      \n      const blindRight = new THREE.Mesh(blindGeometry, blindMaterial);\n      blindRight.position.set(2.5, 0.5, 6 - i * 1.8);\n      blindRight.rotation.y = -Math.PI / 2;\n      scene.add(blindRight);\n    }\n  };\n\n  const createRealisticOverheadCompartments3D = (scene: any, THREE: any) => {\n    const compartmentGeometry = new THREE.BoxGeometry(4.5, 0.6, 1.0);\n    const compartmentMaterial = new THREE.MeshPhongMaterial({ \n      color: 0xe2e8f0,\n      shininess: 30\n    });\n\n    for (let i = 0; i < 6; i++) {\n      const compartment = new THREE.Mesh(compartmentGeometry, compartmentMaterial);\n      compartment.position.set(0, 2.0, 6 - i * 2);\n      compartment.castShadow = true;\n      compartment.receiveShadow = true;\n      scene.add(compartment);\n      \n      // Enhanced compartment handles\n      const handleGeometry = new THREE.BoxGeometry(0.4, 0.06, 0.06);\n      const handleMaterial = new THREE.MeshPhongMaterial({ \n        color: 0x2c3e50,\n        shininess: 60\n      });\n      \n      const handle = new THREE.Mesh(handleGeometry, handleMaterial);\n      handle.position.set(0, 1.7, 6 - i * 2);\n      handle.castShadow = true;\n      scene.add(handle);\n    }\n  };\n\n  const createRealisticCabinWalls3D = (scene: any, THREE: any) => {\n    // Create exact carpet texture from reference images\n    const carpetCanvas = document.createElement('canvas');\n    const carpetContext = carpetCanvas.getContext('2d')!;\n    carpetCanvas.width = 2048;\n    carpetCanvas.height = 2048;\n    \n    // Create exact carpet pattern from reference\n    carpetContext.fillStyle = '#1a202c';\n    carpetContext.fillRect(0, 0, 2048, 2048);\n    \n    // Add exact carpet texture pattern from reference\n    carpetContext.fillStyle = '#2d3748';\n    for (let i = 0; i < 200; i++) {\n      for (let j = 0; j < 200; j++) {\n        if ((i + j) % 2 === 0) {\n          carpetContext.fillRect(i * 10, j * 10, 8, 8);\n        }\n      }\n    }\n    \n    // Add exact diagonal pattern from reference\n    carpetContext.fillStyle = '#4a5568';\n    for (let i = 0; i < 100; i++) {\n      carpetContext.fillRect(i * 20, i * 20, 2, 2);\n    }\n    \n    const carpetTexture = new THREE.CanvasTexture(carpetCanvas);\n    const carpetMaterial = new THREE.MeshPhongMaterial({ \n      map: carpetTexture,\n      shininess: 20\n    });\n\n    // Exact cabin walls from reference images\n    const leftWallGeometry = new THREE.PlaneGeometry(16, 4.5);\n    const wallMaterial = new THREE.MeshPhongMaterial({ \n      color: 0xf8fafc,\n      shininess: 50\n    });\n    \n    const leftWall = new THREE.Mesh(leftWallGeometry, wallMaterial);\n    leftWall.position.set(-2.8, 0.75, 0);\n    leftWall.rotation.y = Math.PI / 2;\n    leftWall.receiveShadow = true;\n    scene.add(leftWall);\n    \n    // Right wall with exact accent from reference\n    const rightWall = new THREE.Mesh(leftWallGeometry, wallMaterial);\n    rightWall.position.set(2.8, 0.75, 0);\n    rightWall.rotation.y = -Math.PI / 2;\n    rightWall.receiveShadow = true;\n    scene.add(rightWall);\n\n    // Exact accent wall from reference images\n    const accentWallGeometry = new THREE.PlaneGeometry(16, 4.5);\n    const accentWallMaterial = new THREE.MeshPhongMaterial({ \n      color: 0x4c1d95,\n      shininess: 40\n    });\n    \n    const accentWall = new THREE.Mesh(accentWallGeometry, accentWallMaterial);\n    accentWall.position.set(3.2, 0.75, 0);\n    accentWall.rotation.y = -Math.PI / 2;\n    accentWall.receiveShadow = true;\n    scene.add(accentWall);\n\n    // Exact floor from reference images\n    const floorGeometry = new THREE.PlaneGeometry(16, 7);\n    const floor = new THREE.Mesh(floorGeometry, carpetMaterial);\n    floor.rotation.x = -Math.PI / 2;\n    floor.position.y = -1.8;\n    floor.receiveShadow = true;\n    scene.add(floor);\n\n    // Add exact wall-mounted screens from reference\n    for (let i = 0; i < 2; i++) {\n      const screenCanvas = document.createElement('canvas');\n      const screenContext = screenCanvas.getContext('2d')!;\n      screenCanvas.width = 512;\n      screenCanvas.height = 256;\n      \n      screenContext.fillStyle = '#1e3a8a';\n      screenContext.fillRect(0, 0, 512, 256);\n      \n      screenContext.fillStyle = '#ffffff';\n      screenContext.font = 'bold 32px Arial';\n      screenContext.textAlign = 'center';\n      screenContext.fillText('FlightSeat Premium', 256, 80);\n      \n      screenContext.font = '20px Arial';\n      screenContext.fillText('Welcome to Luxury Travel', 256, 120);\n      screenContext.fillText('Premium Entertainment', 256, 150);\n      \n      screenContext.font = '24px Arial';\n      screenContext.fillText('🎬 🎵 🍷', 256, 190);\n\n      const screenTexture = new THREE.CanvasTexture(screenCanvas);\n      const screenMaterial = new THREE.MeshBasicMaterial({ \n        map: screenTexture,\n        emissive: 0x1e3a8a,\n        emissiveIntensity: 0.15\n      });\n      \n      const screenGeometry = new THREE.PlaneGeometry(0.8, 0.4);\n      const screen = new THREE.Mesh(screenGeometry, screenMaterial);\n      screen.position.set(3.4, 1.8, 2 - i * 3);\n      screen.rotation.y = -Math.PI / 2;\n      scene.add(screen);\n    }\n\n    // Add exact magazine racks from reference\n    for (let i = 0; i < 2; i++) {\n      const rackGeometry = new THREE.BoxGeometry(0.6, 0.3, 0.1);\n      const rackMaterial = new THREE.MeshPhongMaterial({ \n        color: 0x718096,\n        shininess: 35\n      });\n      \n      const rack = new THREE.Mesh(rackGeometry, rackMaterial);\n      rack.position.set(3.3, 1.0, 2 - i * 3);\n      rack.rotation.y = -Math.PI / 2;\n      rack.castShadow = true;\n      scene.add(rack);\n    }\n\n    // Add exact exit signs from reference\n    const exitSignGeometry = new THREE.PlaneGeometry(0.4, 0.2);\n    const exitSignMaterial = new THREE.MeshBasicMaterial({ \n      color: 0xff0000,\n      emissive: 0xff0000,\n      emissiveIntensity: 0.3\n    });\n    \n    const exitSign = new THREE.Mesh(exitSignGeometry, exitSignMaterial);\n    exitSign.position.set(-2.6, 2.0, 0);\n    exitSign.rotation.y = Math.PI / 2;\n    scene.add(exitSign);\n\n    // Add exact safety signs from reference\n    const safetySignGeometry = new THREE.PlaneGeometry(0.6, 0.3);\n    const safetySignMaterial = new THREE.MeshBasicMaterial({ \n      color: 0xffffff,\n      emissive: 0xffffff,\n      emissiveIntensity: 0.2\n    });\n    \n    const safetySign = new THREE.Mesh(safetySignGeometry, safetySignMaterial);\n    safetySign.position.set(-2.6, 2.5, 0);\n    safetySign.rotation.y = Math.PI / 2;\n    scene.add(safetySign);\n  };\n\n  const createRealisticCeilingPanels3D = (scene: any, THREE: any) => {\n    const ceilingGeometry = new THREE.PlaneGeometry(5.6, 16);\n    const ceilingMaterial = new THREE.MeshPhongMaterial({ \n      color: 0xf8fafc,\n      shininess: 30\n    });\n    \n    const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);\n    ceiling.position.set(0, 3.0, 0);\n    ceiling.rotation.x = Math.PI / 2;\n    ceiling.receiveShadow = true;\n    scene.add(ceiling);\n    \n    // Exact ceiling lighting system from reference images\n    for (let i = 0; i < 8; i++) {\n      // Exact light fixture housing from reference\n      const fixtureGeometry = new THREE.CylinderGeometry(0.18, 0.18, 0.12, 16);\n      const fixtureMaterial = new THREE.MeshPhongMaterial({ \n        color: 0xe2e8f0,\n        shininess: 50\n      });\n      \n      const fixture = new THREE.Mesh(fixtureGeometry, fixtureMaterial);\n      fixture.position.set(0, 2.95, 6 - i * 1.8);\n      fixture.castShadow = true;\n      scene.add(fixture);\n      \n      // Exact light bulb from reference\n      const lightGeometry = new THREE.SphereGeometry(0.12, 16, 16);\n      const lightMaterial = new THREE.MeshBasicMaterial({ \n        color: 0xffffff,\n        emissive: 0xffffff,\n        emissiveIntensity: 0.8\n      });\n      \n      const light = new THREE.Mesh(lightGeometry, lightMaterial);\n      light.position.set(0, 2.9, 6 - i * 1.8);\n      scene.add(light);\n    }\n\n    // Add exact overhead compartments from reference\n    for (let i = 0; i < 6; i++) {\n      const compartmentGeometry = new THREE.BoxGeometry(4.8, 0.7, 1.2);\n      const compartmentMaterial = new THREE.MeshPhongMaterial({ \n        color: 0xe2e8f0,\n        shininess: 40\n      });\n      \n      const compartment = new THREE.Mesh(compartmentGeometry, compartmentMaterial);\n      compartment.position.set(0, 2.2, 6 - i * 2);\n      compartment.castShadow = true;\n      compartment.receiveShadow = true;\n      scene.add(compartment);\n      \n      // Add exact compartment handles from reference\n      const handleGeometry = new THREE.BoxGeometry(0.5, 0.08, 0.08);\n      const handleMaterial = new THREE.MeshPhongMaterial({ \n        color: 0x2c3e50,\n        shininess: 70\n      });\n      \n      const handle = new THREE.Mesh(handleGeometry, handleMaterial);\n      handle.position.set(0, 1.9, 6 - i * 2);\n      handle.castShadow = true;\n      scene.add(handle);\n    }\n\n    // Add exact lighting control panel from reference\n    const controlPanelGeometry = new THREE.BoxGeometry(0.8, 0.4, 0.05);\n    const controlPanelMaterial = new THREE.MeshPhongMaterial({ \n      color: 0xffffff,\n      shininess: 60\n    });\n    \n    const controlPanel = new THREE.Mesh(controlPanelGeometry, controlPanelMaterial);\n    controlPanel.position.set(0, 2.8, 8);\n    scene.add(controlPanel);\n\n    // Create exact control panel texture from reference\n    const panelCanvas = document.createElement('canvas');\n    const panelContext = panelCanvas.getContext('2d')!;\n    panelCanvas.width = 256;\n    panelCanvas.height = 128;\n    \n    panelContext.fillStyle = '#ffffff';\n    panelContext.fillRect(0, 0, 256, 128);\n    \n    panelContext.strokeStyle = '#2c3e50';\n    panelContext.lineWidth = 2;\n    panelContext.strokeRect(10, 10, 236, 108);\n    \n    panelContext.fillStyle = '#2c3e50';\n    panelContext.font = 'bold 16px Arial';\n    panelContext.textAlign = 'center';\n    panelContext.fillText('CABIN LIGHTS', 128, 35);\n    \n    panelContext.fillStyle = '#e74c3c';\n    panelContext.font = 'bold 20px Arial';\n    panelContext.fillText('Lights OFF', 128, 70);\n    \n    panelContext.fillStyle = '#2c3e50';\n    panelContext.font = '12px Arial';\n    panelContext.fillText('BOEING 777-300ER', 128, 95);\n    panelContext.fillText('Seat 08D', 128, 110);\n\n    const panelTexture = new THREE.CanvasTexture(panelCanvas);\n    const panelLabelMaterial = new THREE.MeshBasicMaterial({ \n      map: panelTexture,\n      transparent: true,\n      opacity: 0.98\n    });\n    \n    const panelLabelGeometry = new THREE.PlaneGeometry(0.7, 0.35);\n    const panelLabel = new THREE.Mesh(panelLabelGeometry, panelLabelMaterial);\n    panelLabel.position.set(0, 2.8, 8.03);\n    scene.add(panelLabel);\n\n    // Add exact reading lights from reference\n    for (let i = 0; i < 8; i++) {\n      const readingLightGeometry = new THREE.SphereGeometry(0.08, 16, 16);\n      const readingLightMaterial = new THREE.MeshBasicMaterial({ \n        color: 0xffffff,\n        emissive: 0xffffff,\n        emissiveIntensity: 0.4\n      });\n      \n      const readingLight = new THREE.Mesh(readingLightGeometry, readingLightMaterial);\n      readingLight.position.set(0, 2.1, 6 - i * 1.8);\n      scene.add(readingLight);\n    }\n\n    // Add exact air vents from reference\n    for (let i = 0; i < 8; i++) {\n      const ventGeometry = new THREE.CylinderGeometry(0.06, 0.06, 0.05, 8);\n      const ventMaterial = new THREE.MeshPhongMaterial({ \n        color: 0x718096,\n        shininess: 60\n      });\n      \n      const vent = new THREE.Mesh(ventGeometry, ventMaterial);\n      vent.position.set(0, 2.0, 6 - i * 1.8);\n      vent.rotation.x = Math.PI / 2;\n      scene.add(vent);\n    }\n  };\n\n  const createRealisticAisleLighting3D = (scene: any, THREE: any) => {\n    // Enhanced aisle floor lighting with proper aviation standards\n    for (let i = 0; i < 8; i++) {\n      const lightGeometry = new THREE.PlaneGeometry(1.0, 0.12);\n      const lightMaterial = new THREE.MeshBasicMaterial({ \n        color: 0x4ade80,\n        emissive: 0x4ade80,\n        emissiveIntensity: 0.3\n      });\n      \n      const light = new THREE.Mesh(lightGeometry, lightMaterial);\n      light.position.set(0, -1.45, 6 - i * 1.8);\n      light.rotation.x = -Math.PI / 2;\n      scene.add(light);\n    }\n  };\n\n  const createSkybox3D = (scene: any, THREE: any) => {\n    // Create a simple gradient skybox\n    const skyGeometry = new THREE.SphereGeometry(500, 32, 32);\n    const skyMaterial = new THREE.MeshBasicMaterial({ \n      color: 0x87CEEB, \n      side: THREE.BackSide \n    });\n    const skybox = new THREE.Mesh(skyGeometry, skyMaterial);\n    scene.add(skybox);\n\n    // Add some clouds\n    const cloudGeometry = new THREE.SphereGeometry(15, 16, 16);\n    const cloudMaterial = new THREE.MeshBasicMaterial({ \n      color: 0xffffff, \n      transparent: true, \n      opacity: 0.6 \n    });\n\n    for (let i = 0; i < 8; i++) {\n      const cloud = new THREE.Mesh(cloudGeometry, cloudMaterial);\n      cloud.position.set(\n        (Math.random() - 0.5) * 600,\n        Math.random() * 80 + 20,\n        (Math.random() - 0.5) * 600\n      );\n      cloud.scale.setScalar(Math.random() * 1.5 + 0.5);\n      scene.add(cloud);\n    }\n  };\n\n  const setupControls = (camera: any, domElement: HTMLElement, THREE: any) => {\n    let isMouseDown = false;\n    let mouseX = 0;\n    let mouseY = 0;\n    let cameraTheta = 0;\n    let cameraPhi = Math.PI / 2;\n    let cameraRadius = 6;\n\n    const updateCamera = () => {\n      camera.position.x = cameraRadius * Math.sin(cameraPhi) * Math.cos(cameraTheta);\n      camera.position.y = cameraRadius * Math.cos(cameraPhi) + 1;\n      camera.position.z = cameraRadius * Math.sin(cameraPhi) * Math.sin(cameraTheta);\n      camera.lookAt(0, 1, 0);\n    };\n\n    const onMouseDown = (event: MouseEvent) => {\n      isMouseDown = true;\n      mouseX = event.clientX;\n      mouseY = event.clientY;\n    };\n\n    const onMouseMove = (event: MouseEvent) => {\n      if (!isMouseDown) return;\n\n      const deltaX = event.clientX - mouseX;\n      const deltaY = event.clientY - mouseY;\n\n      cameraTheta -= deltaX * 0.01;\n      cameraPhi += deltaY * 0.01;\n      cameraPhi = Math.max(0.1, Math.min(Math.PI - 0.1, cameraPhi));\n\n      updateCamera();\n\n      mouseX = event.clientX;\n      mouseY = event.clientY;\n    };\n\n    const onMouseUp = () => {\n      isMouseDown = false;\n    };\n\n    const onWheel = (event: WheelEvent) => {\n      cameraRadius += event.deltaY * 0.01;\n      cameraRadius = Math.max(3, Math.min(15, cameraRadius));\n      updateCamera();\n    };\n\n    domElement.addEventListener('mousedown', onMouseDown);\n    domElement.addEventListener('mousemove', onMouseMove);\n    domElement.addEventListener('mouseup', onMouseUp);\n    domElement.addEventListener('wheel', onWheel);\n    domElement.style.cursor = 'grab';\n\n    domElement.addEventListener('mousedown', () => {\n      domElement.style.cursor = 'grabbing';\n    });\n    \n    domElement.addEventListener('mouseup', () => {\n      domElement.style.cursor = 'grab';\n    });\n  };\n\n  // Update camera position when seat changes\n  useEffect(() => {\n    if (selectedSeat && SEAT_POSITIONS_3D[selectedSeat] && cameraRef.current) {\n      const seatData = SEAT_POSITIONS_3D[selectedSeat];\n      const camera = cameraRef.current;\n      \n      // Move camera to seat position with offset\n      const startPos = camera.position.clone();\n      const endPos = new THREE.Vector3(\n        seatData.position[0] + 0.2,\n        seatData.position[1] + 0.5,\n        seatData.position[2] + 1\n      );\n      \n      const duration = 1500;\n      const startTime = Date.now();\n      \n      const animateCamera = () => {\n        const elapsed = Date.now() - startTime;\n        const progress = Math.min(elapsed / duration, 1);\n        const easeProgress = 1 - Math.pow(1 - progress, 3);\n        \n        camera.position.lerpVectors(startPos, endPos, easeProgress);\n        camera.lookAt(...seatData.target);\n        \n        if (progress < 1) {\n          requestAnimationFrame(animateCamera);\n        }\n      };\n      \n      animateCamera();\n    }\n  }, [selectedSeat]);\n\n  const handleSeatSelection = (seat: string) => {\n    if (onSeatChange) {\n      onSeatChange(seat);\n    }\n  };\n\n  if (!isThreeLoaded && !error) {\n    return (\n      <div style={{\n        width: '100%',\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        color: 'white'\n      }}>\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ fontSize: '48px', marginBottom: '20px' }}>🛩️</div>\n          <div style={{ fontSize: '24px', marginBottom: '10px' }}>Loading 3D Engine...</div>\n          <div style={{ fontSize: '16px', opacity: 0.8 }}>Preparing your immersive airplane experience</div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div style={{ width: '100%', height: '100vh', position: 'relative' }}>\n      {/* Loading overlay */}\n      {isLoading && (\n        <div style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'rgba(0, 0, 0, 0.8)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 1000,\n          color: 'white',\n          fontSize: '18px'\n        }}>\n          <div style={{ textAlign: 'center' }}>\n            <div style={{ marginBottom: '20px', fontSize: '48px' }}>✈️</div>\n            <div style={{ fontSize: '24px', marginBottom: '10px' }}>Loading 3D Airplane...</div>\n            <div style={{ fontSize: '16px', opacity: 0.8 }}>Rendering immersive cabin experience</div>\n          </div>\n        </div>\n      )}\n\n      {/* Error message */}\n      {error && (\n        <div style={{\n          position: 'absolute',\n          top: 20,\n          left: 20,\n          right: 20,\n          background: 'rgba(255, 0, 0, 0.9)',\n          color: 'white',\n          padding: '15px',\n          borderRadius: '8px',\n          zIndex: 1000\n        }}>\n          Error: {error}\n        </div>\n      )}\n\n      {/* Seat selection UI */}\n      <div style={{\n        position: 'absolute',\n        top: '20px',\n        right: '20px',\n        background: 'rgba(255, 255, 255, 0.95)',\n        padding: '20px',\n        borderRadius: '12px',\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n        zIndex: 100,\n        minWidth: '220px'\n      }}>\n        <h3 style={{ margin: '0 0 15px 0', color: '#2c3e50' }}>🪑 Select Your Seat</h3>\n        <select\n          value={selectedSeat || ''}\n          onChange={(e) => handleSeatSelection(e.target.value)}\n          style={{\n            width: '100%',\n            padding: '12px',\n            borderRadius: '6px',\n            border: '2px solid #3498db',\n            fontSize: '16px',\n            background: 'white',\n            marginBottom: '15px'\n          }}\n        >\n          <option value=\"\">Choose a seat...</option>\n          {Object.keys(SEAT_POSITIONS_3D).map(seatId => (\n            <option key={seatId} value={seatId}>\n              Seat {seatId} - Row {SEAT_POSITIONS_3D[seatId].row} ({SEAT_POSITIONS_3D[seatId].side})\n            </option>\n          ))}\n        </select>\n        \n        {selectedSeat && (\n          <div style={{\n            padding: '12px',\n            background: '#e8f5e8',\n            borderRadius: '6px',\n            color: '#2c5530'\n          }}>\n            <div><strong>Current View:</strong></div>\n            <div>Seat {selectedSeat}</div>\n            <div>Row {SEAT_POSITIONS_3D[selectedSeat]?.row}</div>\n            <div>{SEAT_POSITIONS_3D[selectedSeat]?.side} Side</div>\n          </div>\n        )}\n      </div>\n\n      {/* Controls info */}\n      <div style={{\n        position: 'absolute',\n        bottom: '20px',\n        left: '20px',\n        background: 'rgba(0, 0, 0, 0.8)',\n        color: 'white',\n        padding: '15px',\n        borderRadius: '8px',\n        fontSize: '14px'\n      }}>\n        <div><strong>🎮 3D Controls:</strong></div>\n        <div>• Drag to rotate view</div>\n        <div>• Scroll to zoom in/out</div>\n        <div>• Select seat for camera movement</div>\n        <div>• Immersive 3D airplane interior</div>\n      </div>\n\n      {/* Three.js mount point */}\n      <div \n        ref={mountRef} \n        style={{ \n          width: '100%', \n          height: '100%',\n          cursor: 'grab'\n        }}\n      />\n    </div>\n  );\n};\n\n// Throttle function for smooth slider performance\nconst throttle = (func: Function, delay: number) => {\n  let timeoutId: number | null = null;\n  let lastExecTime = 0;\n  return (...args: any[]) => {\n    const currentTime = Date.now();\n    \n    if (currentTime - lastExecTime > delay) {\n      func(...args);\n      lastExecTime = currentTime;\n    } else {\n      if (timeoutId) clearTimeout(timeoutId);\n      timeoutId = setTimeout(() => {\n        func(...args);\n        lastExecTime = Date.now();\n      }, delay - (currentTime - lastExecTime));\n    }\n  };\n};\n\n// Fix for default markers\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\n// Types\ninterface Waypoint {\n  lat: number;\n  lon: number;\n}\n\ntype SunCondition = \n  | 'GOLDEN_HOUR_BEFORE_SUNRISE'\n  | 'SUNRISE'\n  | 'DAYLIGHT'\n  | 'GOLDEN_HOUR_BEFORE_SUNSET'\n  | 'SUNSET'\n  | 'NIGHT';\n\ninterface SunPosition {\n  lat: number;\n  lon: number;\n  time: string;\n  azimuth: number;\n  elevation: number;\n  condition?: SunCondition; // Optional for backward compatibility\n}\n\ninterface EnhancedSunAnalysis {\n  willSeeSunrise: boolean;\n  willSeeSunset: boolean;\n  willSeeNight: boolean;\n  willSeeGoldenHour: boolean;\n  sunrise?: {\n    time: string;\n    timeString: string;\n    location: string;\n    progressPercent: number;\n  };\n  sunset?: {\n    time: string;\n    timeString: string;\n    location: string;\n    progressPercent: number;\n  };\n  summary: string[];\n  recommendations: string[];\n  seatSuggestion: 'left' | 'right' | 'either';\n  timeline: Array<{\n    time: string;\n    timeString: string;\n    lat: number;\n    lon: number;\n    sunElevation: number;\n    sunAzimuth: number;\n    condition: 'NIGHT' | 'TWILIGHT' | 'GOLDEN_HOUR' | 'DAYLIGHT';\n    progressPercent: number;\n  }>;\n  nightDuration?: number;\n  dayDuration?: number;\n  mountainCount?: number;\n}\n\ninterface FlightData {\n  path: Waypoint[];\n  sunPositions: SunPosition[];\n  recommendation: string;\n  distance?: number;\n  flightTime?: number;\n  enhancedAnalysis?: EnhancedSunAnalysis;\n}\n\n// Airport coordinates database\nconst AIRPORTS: { [key: string]: [number, number] } = {\n  // Indian Airports\n  'DEL': [28.5562, 77.1000], // Delhi\n  'BOM': [19.0896, 72.8656], // Mumbai\n  'BLR': [12.9716, 77.5946], // Bangalore\n  'MAA': [12.9941, 80.1709], // Chennai\n  'CCU': [22.6547, 88.4467], // Kolkata\n  'HYD': [17.2403, 78.4294], // Hyderabad\n  'COK': [9.9312, 76.2673],  // Kochi\n  'GOI': [15.3808, 73.8314], // Goa\n  'AMD': [23.0725, 72.6347], // Ahmedabad\n  'PNQ': [18.5679, 73.9143], // Pune\n  'BHO': [23.2599, 77.4126], // Bhopal\n  'JAI': [26.9124, 75.7873], // Jaipur\n  'LKO': [26.7606, 80.8843], // Lucknow\n  \n  // International Airports\n  'JFK': [40.6413, -73.7781], // New York JFK\n  'LHR': [51.4700, -0.4543],  // London Heathrow\n  'NRT': [35.7720, 140.3929], // Tokyo Narita\n  'LAX': [33.9425, -118.4081], // Los Angeles\n  'DXB': [25.2532, 55.3657],  // Dubai\n  'SIN': [1.3644, 103.9915],  // Singapore\n  'SYD': [-33.9461, 151.1772], // Sydney\n  'CDG': [49.0097, 2.5479],   // Paris Charles de Gaulle\n  'FRA': [50.0379, 8.5622],   // Frankfurt\n  'HKG': [22.3080, 113.9185], // Hong Kong\n  'ICN': [37.4602, 126.4407], // Seoul Incheon\n  'BKK': [13.6900, 100.7501], // Bangkok\n  'DOH': [25.2731, 51.6080],  // Doha\n  'IST': [41.2619, 28.7414],  // Istanbul\n  'MAD': [40.4719, -3.5626]   // Madrid\n};\n\n// Mountain locations for mountain view feature\nconst MOUNTAINS: { [key: string]: { lat: number, lon: number, name: string, elevation: number, region: string } } = {\n  // Himalayas - Northern India\n  'EVEREST': { lat: 27.9881, lon: 86.9250, name: 'Mount Everest', elevation: 8849, region: 'Himalayas' },\n  'K2': { lat: 35.8808, lon: 76.5155, name: 'K2', elevation: 8611, region: 'Karakoram' },\n  'KANCHENJUNGA': { lat: 27.7025, lon: 88.1475, name: 'Kanchenjunga', elevation: 8586, region: 'Himalayas' },\n  'NANDA_DEVI': { lat: 30.3763, lon: 79.9737, name: 'Nanda Devi', elevation: 7816, region: 'Himalayas' },\n  'DHAULAGIRI': { lat: 28.6967, lon: 83.4933, name: 'Dhaulagiri', elevation: 8167, region: 'Himalayas' },\n  'ANNAPURNA': { lat: 28.5967, lon: 83.8203, name: 'Annapurna', elevation: 8091, region: 'Himalayas' },\n  \n  // Western Ghats - South & West India\n  'ANAMUDI': { lat: 10.1783, lon: 77.0650, name: 'Anamudi', elevation: 2695, region: 'Western Ghats' },\n  'DODDABETTA': { lat: 11.4064, lon: 76.7392, name: 'Doddabetta', elevation: 2637, region: 'Nilgiris' },\n  'MULLAYANAGIRI': { lat: 13.3931, lon: 75.7185, name: 'Mullayanagiri', elevation: 1930, region: 'Western Ghats' },\n  'KALSUBAI': { lat: 19.6092, lon: 73.7031, name: 'Kalsubai', elevation: 1646, region: 'Sahyadris' },\n  'HARISHCHANDRAGAD': { lat: 19.5217, lon: 73.7636, name: 'Harishchandragad', elevation: 1424, region: 'Sahyadris' },\n  \n  // Eastern Ghats & Central India\n  'MAHENDRAGIRI': { lat: 18.8503, lon: 84.2883, name: 'Mahendragiri', elevation: 1501, region: 'Eastern Ghats' },\n  'ARMA_KONDA': { lat: 18.3500, lon: 82.9167, name: 'Arma Konda', elevation: 1680, region: 'Eastern Ghats' },\n  'GURU_SHIKHAR': { lat: 24.5925, lon: 72.7894, name: 'Guru Shikhar', elevation: 1722, region: 'Aravalli' },\n  \n  // Northeast India\n  'SARAMATI': { lat: 26.0000, lon: 94.7667, name: 'Saramati', elevation: 3826, region: 'Nagaland Hills' },\n  'BLUE_MOUNTAIN': { lat: 23.2833, lon: 92.8167, name: 'Blue Mountain', elevation: 2157, region: 'Mizoram Hills' },\n  \n  // International Mountains (for international flights)\n  'MONT_BLANC': { lat: 45.8326, lon: 6.8652, name: 'Mont Blanc', elevation: 4809, region: 'Alps' },\n  'MATTERHORN': { lat: 45.9763, lon: 7.6586, name: 'Matterhorn', elevation: 4478, region: 'Alps' },\n  'FUJI': { lat: 35.3606, lon: 138.7274, name: 'Mount Fuji', elevation: 3776, region: 'Japan' },\n  'DENALI': { lat: 63.0692, lon: -151.0070, name: 'Denali', elevation: 6190, region: 'Alaska' },\n  'ROCKY_MOUNTAINS': { lat: 39.7392, lon: -104.9903, name: 'Rocky Mountains', elevation: 4401, region: 'USA' },\n};\n\n// Function to get mountains visible from flight path\nconst getMountainsVisibleFromPath = (flightPath: Waypoint[], maxDistance: number = 200): string[] => {\n  const visibleMountains: string[] = [];\n  \n  // Check each mountain against the flight path\n  Object.entries(MOUNTAINS).forEach(([mountainKey, mountain]) => {\n    // Check if mountain is within viewing distance of any point on the flight path\n    const isVisible = flightPath.some(waypoint => {\n      const distance = calculateDistance(waypoint.lat, waypoint.lon, mountain.lat, mountain.lon);\n      return distance <= maxDistance; // Within 200km viewing distance\n    });\n    \n    if (isVisible) {\n      visibleMountains.push(mountainKey);\n    }\n  });\n  \n  return visibleMountains;\n};\n\n// Distance calculation function (great circle distance)\nconst calculateDistance = (lat1: number, lon1: number, lat2: number, lon2: number): number => {\n  const R = 6371; // Earth's radius in kilometers\n  const dLat = (lat2 - lat1) * Math.PI / 180;\n  const dLon = (lon2 - lon1) * Math.PI / 180;\n  const a = \n    Math.sin(dLat/2) * Math.sin(dLat/2) +\n    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * \n    Math.sin(dLon/2) * Math.sin(dLon/2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  return R * c;\n};\n\n// Simplified flight analysis function\nconst generateSimplifiedFlightAnalysis = (\n  fromAirport: string,\n  toAirport: string,\n  departureTime: string,\n  flightDuration: number\n): FlightData => {\n  console.log(`Analyzing flight: ${fromAirport} → ${toAirport}, ${departureTime}, ${flightDuration} min`);\n  \n  const fromCoords = AIRPORTS[fromAirport];\n  const toCoords = AIRPORTS[toAirport];\n  \n  if (!fromCoords || !toCoords) {\n    throw new Error(`Unknown airport: ${fromAirport} or ${toAirport}`);\n  }\n\n  // Parse departure time\n  const depTime = new Date(departureTime);\n  const arrivalTime = new Date(depTime.getTime() + flightDuration * 60 * 1000);\n  \n  // Generate basic flight path (5 waypoints)\n  const path: Waypoint[] = [];\n  for (let i = 0; i <= 4; i++) {\n    const fraction = i / 4;\n    const lat = fromCoords[0] + (toCoords[0] - fromCoords[0]) * fraction;\n    const lon = fromCoords[1] + (toCoords[1] - fromCoords[1]) * fraction;\n    path.push({ lat, lon });\n  }\n\n  // Generate basic sun analysis\n  const enhancedAnalysis = generateBasicSunAnalysis(\n    fromAirport,\n    toAirport,\n    depTime,\n    arrivalTime,\n    flightDuration\n  );\n\n  // Generate sun positions with correct side placement based on flight direction\n  const sunPositions: SunPosition[] = path.map((waypoint, index) => {\n    const timeAtWaypoint = new Date(depTime.getTime() + (index / 4) * flightDuration * 60 * 1000);\n    const hour = timeAtWaypoint.getHours();\n    const minute = timeAtWaypoint.getMinutes();\n    const timeInMinutes = hour * 60 + minute;\n    \n    // Calculate flight direction\n    const fromCoords = AIRPORTS[fromAirport];\n    const toCoords = AIRPORTS[toAirport];\n    const lonDiff = toCoords[1] - fromCoords[1]; // + means flying east, - means flying west\n    \n    // Simplified sun elevation based on time of day\n    let elevation: number;\n    if (hour >= 6 && hour <= 8) elevation = Math.random() * 10; // Sunrise\n    else if (hour >= 18 && hour <= 20) elevation = Math.random() * 10; // Sunset\n    else if (hour >= 9 && hour <= 17) elevation = 30 + Math.random() * 40; // Day\n    else elevation = -10 - Math.random() * 20; // Night\n    \n    // Use departure time to determine sun position for the entire flight\n    const depHour = depTime.getHours();\n    const depMinute = depTime.getMinutes();\n    const depTimeInMinutes = depHour * 60 + depMinute;\n    \n    // Define time intervals in minutes (same as in generateBasicSunAnalysis)\n    const GOLDEN_HOUR_BEFORE_SUNRISE_START = 4 * 60;    // 4:00 AM\n    const GOLDEN_HOUR_BEFORE_SUNRISE_END = 4 * 60 + 59; // 4:59 AM\n    const SUNRISE_START = 5 * 60;                       // 5:00 AM\n    const SUNRISE_END = 8 * 60;                          // 8:00 AM\n    const SUN_VISIBLE_START = 8 * 60 + 1;                // 8:01 AM\n    const SUN_VISIBLE_END = 17 * 60;                     // 5:00 PM\n    const GOLDEN_HOUR_BEFORE_SUNSET_START = 17 * 60 + 1; // 5:01 PM\n    const GOLDEN_HOUR_BEFORE_SUNSET_END = 17 * 60 + 59;  // 5:59 PM\n    const SUNSET_START = 18 * 60;                        // 6:00 PM\n    const SUNSET_END = 19 * 60;                          // 7:00 PM\n    \n    // Calculate realistic sun position based on time of day and flight direction\n    let condition: SunCondition;\n    let azimuth: number;\n    \n    // Determine condition based on time with comprehensive coverage of ALL scenarios\n    // Helper function to check if time falls within a range (handles midnight wrap)\n    const isTimeInRange = (time: number, start: number, end: number): boolean => {\n      if (start <= end) {\n        // Normal range (e.g., 5:00 AM to 8:00 AM)\n        return time >= start && time <= end;\n      } else {\n        // Overnight range (e.g., 7:01 PM to 3:59 AM)\n        return time >= start || time <= end;\n      }\n    };\n    \n    // Define ALL time periods (including night period that wraps around midnight)\n    const NIGHT_START = 19 * 60 + 1; // 7:01 PM (1141 minutes)\n    const NIGHT_END = 3 * 60 + 59;   // 3:59 AM (239 minutes)\n    \n    // Check conditions in priority order (most specific first)\n    if (isTimeInRange(timeInMinutes, SUNRISE_START, SUNRISE_END)) {\n      // 5:00 AM - 8:00 AM: Sunrise period\n      condition = 'SUNRISE';\n    } else if (isTimeInRange(timeInMinutes, GOLDEN_HOUR_BEFORE_SUNRISE_START, GOLDEN_HOUR_BEFORE_SUNRISE_END)) {\n      // 4:00 AM - 4:59 AM: Golden hour before sunrise\n      condition = 'GOLDEN_HOUR_BEFORE_SUNRISE';\n    } else if (isTimeInRange(timeInMinutes, SUNSET_START, SUNSET_END)) {\n      // 6:00 PM - 7:00 PM: Sunset period\n      condition = 'SUNSET';\n    } else if (isTimeInRange(timeInMinutes, GOLDEN_HOUR_BEFORE_SUNSET_START, GOLDEN_HOUR_BEFORE_SUNSET_END)) {\n      // 5:01 PM - 5:59 PM: Golden hour before sunset\n      condition = 'GOLDEN_HOUR_BEFORE_SUNSET';\n    } else if (isTimeInRange(timeInMinutes, SUN_VISIBLE_START, SUN_VISIBLE_END)) {\n      // 8:01 AM - 5:00 PM: Full daylight\n      condition = 'DAYLIGHT';\n    } else if (isTimeInRange(timeInMinutes, NIGHT_START, NIGHT_END)) {\n      // 7:01 PM - 3:59 AM: Night period (wraps around midnight)\n      condition = 'NIGHT';\n    } else {\n      // Fallback for any edge cases\n      condition = 'DAYLIGHT';\n    }\n    \n    // Debug logging for time condition assignment\n    const timeStr = `${Math.floor(timeInMinutes/60).toString().padStart(2,'0')}:${(timeInMinutes%60).toString().padStart(2,'0')}`;\n    console.log(`TIME CONDITION: ${timeStr} (${timeInMinutes}min) → ${condition}`);\n    \n    // Calculate realistic sun azimuth with hardcoded city pair overrides\n    const isSunrise = condition === 'SUNRISE' || condition === 'GOLDEN_HOUR_BEFORE_SUNRISE';\n    const isSunset = condition === 'SUNSET' || condition === 'GOLDEN_HOUR_BEFORE_SUNSET';\n    \n    // Try hardcoded mapping first\n    let hardcodedSide: 'left' | 'right' | null = null;\n    if (isSunrise) {\n      hardcodedSide = getHardcodedSunSide(fromAirport, toAirport, true);\n    } else if (isSunset) {\n      hardcodedSide = getHardcodedSunSide(fromAirport, toAirport, false);\n    }\n    \n    // Calculate realistic sun azimuth based on actual time and sun movement\n    azimuth = calculateRealisticSunAzimuth(timeInMinutes, lonDiff, fromAirport, toAirport);\n    \n    console.log(`REALISTIC SUN: ${fromAirport}→${toAirport}, Time: ${Math.floor(timeInMinutes/60)}:${String(timeInMinutes%60).padStart(2,'0')}, Condition: ${condition}, Azimuth: ${azimuth.toFixed(1)}°`);\n    \n    return {\n      lat: waypoint.lat,\n      lon: waypoint.lon,\n      time: timeAtWaypoint.toISOString(),\n      azimuth,\n      elevation,\n      condition\n    };\n  });\n\n  // Calculate mountain count\n  const visibleMountains = getMountainsVisibleFromPath(path, 200);\n  const mountainCount = visibleMountains.length;\n\n  return {\n    path,\n    sunPositions,\n    recommendation: enhancedAnalysis.seatSuggestion,\n    enhancedAnalysis: {\n      ...enhancedAnalysis,\n      mountainCount\n    }\n  };\n};\n\n// Enhanced sun analysis based on precise time intervals\nconst generateBasicSunAnalysis = (\n  fromAirport: string,\n  toAirport: string,\n  departureTime: Date,\n  arrivalTime: Date,\n  flightDuration: number\n): EnhancedSunAnalysis => {\n  \n  const depHour = departureTime.getHours();\n  const depMinute = departureTime.getMinutes();\n  const arrHour = arrivalTime.getHours();\n  const arrMinute = arrivalTime.getMinutes();\n  \n  console.log(`Flight time analysis: Dep ${depHour}:${depMinute.toString().padStart(2, '0')} → Arr ${arrHour}:${arrMinute.toString().padStart(2, '0')}`);\n  \n  // Convert times to minutes for easier comparison\n  const depTimeMinutes = depHour * 60 + depMinute;\n  const arrTimeMinutes = arrHour * 60 + arrMinute;\n  \n  // Define time intervals in minutes\n  const GOLDEN_HOUR_BEFORE_SUNRISE_START = 4 * 60;    // 4:00 AM\n  const GOLDEN_HOUR_BEFORE_SUNRISE_END = 4 * 60 + 59; // 4:59 AM\n  const SUNRISE_START = 5 * 60;                       // 5:00 AM\n  const SUNRISE_END = 8 * 60;                          // 8:00 AM\n  const SUN_VISIBLE_START = 8 * 60 + 1;                // 8:01 AM\n  const SUN_VISIBLE_END = 17 * 60;                     // 5:00 PM\n  const GOLDEN_HOUR_BEFORE_SUNSET_START = 17 * 60 + 1; // 5:01 PM\n  const GOLDEN_HOUR_BEFORE_SUNSET_END = 17 * 60 + 59;  // 5:59 PM\n  const SUNSET_START = 18 * 60;                        // 6:00 PM\n  const SUNSET_END = 19 * 60;                          // 7:00 PM\n  const NIGHT_START = 19 * 60 + 1;                     // 7:01 PM\n  const NIGHT_END = 3 * 60 + 59;                       // 3:59 AM\n  \n  // Initialize detection flags\n  let willSeeGoldenHourBeforeSunrise = false;\n  let willSeeSunrise = false;\n  let willSeeSunVisible = false;\n  let willSeeGoldenHourBeforeSunset = false;\n  let willSeeSunset = false;\n  let willSeeNight = false;\n  \n  // Function to check if a time interval overlaps with flight time\n  // Handles ALL scenarios:\n  // ✅ Same-day flights (10AM-2PM)\n  // ✅ Overnight flights (4PM-2AM) \n  // ✅ Long flights (24+ hours)\n  // ✅ Night period wrap-around (7:01PM-3:59AM)\n  // ✅ All time periods: sunrise, sunset, golden hour, daylight, night\n  const checkTimeOverlap = (startMinutes: number, endMinutes: number): boolean => {\n    const flightDurationMinutes = typeof flightDuration === 'number' ? flightDuration : 0;\n    \n    // Calculate flight end time in minutes from start of day\n    const flightEndMinutes = depTimeMinutes + flightDurationMinutes;\n    \n    // Handle night period (wraps around midnight: 19:01 to 3:59)\n    if (startMinutes > endMinutes) {\n      // For night period, check two conditions:\n      // 1. Flight starts during night hours (after 19:01)\n      // 2. Flight crosses midnight and continues into night hours (before 3:59)\n      \n      const startsInNight = depTimeMinutes >= startMinutes; // Starts after 19:01\n      const endsInNight = (flightEndMinutes > 24*60) && ((flightEndMinutes - 24*60) <= endMinutes); // Crosses midnight and ends before 3:59\n      const crossesMidnight = flightEndMinutes > 24*60;\n      \n      return startsInNight || (crossesMidnight && endsInNight);\n    }\n    \n    // Handle regular periods (don't wrap around midnight)\n    // Check if the time period overlaps with flight duration\n    \n    if (flightEndMinutes <= 24*60) {\n      // Flight doesn't cross midnight - simple overlap check\n      return (depTimeMinutes <= endMinutes) && (flightEndMinutes >= startMinutes);\n    } else {\n      // Flight crosses midnight - check both before and after midnight\n      const overlapBeforeMidnight = (depTimeMinutes <= endMinutes) && (24*60 >= startMinutes);\n      const overlapAfterMidnight = ((flightEndMinutes - 24*60) >= startMinutes) && (startMinutes >= 0);\n      return overlapBeforeMidnight || overlapAfterMidnight;\n    }\n  };\n  \n  // Check each time interval - now properly detects overlaps during flight duration\n  willSeeSunrise = checkTimeOverlap(SUNRISE_START, SUNRISE_END);\n  willSeeSunset = checkTimeOverlap(SUNSET_START, SUNSET_END);\n  willSeeNight = checkTimeOverlap(NIGHT_START, NIGHT_END);\n  willSeeSunVisible = checkTimeOverlap(SUN_VISIBLE_START, SUN_VISIBLE_END);\n  willSeeGoldenHourBeforeSunrise = checkTimeOverlap(GOLDEN_HOUR_BEFORE_SUNRISE_START, GOLDEN_HOUR_BEFORE_SUNRISE_END);\n  willSeeGoldenHourBeforeSunset = checkTimeOverlap(GOLDEN_HOUR_BEFORE_SUNSET_START, GOLDEN_HOUR_BEFORE_SUNSET_END);\n  \n  // Golden hour is true if any golden hour period is detected\n  const willSeeGoldenHour = willSeeGoldenHourBeforeSunrise || willSeeGoldenHourBeforeSunset;\n  \n  console.log(`Detection Results:\n    Golden Hour Before Sunrise: ${willSeeGoldenHourBeforeSunrise}\n    Sunrise: ${willSeeSunrise}\n    Sun Visible: ${willSeeSunVisible}\n    Golden Hour Before Sunset: ${willSeeGoldenHourBeforeSunset}\n    Sunset: ${willSeeSunset}\n    Night: ${willSeeNight}\n    Golden Hour: ${willSeeGoldenHour}`);\n  \n  // Generate smart recommendations\n  const summary: string[] = [];\n  const recommendations: string[] = [];\n  \n  // Sunrise analysis\n  if (willSeeSunrise) {\n    summary.push(`🌅 You WILL see a beautiful sunrise during this flight!`);\n    recommendations.push(\"Choose a window seat on the EAST side for the best sunrise views.\");\n  }\n  \n  // Sunset analysis\n  if (willSeeSunset) {\n    summary.push(`🌇 You WILL see a stunning sunset during this flight!`);\n    recommendations.push(\"Choose a window seat on the WEST side for the best sunset views.\");\n  }\n  \n  // Both sunrise and sunset\n  if (willSeeSunrise && willSeeSunset) {\n    summary.push(\"🌟 Amazing! You'll see BOTH sunrise AND sunset during this flight!\");\n    recommendations.push(\"This is a rare treat! You'll experience the full sun cycle during your journey.\");\n  }\n  \n  // Golden hour analysis\n  if (willSeeGoldenHour) {\n    if (willSeeGoldenHourBeforeSunrise) {\n      summary.push(`✨ You'll experience magical golden hour lighting before sunrise!`);\n    } else if (willSeeGoldenHourBeforeSunset) {\n      summary.push(`✨ You'll experience beautiful golden hour lighting before sunset!`);\n    }\n  }\n  \n  // Night analysis\n  if (willSeeNight) {\n    const nightHours = calculateNightHours(departureTime, arrivalTime);\n    summary.push(`🌙 You'll experience ${nightHours} hours of night flying - perfect for stargazing!`);\n    recommendations.push(\"Great opportunity for night photography and seeing city lights from above.\");\n  }\n  \n  // Sun visible analysis\n  if (willSeeSunVisible && !willSeeSunrise && !willSeeSunset) {\n    summary.push(`☀️ This will be a bright daylight flight with excellent visibility.`);\n    recommendations.push(\"Perfect for scenic landscape viewing and aerial photography.\");\n  }\n  \n  // Add general recommendations\n  if (willSeeSunrise || willSeeSunset || willSeeGoldenHour) {\n    recommendations.push(\"Bring a camera - the views will be spectacular!\");\n  }\n  \n  // Determine seat suggestion based on route\n  const seatSuggestion = determineSeatSuggestion(fromAirport, toAirport, willSeeSunrise, willSeeSunset);\n  \n  return {\n    willSeeSunrise,\n    willSeeSunset,\n    willSeeNight,\n    willSeeGoldenHour,\n    summary,\n    recommendations,\n    seatSuggestion,\n    timeline: [], // Simplified - no detailed timeline\n    nightDuration: willSeeNight ? calculateNightHours(departureTime, arrivalTime) * 60 : 0,\n    dayDuration: flightDuration - (willSeeNight ? calculateNightHours(departureTime, arrivalTime) * 60 : 0)\n  };\n};\n\n// Helper function to calculate night hours\nconst calculateNightHours = (depTime: Date, arrTime: Date): number => {\n  const depHour = depTime.getHours();\n  const arrHour = arrTime.getHours();\n  \n  let nightHours = 0;\n  \n  // Simple night calculation (10 PM - 6 AM)\n  if (depHour >= 22 || depHour <= 6) nightHours += 1;\n  if (arrHour >= 22 || arrHour <= 6) nightHours += 1;\n  \n  return Math.max(nightHours, 0.5); // Minimum 0.5 hours if any night flying\n};\n\n// Helper function to determine seat suggestion based on proper bearing calculation\nconst determineSeatSuggestion = (\n  fromAirport: string, \n  toAirport: string, \n  willSeeSunrise: boolean, \n  willSeeSunset: boolean\n): 'left' | 'right' | 'either' => {\n  \n  const fromCoords = AIRPORTS[fromAirport];\n  const toCoords = AIRPORTS[toAirport];\n  \n  if (!fromCoords || !toCoords) return 'either';\n  \n  // Calculate proper flight bearing using same logic as sun position calculation\n  const lat1Rad = fromCoords[0] * Math.PI / 180;\n  const lat2Rad = toCoords[0] * Math.PI / 180;\n  const dLon = (toCoords[1] - fromCoords[1]) * Math.PI / 180;\n  \n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  \n  let flightBearing = Math.atan2(y, x) * 180 / Math.PI;\n  flightBearing = (flightBearing + 360) % 360; // Normalize to 0-360\n  \n  console.log(`Flight analysis: ${fromAirport} → ${toAirport}`);\n  console.log(`Flight bearing: ${flightBearing.toFixed(1)}°`);\n  console.log(`Sunrise: ${willSeeSunrise}, Sunset: ${willSeeSunset}`);\n  \n  if (willSeeSunrise) {\n    // Sunrise is at 90° (East)\n    // Calculate relative position of sunrise to flight direction\n    let relativeSunPosition = 90 - flightBearing;\n    relativeSunPosition = ((relativeSunPosition + 360) % 360);\n    \n    console.log(`Sunrise relative position: ${relativeSunPosition.toFixed(1)}°`);\n    \n    // If sunrise is on RIGHT side of flight direction (270° to 90°), recommend LEFT seat to look right\n    // If sunrise is on LEFT side of flight direction (90° to 270°), recommend RIGHT seat to look left\n    if (relativeSunPosition >= 270 || relativeSunPosition <= 90) {\n      console.log(`Sunrise on RIGHT side → LEFT seat recommended`);\n      return 'left'; // Sit on left to look right at sunrise\n    } else {\n      console.log(`Sunrise on LEFT side → RIGHT seat recommended`);\n      return 'right'; // Sit on right to look left at sunrise\n    }\n  }\n  \n  if (willSeeSunset) {\n    // Sunset is at 270° (West)\n    // Calculate relative position of sunset to flight direction\n    let relativeSunPosition = 270 - flightBearing;\n    relativeSunPosition = ((relativeSunPosition + 360) % 360);\n    \n    console.log(`Sunset relative position: ${relativeSunPosition.toFixed(1)}°`);\n    \n    // If sunset is on RIGHT side of flight direction (270° to 90°), recommend LEFT seat to look right\n    // If sunset is on LEFT side of flight direction (90° to 270°), recommend RIGHT seat to look left\n    if (relativeSunPosition >= 270 || relativeSunPosition <= 90) {\n      console.log(`Sunset on RIGHT side → LEFT seat recommended`);\n      return 'left'; // Sit on left to look right at sunset\n    } else {\n      console.log(`Sunset on LEFT side → RIGHT seat recommended`);\n      return 'right'; // Sit on right to look left at sunset\n    }\n  }\n  \n  console.log(`No sunrise/sunset → EITHER side recommended`);\n  return 'either';\n};\n\n// Helper function to determine side-specific views for seat cards\nconst getSideSpecificViews = (\n  fromAirport: string,\n  toAirport: string, \n  side: 'left' | 'right',\n  enhancedAnalysis: any\n) => {\n  if (!enhancedAnalysis) return { sunrise: false, sunset: false, night: false };\n  \n  const fromCoords = AIRPORTS[fromAirport];\n  const toCoords = AIRPORTS[toAirport];\n  \n  if (!fromCoords || !toCoords) {\n    return { \n      sunrise: enhancedAnalysis.willSeeSunrise, \n      sunset: enhancedAnalysis.willSeeSunset, \n      night: enhancedAnalysis.willSeeNight \n    };\n  }\n  \n  // Calculate flight bearing\n  const lat1Rad = fromCoords[0] * Math.PI / 180;\n  const lat2Rad = toCoords[0] * Math.PI / 180;\n  const dLon = (toCoords[1] - fromCoords[1]) * Math.PI / 180;\n  \n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  \n  let flightBearing = Math.atan2(y, x) * 180 / Math.PI;\n  flightBearing = (flightBearing + 360) % 360;\n  \n  // Check sunrise visibility for this side\n  let sunriseVisible = false;\n  if (enhancedAnalysis.willSeeSunrise) {\n    let relativeSunrisePosition = 90 - flightBearing;\n    relativeSunrisePosition = ((relativeSunrisePosition + 360) % 360);\n    \n    // Sunrise on RIGHT side of flight (270° to 90°) → visible from LEFT seat\n    // Sunrise on LEFT side of flight (90° to 270°) → visible from RIGHT seat\n    if (side === 'left') {\n      sunriseVisible = (relativeSunrisePosition >= 270 || relativeSunrisePosition <= 90);\n    } else {\n      sunriseVisible = (relativeSunrisePosition > 90 && relativeSunrisePosition < 270);\n    }\n  }\n  \n  // Check sunset visibility for this side\n  let sunsetVisible = false;\n  if (enhancedAnalysis.willSeeSunset) {\n    let relativeSunsetPosition = 270 - flightBearing;\n    relativeSunsetPosition = ((relativeSunsetPosition + 360) % 360);\n    \n    // Sunset on RIGHT side of flight (270° to 90°) → visible from LEFT seat\n    // Sunset on LEFT side of flight (90° to 270°) → visible from RIGHT seat\n    if (side === 'left') {\n      sunsetVisible = (relativeSunsetPosition >= 270 || relativeSunsetPosition <= 90);\n    } else {\n      sunsetVisible = (relativeSunsetPosition > 90 && relativeSunsetPosition < 270);\n    }\n  }\n  \n  return {\n    sunrise: sunriseVisible,\n    sunset: sunsetVisible,\n    night: enhancedAnalysis.willSeeNight // Night is visible from both sides\n  };\n};\n\n// Function to get the correct marker/emoji for each sun condition\nconst getSunConditionMarker = (condition: SunCondition): string => {\n  switch (condition) {\n    case 'GOLDEN_HOUR_BEFORE_SUNRISE':\n      return '🌄'; // Golden hour before sunrise - mountain sunrise\n    case 'SUNRISE':\n      return '🌅'; // Sunrise\n    case 'DAYLIGHT':\n      return '☀️'; // Bright sun\n    case 'GOLDEN_HOUR_BEFORE_SUNSET':\n      return '🌇'; // Golden hour before sunset - cityscape sunset\n    case 'SUNSET':\n      return '🌆'; // Sunset over buildings\n    case 'NIGHT':\n      return '🌙'; // Crescent moon\n    default:\n      return '☀️'; // Default to sun\n  }\n};\n\n// Function to get tooltip content based on sun condition\nconst getSunTooltipContent = (sunPos: SunPosition | null): string => {\n  if (!sunPos) return '';\n\n  // Handle cases where condition might be undefined (for backward compatibility)\n  if (!sunPos.condition) {\n    const elevation = sunPos.elevation?.toFixed(1) || '--';\n    if (sunPos.elevation && sunPos.elevation < 0) {\n      return `🌙 Night • ${Math.abs(sunPos.elevation).toFixed(1)}° below horizon`;\n    } else if (sunPos.elevation && sunPos.elevation < 10) {\n      return `🌅 Golden Hour • ${elevation}° above horizon`;\n    } else {\n      return `☀️ Sun • ${elevation}° above horizon`;\n    }\n  }\n\n  const marker = getSunConditionMarker(sunPos.condition);\n  const elevation = sunPos.elevation?.toFixed(1) || '--';\n\n  switch (sunPos.condition) {\n    case 'GOLDEN_HOUR_BEFORE_SUNRISE':\n      return `${marker} Golden Hour Before Sunrise • ${elevation}° above horizon`;\n    case 'SUNRISE':\n      return `${marker} Sunrise • ${elevation}° above horizon`;\n    case 'DAYLIGHT':\n      return `${marker} Daylight • ${elevation}° above horizon`;\n    case 'GOLDEN_HOUR_BEFORE_SUNSET':\n      return `${marker} Golden Hour Before Sunset • ${elevation}° above horizon`;\n    case 'SUNSET':\n      return `${marker} Sunset • ${elevation}° above horizon`;\n    case 'NIGHT':\n      return `${marker} Night • Moon visible`;\n    default:\n      return `${marker} Sun • ${elevation}° above horizon`;\n  }\n};\n\n// Hardcoded city pair mappings for consistent sun positioning\nconst CITY_PAIR_SUN_MAPPINGS: { [key: string]: { sunrise: 'left' | 'right', sunset: 'left' | 'right' } } = {\n  // West-bound flights (flying west)\n  'DEL-JAI': { sunrise: 'left', sunset: 'right' },   // Delhi → Jaipur\n  'DEL-BOM': { sunrise: 'left', sunset: 'right' },   // Delhi → Mumbai  \n  'BLR-BOM': { sunrise: 'left', sunset: 'right' },   // Bangalore → Mumbai\n  'MAA-BOM': { sunrise: 'left', sunset: 'right' },   // Chennai → Mumbai\n  'HYD-BOM': { sunrise: 'left', sunset: 'right' },   // Hyderabad → Mumbai\n  'CCU-DEL': { sunrise: 'left', sunset: 'right' },   // Kolkata → Delhi\n  'BLR-DEL': { sunrise: 'left', sunset: 'right' },   // Bangalore → Delhi\n  'MAA-DEL': { sunrise: 'left', sunset: 'right' },   // Chennai → Delhi\n  \n  // East-bound flights (flying east)  \n  'JAI-DEL': { sunrise: 'right', sunset: 'left' },   // Jaipur → Delhi\n  'BOM-DEL': { sunrise: 'right', sunset: 'left' },   // Mumbai → Delhi\n  'BOM-BLR': { sunrise: 'right', sunset: 'left' },   // Mumbai → Bangalore\n  'BOM-MAA': { sunrise: 'right', sunset: 'left' },   // Mumbai → Chennai\n  'BOM-HYD': { sunrise: 'right', sunset: 'left' },   // Mumbai → Hyderabad\n  'DEL-CCU': { sunrise: 'right', sunset: 'left' },   // Delhi → Kolkata\n  'DEL-BLR': { sunrise: 'right', sunset: 'left' },   // Delhi → Bangalore  \n  'DEL-MAA': { sunrise: 'right', sunset: 'left' },   // Delhi → Chennai\n  \n  // International routes\n  'DEL-JFK': { sunrise: 'right', sunset: 'left' },   // Delhi → New York (east)\n  'JFK-DEL': { sunrise: 'left', sunset: 'right' },   // New York → Delhi (west)\n  'BOM-LHR': { sunrise: 'right', sunset: 'left' },   // Mumbai → London (east)\n  'LHR-BOM': { sunrise: 'left', sunset: 'right' },   // London → Mumbai (west)\n  'DEL-NRT': { sunrise: 'right', sunset: 'left' },   // Delhi → Tokyo (east)\n  'NRT-DEL': { sunrise: 'left', sunset: 'right' },   // Tokyo → Delhi (west)\n  'BOM-SYD': { sunrise: 'right', sunset: 'left' },   // Mumbai → Sydney (east)\n  'SYD-BOM': { sunrise: 'left', sunset: 'right' },   // Sydney → Mumbai (west)\n};\n\n// Function to get hardcoded sun side for specific city pairs\nconst getHardcodedSunSide = (fromAirport: string, toAirport: string, isSunrise: boolean): 'left' | 'right' | null => {\n  const routeKey = `${fromAirport}-${toAirport}`;\n  const mapping = CITY_PAIR_SUN_MAPPINGS[routeKey];\n  \n  if (mapping) {\n    return isSunrise ? mapping.sunrise : mapping.sunset;\n  }\n  \n  return null; // No hardcoded mapping found\n};\n\n// Function to calculate smooth circular sun movement based purely on time progression\nconst calculateRealisticSunAzimuth = (timeInMinutes: number, flightLonDiff: number, fromAirport: string, toAirport: string): number => {\n  // Convert 24-hour time to a continuous circular progression (0-360 degrees)\n  // 6 AM = 90° (East), 12 PM = 180° (South), 6 PM = 270° (West), 12 AM = 0° (North)\n  \n  const hour = timeInMinutes / 60;\n  \n  // Create smooth circular motion: time directly maps to degrees\n  // 24 hours = 360 degrees, so each hour = 15 degrees\n  let sunAzimuth = (hour * 15) % 360;\n  \n  // Offset so that:\n  // 6 AM (sunrise) = 90° (East)\n  // 12 PM (noon) = 180° (South) \n  // 6 PM (sunset) = 270° (West)\n  // 12 AM (midnight) = 0° (North)\n  sunAzimuth = (sunAzimuth + 90) % 360; // Add 90° offset\n  \n  // Get flight bearing to calculate relative position\n  const fromCoords = AIRPORTS[fromAirport];\n  const toCoords = AIRPORTS[toAirport];\n  \n  if (!fromCoords || !toCoords) {\n    // Fallback: direct map coordinates\n    return ((sunAzimuth + 180) % 360);\n  }\n  \n  // Calculate aircraft heading\n  const dLon = (toCoords[1] - fromCoords[1]) * Math.PI / 180;\n  const lat1Rad = fromCoords[0] * Math.PI / 180;\n  const lat2Rad = toCoords[0] * Math.PI / 180;\n  \n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  \n  let flightBearing = Math.atan2(y, x) * 180 / Math.PI;\n  flightBearing = (flightBearing + 360) % 360;\n  \n  // Calculate sun position relative to aircraft's perspective\n  // This creates the effect where the sun appears to move around the plane\n  let relativeSunAzimuth = sunAzimuth - flightBearing + 90;\n  relativeSunAzimuth = ((relativeSunAzimuth + 360) % 360);\n  \n  // Final map coordinate conversion\n  const mapAzimuth = ((relativeSunAzimuth + 180) % 360);\n  \n  console.log(`SMOOTH SUN: Time ${hour.toFixed(1)}h → Sun ${sunAzimuth.toFixed(1)}° → Relative ${relativeSunAzimuth.toFixed(1)}° → Map ${mapAzimuth.toFixed(1)}°`);\n  \n  return mapAzimuth;\n};\n\n// Function to calculate bearing between two points\nconst calculateBearing = (lat1: number, lon1: number, lat2: number, lon2: number): number => {\n  const dLon = (lon2 - lon1) * Math.PI / 180;\n  const lat1Rad = lat1 * Math.PI / 180;\n  const lat2Rad = lat2 * Math.PI / 180;\n  \n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  \n  let bearing = Math.atan2(y, x) * 180 / Math.PI;\n  bearing = (bearing + 360) % 360; // Normalize to 0-360\n  \n  // No adjustment needed for custom SVG airplane - it points north by default\n  // The SVG is designed to point upward (0 degrees = north)\n  \n  return bearing;\n};\n\n// Function to create rotated airplane icon\nconst createAirplaneIcon = (rotation: number) => {\n  return L.divIcon({\n    className: 'custom-airplane-icon',\n    html: `<div style=\"\n      transform: rotate(${rotation}deg); \n      display: flex; \n      align-items: center; \n      justify-content: center; \n      width: 100%; \n      height: 100%;\n      transform-origin: center center;\n    \">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" width=\"60\" height=\"60\" style=\"fill: #000000; filter: drop-shadow(0 3px 6px rgba(255,255,255,1.0));\">\n        <!-- Airplane fuselage (main body) - tapered from nose to tail -->\n        <ellipse cx=\"256\" cy=\"300\" rx=\"16\" ry=\"160\"/>\n        \n        <!-- Very thick pointed nose - clearly shows front direction -->\n        <polygon points=\"256,40 225,130 287,130\"/>\n        \n        <!-- Thick cockpit/nose section -->\n        <ellipse cx=\"256\" cy=\"150\" rx=\"25\" ry=\"40\"/>\n        \n        <!-- Forward fuselage (thick front section) -->\n        <ellipse cx=\"256\" cy=\"200\" rx=\"22\" ry=\"30\"/>\n        \n        <!-- Main wings - positioned toward front -->\n        <path d=\"M40 200 L256 160 L472 200 L472 260 L256 220 L40 260 Z\"/>\n        \n        <!-- Wing tip extensions -->\n        <rect x=\"35\" y=\"190\" width=\"20\" height=\"80\" rx=\"3\"/>\n        <rect x=\"457\" y=\"190\" width=\"20\" height=\"80\" rx=\"3\"/>\n        \n        <!-- Horizontal tail stabilizers (smaller, at back) -->\n        <path d=\"M200 420 L256 410 L312 420 L312 440 L256 435 L200 440 Z\"/>\n        \n        <!-- Vertical tail fin (at back) -->\n        <polygon points=\"256,390 245,450 267,450\"/>\n        \n        <!-- Engine details under wings -->\n        <ellipse cx=\"150\" cy=\"230\" rx=\"8\" ry=\"20\"/>\n        <ellipse cx=\"362\" cy=\"230\" rx=\"8\" ry=\"20\"/>\n        \n        <!-- Rear fuselage taper -->\n        <ellipse cx=\"256\" cy=\"450\" rx=\"8\" ry=\"20\"/>\n      </svg>\n    </div>`,\n    iconSize: [60, 60],\n    iconAnchor: [30, 30],\n  });\n};\n\n// InteractiveAirplane component\ninterface InteractiveAirplaneProps {\n  flightData: FlightData;\n  flightProgress: number;\n  onPositionChange: (position: { lat: number; lon: number; sunPosition: SunPosition | null }) => void;\n}\n\nconst InteractiveAirplane: React.FC<InteractiveAirplaneProps> = ({ \n  flightData, \n  flightProgress, \n  onPositionChange \n}) => {\n  const airplaneRef = useRef<L.Marker>(null);\n\n  const getCurrentAirplaneData = (): { position: [number, number] | null; rotation: number } => {\n    if (!flightData || flightData.path.length === 0) return { position: null, rotation: 0 };\n    \n    // Calculate exact position along the flight path\n    const totalDistance = flightData.path.length - 1;\n    const exactProgress = (flightProgress / 100) * totalDistance;\n    \n    // Get the two waypoints we're between\n    const currentIndex = Math.floor(exactProgress);\n    const nextIndex = Math.min(currentIndex + 1, flightData.path.length - 1);\n    \n    const currentWaypoint = flightData.path[currentIndex];\n    const nextWaypoint = flightData.path[nextIndex];\n    \n    // Calculate the exact position between waypoints (0-1 progress within this segment)\n    const progressInSegment = exactProgress - currentIndex;\n    \n    // Interpolate position smoothly between waypoints\n    const lat = currentWaypoint.lat + (nextWaypoint.lat - currentWaypoint.lat) * progressInSegment;\n    const lon = currentWaypoint.lon + (nextWaypoint.lon - currentWaypoint.lon) * progressInSegment;\n    \n    // Calculate rotation based on current direction of travel\n    let rotation = 0;\n    if (nextIndex > currentIndex) {\n      // Flying forward - point towards next waypoint\n      rotation = calculateBearing(currentWaypoint.lat, currentWaypoint.lon, nextWaypoint.lat, nextWaypoint.lon);\n    } else {\n      // At the end of the path - use direction from previous to current\n      const prevIndex = Math.max(currentIndex - 1, 0);\n      const prevWaypoint = flightData.path[prevIndex];\n      rotation = calculateBearing(prevWaypoint.lat, prevWaypoint.lon, currentWaypoint.lat, currentWaypoint.lon);\n    }\n    \n    return { \n      position: [lat, lon],\n      rotation: rotation\n    };\n  };\n\n  const { position: currentPosition, rotation: airplaneRotation } = useMemo(() => getCurrentAirplaneData(), [flightData, flightProgress]);\n\n  useEffect(() => {\n    if (!flightData || flightData.path.length === 0) return;\n    \n    // Calculate smooth position using the same logic as getCurrentAirplaneData\n    const totalDistance = flightData.path.length - 1;\n    const exactProgress = (flightProgress / 100) * totalDistance;\n    \n    const currentIndex = Math.floor(exactProgress);\n    const nextIndex = Math.min(currentIndex + 1, flightData.path.length - 1);\n    \n    const currentWaypoint = flightData.path[currentIndex];\n    const nextWaypoint = flightData.path[nextIndex];\n    \n    const progressInSegment = exactProgress - currentIndex;\n    \n    // Interpolate position smoothly between waypoints\n    const lat = currentWaypoint.lat + (nextWaypoint.lat - currentWaypoint.lat) * progressInSegment;\n    const lon = currentWaypoint.lon + (nextWaypoint.lon - currentWaypoint.lon) * progressInSegment;\n    \n    // Interpolate sun position based on current progress\n    let currentSunPosition: SunPosition | null = null;\n    if (flightData.sunPositions && flightData.sunPositions.length > 0) {\n      const sunProgress = exactProgress / totalDistance;\n      const sunIndex = Math.floor(sunProgress * (flightData.sunPositions.length - 1));\n      const nextSunIndex = Math.min(sunIndex + 1, flightData.sunPositions.length - 1);\n      \n      const currentSun = flightData.sunPositions[sunIndex];\n      const nextSun = flightData.sunPositions[nextSunIndex];\n      \n      const sunProgressInSegment = (sunProgress * (flightData.sunPositions.length - 1)) - sunIndex;\n      \n      currentSunPosition = {\n        lat: currentSun.lat + (nextSun.lat - currentSun.lat) * sunProgressInSegment,\n        lon: currentSun.lon + (nextSun.lon - currentSun.lon) * sunProgressInSegment,\n        time: currentSun.time,\n        azimuth: currentSun.azimuth + (nextSun.azimuth - currentSun.azimuth) * sunProgressInSegment,\n        elevation: currentSun.elevation + (nextSun.elevation - currentSun.elevation) * sunProgressInSegment\n      };\n    }\n\n    // Update position callback with smooth position\n    onPositionChange({\n      lat: lat,\n      lon: lon,\n      sunPosition: currentSunPosition\n    });\n\n    // Update map view to follow airplane with smooth animation\n    if (airplaneRef.current) {\n      const leafletElement = airplaneRef.current as any;\n      const map = leafletElement._map;\n      if (map) {\n        map.setView([lat, lon], map.getZoom(), { \n          animate: true,\n          duration: 0.1 // Very short animation for smooth following\n        });\n      }\n    }\n  }, [flightData, flightProgress, onPositionChange]);\n\n  if (!currentPosition) return null;\n\n  return (\n    <Marker\n      ref={airplaneRef}\n      position={currentPosition}\n      icon={createAirplaneIcon(airplaneRotation)}\n      draggable={false}\n      interactive={false}\n      bubblingMouseEvents={false}\n      eventHandlers={{\n        dragstart: (e) => { (e as any).preventDefault?.(); return false; },\n        drag: (e) => { (e as any).preventDefault?.(); return false; },\n        dragend: (e) => { (e as any).preventDefault?.(); return false; },\n        mousedown: (e) => { e.originalEvent?.preventDefault(); return false; },\n        mouseup: (e) => { e.originalEvent?.preventDefault(); return false; },\n        mousemove: (e) => { e.originalEvent?.preventDefault(); return false; },\n        add: () => {\n          if (airplaneRef.current) {\n            const element = airplaneRef.current.getElement();\n            if (element) {\n              element.style.pointerEvents = 'none';\n              element.style.userSelect = 'none';\n              element.style.touchAction = 'none';\n              element.draggable = false;\n            }\n          }\n        }\n      }}\n    >\n      <Popup>\n        Airplane Position<br />\n        Use the timeline slider to move me!\n      </Popup>\n    </Marker>\n  );\n};\n\n// Page enum for navigation\nenum AppPage {\n  SEARCH = 'search',\n  RESULTS = 'results',\n  EXPERIENCE = 'experience'\n}\n\n// Navigation Component\ninterface NavigationProps {\n  currentPage: AppPage;\n  onPageChange: (page: AppPage) => void;\n}\n\nconst Navigation: React.FC<NavigationProps> = ({ currentPage, onPageChange }) => {\n  return (\n    <nav style={{\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      padding: '15px 0',\n      boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n      position: 'sticky',\n      top: 0,\n      zIndex: 1000\n    }}>\n      <div style={{\n        maxWidth: '1200px',\n        margin: '0 auto',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        padding: '0 20px'\n      }}>\n        {/* Logo */}\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '10px',\n          color: 'white',\n          fontSize: '24px',\n          fontWeight: 'bold'\n        }}>\n          <span>✈️</span>\n          <span>FlightSeat</span>\n        </div>\n\n        {/* Navigation Items */}\n        <div style={{\n          display: 'flex',\n          gap: '20px'\n        }}>\n          <button\n            onClick={() => onPageChange(AppPage.SEARCH)}\n            style={{\n              background: currentPage === AppPage.SEARCH ? 'rgba(255,255,255,0.3)' : 'transparent',\n              border: 'none',\n              color: 'white',\n              padding: '12px 24px',\n              borderRadius: '25px',\n              fontSize: '16px',\n              fontWeight: '500',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            }}\n            onMouseEnter={(e) => {\n              if (currentPage !== AppPage.SEARCH) {\n                e.currentTarget.style.background = 'rgba(255,255,255,0.2)';\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (currentPage !== AppPage.SEARCH) {\n                e.currentTarget.style.background = 'transparent';\n              }\n            }}\n          >\n            <span>🏠</span>\n            <span>Home</span>\n          </button>\n\n          <button\n            onClick={() => onPageChange(AppPage.EXPERIENCE)}\n            style={{\n              background: currentPage === AppPage.EXPERIENCE ? 'rgba(255,255,255,0.3)' : 'transparent',\n              border: 'none',\n              color: 'white',\n              padding: '12px 24px',\n              borderRadius: '25px',\n              fontSize: '16px',\n              fontWeight: '500',\n              cursor: 'pointer',\n              transition: 'all 0.3s ease',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            }}\n            onMouseEnter={(e) => {\n              if (currentPage !== AppPage.EXPERIENCE) {\n                e.currentTarget.style.background = 'rgba(255,255,255,0.2)';\n              }\n            }}\n            onMouseLeave={(e) => {\n              if (currentPage !== AppPage.EXPERIENCE) {\n                e.currentTarget.style.background = 'transparent';\n              }\n            }}\n          >\n            <span>🪑</span>\n            <span>Experience Inside Plane</span>\n          </button>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\n// ExperiencePage Component\ninterface ExperiencePageProps {\n  onBack: () => void;\n}\n\nconst ExperiencePage: React.FC<ExperiencePageProps> = ({ onBack }) => {\n  const [selectedSeat, setSelectedSeat] = useState<string>('');\n\n  return (\n    <div style={{ height: '100vh', overflow: 'hidden', position: 'relative' }}>\n      {/* Back Button - Top Left */}\n      <button\n        onClick={onBack}\n        style={{\n          position: 'absolute',\n          top: '20px',\n          left: '20px',\n          zIndex: 1000,\n          background: 'rgba(255, 255, 255, 0.95)',\n          border: 'none',\n          borderRadius: '8px',\n          padding: '12px 16px',\n          fontSize: '16px',\n          fontWeight: '500',\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px',\n          boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n          transition: 'all 0.3s ease',\n          color: '#2c3e50'\n        }}\n        onMouseEnter={(e) => {\n          e.currentTarget.style.background = 'rgba(255, 255, 255, 1)';\n          e.currentTarget.style.transform = 'translateY(-2px)';\n        }}\n        onMouseLeave={(e) => {\n          e.currentTarget.style.background = 'rgba(255, 255, 255, 0.95)';\n          e.currentTarget.style.transform = 'translateY(0)';\n        }}\n      >\n        <span>←</span>\n        <span>Back to Home</span>\n      </button>\n\n      <AirplaneExperience\n        selectedSeat={selectedSeat}\n        onSeatChange={setSelectedSeat}\n      />\n    </div>\n  );\n};\n\n// SearchPage Component\ninterface SearchPageProps {\n  fromAirport: string;\n  setFromAirport: (value: string) => void;\n  toAirport: string;\n  setToAirport: (value: string) => void;\n  departureTime: string;\n  setDepartureTime: (value: string) => void;\n  flightDuration: number | '';\n  setFlightDuration: (value: number | '') => void;\n\n  loading: boolean;\n  error: string | null;\n  onSubmit: (e: React.FormEvent) => void;\n  formatTimeDisplay: (date: Date) => string;\n  getFlightEndTime: () => Date;\n}\n\nconst SearchPage: React.FC<SearchPageProps> = ({\n  fromAirport, setFromAirport, toAirport, setToAirport, departureTime, setDepartureTime,\n  flightDuration, setFlightDuration, loading, error, onSubmit,\n  formatTimeDisplay, getFlightEndTime\n}) => {\n  return (\n    <div className=\"search-page fade-in\">\n      <header className=\"app-header\">\n        <h1>✈️ SunSide - Perfect Window Seat Finder</h1>\n        <p>Find the best window seat for sunrise and sunset views during your flight</p>\n      </header>\n\n      <main className=\"search-main\">\n        <div className=\"search-container\">\n          <div className=\"search-form card-elevated slide-up\">\n            <div className=\"form-header\">\n              <h2>🎯 Plan Your Journey</h2>\n              <p>Enter your flight details to get personalized seat recommendations</p>\n            </div>\n            \n            <div className=\"form-body\">\n              <form onSubmit={onSubmit}>\n                {/* Left Column */}\n                <div className=\"form-left-column\">\n                  <div className=\"form-section\">\n                    <h3 className=\"section-title\">\n                      <span className=\"section-icon\">🛫</span>\n                      Flight Details\n                    </h3>\n                    \n                    <div className=\"form-grid\">\n                      <div className=\"form-group\">\n                        <label className=\"input-label\" htmlFor=\"fromAirport\">From Airport</label>\n                        <select\n                          className=\"input-field\"\n                          id=\"fromAirport\"\n                          value={fromAirport}\n                          onChange={(e) => setFromAirport(e.target.value)}\n                          required\n                        >\n                          <option value=\"\">Select departure</option>\n                          <optgroup label=\"🇮🇳 Indian Cities\">\n                            <option value=\"DEL\">🏛️ Delhi (DEL)</option>\n                            <option value=\"JAI\">🏰 Jaipur (JAI)</option>\n                            <option value=\"BLR\">🌆 Bangalore (BLR)</option>\n                            <option value=\"BOM\">🏙️ Mumbai (BOM)</option>\n                            <option value=\"BHO\">🌸 Bhopal (BHO)</option>\n                            <option value=\"LKO\">🕌 Lucknow (LKO)</option>\n                          </optgroup>\n                          <optgroup label=\"🌍 International Cities\">\n                            <option value=\"JFK\">🗽 New York (JFK)</option>\n                            <option value=\"LHR\">🇬🇧 London (LHR)</option>\n                            <option value=\"NRT\">🗾 Tokyo (NRT)</option>\n                            <option value=\"LAX\">🌴 Los Angeles (LAX)</option>\n                            <option value=\"DXB\">🏜️ Dubai (DXB)</option>\n                            <option value=\"SIN\">🌺 Singapore (SIN)</option>\n                            <option value=\"SYD\">🦘 Sydney (SYD)</option>\n                            <option value=\"CDG\">🗼 Paris (CDG)</option>\n                            <option value=\"FRA\">🇩🇪 Frankfurt (FRA)</option>\n                            <option value=\"HKG\">🏙️ Hong Kong (HKG)</option>\n                            <option value=\"ICN\">🇰🇷 Seoul (ICN)</option>\n                            <option value=\"BKK\">🇹🇭 Bangkok (BKK)</option>\n                            <option value=\"DOH\">🏺 Doha (DOH)</option>\n                            <option value=\"IST\">🕌 Istanbul (IST)</option>\n                            <option value=\"MAD\">🇪🇸 Madrid (MAD)</option>\n                          </optgroup>\n                        </select>\n                      </div>\n\n                      <div className=\"form-group\">\n                        <label className=\"input-label\" htmlFor=\"toAirport\">To Airport</label>\n                        <select\n                          className=\"input-field\"\n                          id=\"toAirport\"\n                          value={toAirport}\n                          onChange={(e) => setToAirport(e.target.value)}\n                          required\n                        >\n                          <option value=\"\">Select destination</option>\n                          <optgroup label=\"🇮🇳 Indian Cities\">\n                            <option value=\"DEL\">🏛️ Delhi (DEL)</option>\n                            <option value=\"JAI\">🏰 Jaipur (JAI)</option>\n                            <option value=\"BLR\">🌆 Bangalore (BLR)</option>\n                            <option value=\"BOM\">🏙️ Mumbai (BOM)</option>\n                            <option value=\"BHO\">🌸 Bhopal (BHO)</option>\n                            <option value=\"LKO\">🕌 Lucknow (LKO)</option>\n                          </optgroup>\n                          <optgroup label=\"🌍 International Cities\">\n                            <option value=\"JFK\">🗽 New York (JFK)</option>\n                            <option value=\"LHR\">🇬🇧 London (LHR)</option>\n                            <option value=\"NRT\">🗾 Tokyo (NRT)</option>\n                            <option value=\"LAX\">🌴 Los Angeles (LAX)</option>\n                            <option value=\"DXB\">🏜️ Dubai (DXB)</option>\n                            <option value=\"SIN\">🌺 Singapore (SIN)</option>\n                            <option value=\"SYD\">🦘 Sydney (SYD)</option>\n                            <option value=\"CDG\">🗼 Paris (CDG)</option>\n                            <option value=\"FRA\">🇩🇪 Frankfurt (FRA)</option>\n                            <option value=\"HKG\">🏙️ Hong Kong (HKG)</option>\n                            <option value=\"ICN\">🇰🇷 Seoul (ICN)</option>\n                            <option value=\"BKK\">🇹🇭 Bangkok (BKK)</option>\n                            <option value=\"DOH\">🏺 Doha (DOH)</option>\n                            <option value=\"IST\">🕌 Istanbul (IST)</option>\n                            <option value=\"MAD\">🇪🇸 Madrid (MAD)</option>\n                          </optgroup>\n                        </select>\n                      </div>\n                    </div>\n\n                    <div className=\"form-grid\">\n                      <div className=\"form-group\">\n                        <label className=\"input-label\" htmlFor=\"departureTime\">Departure Date & Time</label>\n                        <input\n                          className=\"input-field\"\n                          type=\"datetime-local\"\n                          id=\"departureTime\"\n                          value={departureTime}\n                          onChange={(e) => setDepartureTime(e.target.value)}\n                          required\n                        />\n                      </div>\n\n                      <div className=\"form-group\">\n                        <label className=\"input-label\" htmlFor=\"flightDuration\">Flight Duration (minutes)</label>\n                        <input\n                          className=\"input-field\"\n                          type=\"number\"\n                          id=\"flightDuration\"\n                          min=\"30\"\n                          max=\"1440\"\n                          step=\"1\"\n                          value={flightDuration}\n                          onChange={(e) => {\n                            const value = e.target.value;\n                            if (value === '') {\n                              setFlightDuration('');\n                            } else {\n                              const intValue = parseInt(value, 10);\n                              if (!isNaN(intValue)) {\n                                setFlightDuration(intValue);\n                              }\n                            }\n                          }}\n                          placeholder=\"e.g., 120 (2 hours)\"\n                          required\n                        />\n                        {departureTime && flightDuration && (\n                          <small className=\"duration-help\" style={{ marginTop: '8px', display: 'block', color: 'var(--text-muted)', fontSize: '0.875rem' }}>\n                            Flight time: {formatTimeDisplay(new Date(departureTime))} → {formatTimeDisplay(getFlightEndTime())} \n                            ({Math.floor(Number(flightDuration) / 60)}h {Number(flightDuration) % 60}m)\n                          </small>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Right Column */}\n                <div className=\"form-right-column\">\n\n\n\n\n                  {/* Flight Tips Section - Always visible to fill space */}\n                  <div className=\"form-section\">\n                    <div className=\"flight-tips-card\">\n                      <h4>\n                        <span className=\"section-icon\">💡</span>\n                        Flight Seat Tips\n                      </h4>\n                      <div className=\"tips-content\">\n                        <div className=\"tip-item\">\n                          <span className=\"tip-icon\">🌅</span>\n                          <div className=\"tip-text\">\n                            <strong>Best Sunrise Views:</strong> East-facing windows during morning flights\n                          </div>\n                        </div>\n                        <div className=\"tip-item\">\n                          <span className=\"tip-icon\">🌇</span>\n                          <div className=\"tip-text\">\n                            <strong>Best Sunset Views:</strong> West-facing windows during evening flights\n                          </div>\n                        </div>\n                        <div className=\"tip-item\">\n                          <span className=\"tip-icon\">🗺️</span>\n                          <div className=\"tip-text\">\n                            <strong>Flight Direction:</strong> Our algorithm considers your exact route for precise recommendations\n                          </div>\n                        </div>\n                        <div className=\"tip-item\">\n                          <span className=\"tip-icon\">⏰</span>\n                          <div className=\"tip-text\">\n                            <strong>Timing Matters:</strong> Sun position changes throughout your flight duration\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Submit Section - Full Width */}\n                <div className=\"form-submit-section\">\n                  {error && (\n                    <div className=\"error\" style={{ marginBottom: 'var(--space-4)' }}>\n                      <span className=\"error-icon\">⚠️</span>\n                      {error}\n                    </div>\n                  )}\n\n                  <button \n                    type=\"submit\" \n                    className=\"btn btn-primary btn-lg\" \n                    disabled={loading}\n                    style={{ width: '100%' }}\n                  >\n                    {loading ? (\n                      <>\n                        <div className=\"loading-spinner\" style={{ width: '20px', height: '20px', border: '2px solid rgba(255,255,255,0.3)', borderTop: '2px solid white' }}></div>\n                        Finding your perfect seat...\n                      </>\n                    ) : (\n                      <>\n                        🔍 Find My Perfect Seat\n                      </>\n                    )}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\n// ResultsPage Component\ninterface ResultsPageProps {\n  flightData: FlightData | null;\n  fromAirport: string;\n  toAirport: string;\n  currentPosition: { lat: number; lon: number } | null;\n  currentSunPosition: SunPosition | null;\n  flightProgress: number;\n  handleProgressChange: (newProgress: number) => void;\n  handlePositionChange: (position: { lat: number; lon: number; sunPosition: SunPosition | null }) => void;\n  isDragging: boolean;\n  handleMouseDown: (e: React.MouseEvent) => void;\n  handleClick: (e: React.MouseEvent) => void;\n  onBack: () => void;\n  departureTime: string;\n  flightDuration: number | '';\n}\n\n\n\n// Calculate actual astronomical sunrise and sunset times during flight\nconst getOptimalPeriodsInFlight = (\n  departureTime: string, \n  flightDuration: number | '',\n  flightData: FlightData | null\n): { \n  sunrise: boolean; \n  sunset: boolean; \n  details: string[];\n  sunriseTime?: Date;\n  sunsetTime?: Date;\n  sunriseProgress?: number;\n  sunsetProgress?: number;\n} => {\n  if (!departureTime || !flightDuration || !flightData?.path?.length) {\n    return { sunrise: false, sunset: false, details: [] };\n  }\n  \n  const startTime = new Date(departureTime);\n  const endTime = new Date(startTime.getTime() + (typeof flightDuration === 'number' ? flightDuration * 60 * 60 * 1000 : 0));\n  const details: string[] = [];\n  let sunriseInFlight = false;\n  let sunsetInFlight = false;\n  let sunriseTime: Date | undefined;\n  let sunsetTime: Date | undefined;\n  let sunriseProgress: number | undefined;\n  let sunsetProgress: number | undefined;\n\n  // Check each waypoint for sunrise/sunset during flight\n  console.log('Checking sun positions for sunrise/sunset...');\n  console.log('Flight start time:', startTime);\n  console.log('Flight end time:', endTime);\n  console.log('Sun positions count:', flightData.sunPositions?.length || 0);\n  \n  if (flightData.sunPositions) {\n    flightData.sunPositions.forEach((sunPos, index) => {\n      const currentTime = new Date(sunPos.time);\n      const prevSunPos = index > 0 ? flightData.sunPositions[index - 1] : null;\n      \n      console.log(`Waypoint ${index}: ${currentTime.toISOString()}, elevation: ${sunPos.elevation}°`);\n      \n      if (currentTime >= startTime && currentTime <= endTime) {\n        // For the first waypoint, consider if sun is already rising (elevation > -10°)\n        if (index === 0 && sunPos.elevation > -10 && sunPos.elevation < 10 && !sunriseInFlight) {\n          sunriseInFlight = true;\n          sunriseTime = currentTime;\n          sunriseProgress = (index / (flightData.path.length - 1)) * 100;\n          // Removed: details.push(`🌅 Golden hour/Sunrise conditions at takeoff ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`);\n          console.log('Sunrise detected at takeoff');\n        }\n        \n        // Check for horizon crossings between waypoints\n        if (prevSunPos) {\n          // Check for sunrise (sun elevation crosses from below to above horizon)\n          if (prevSunPos.elevation <= 0 && sunPos.elevation > 0 && !sunriseInFlight) {\n            sunriseInFlight = true;\n            sunriseTime = currentTime;\n            sunriseProgress = (index / (flightData.path.length - 1)) * 100;\n            details.push(`🌅 Sunrise at ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} during flight`);\n            console.log('Sunrise detected - horizon crossing');\n          }\n          \n          // Check for sunset (sun elevation crosses from above to below horizon)\n          if (prevSunPos.elevation > 0 && sunPos.elevation <= 0 && !sunsetInFlight) {\n            sunsetInFlight = true;\n            sunsetTime = currentTime;\n            sunsetProgress = (index / (flightData.path.length - 1)) * 100;\n            // Removed: details.push(`🌇 Sunset at ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} during flight`);\n            console.log('Sunset detected - horizon crossing');\n          }\n        }\n      }\n    });\n  }\n\n  // If no exact crossing found, check for golden hour periods and sun conditions\n  if (!sunriseInFlight || !sunsetInFlight) {\n    flightData.sunPositions.forEach((sunPos, index) => {\n      const currentTime = new Date(sunPos.time);\n      const prevSunPos = index > 0 ? flightData.sunPositions[index - 1] : null;\n      \n      if (currentTime >= startTime && currentTime <= endTime) {\n        // Check for morning conditions (sunrise-like)\n        if (!sunriseInFlight) {\n          // Early morning with low sun (good for sunrise viewing)\n          if (sunPos.elevation > -5 && sunPos.elevation < 15) {\n            const hour = currentTime.getHours();\n            if (hour >= 5 && hour <= 9) { // Morning hours\n              sunriseInFlight = true;\n              sunriseTime = currentTime;\n              sunriseProgress = (index / (flightData.path.length - 1)) * 100;\n              details.push(`🌅 Morning golden hour at ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`);\n            }\n          }\n          \n          // Golden hour transition (sun crosses 10° elevation upward)\n          if (prevSunPos && prevSunPos.elevation <= 10 && sunPos.elevation > 10) {\n            sunriseInFlight = true;\n            sunriseTime = currentTime;\n            sunriseProgress = (index / (flightData.path.length - 1)) * 100;\n            details.push(`🌅 Golden hour begins at ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`);\n          }\n        }\n        \n        // Check for evening conditions (sunset-like)\n        if (!sunsetInFlight) {\n          // Evening with low sun (good for sunset viewing)\n          if (sunPos.elevation > -5 && sunPos.elevation < 15) {\n            const hour = currentTime.getHours();\n            if (hour >= 17 && hour <= 21) { // Evening hours\n              sunsetInFlight = true;\n              sunsetTime = currentTime;\n              sunsetProgress = (index / (flightData.path.length - 1)) * 100;\n              details.push(`🌇 Evening golden hour at ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`);\n            }\n          }\n          \n          // Golden hour transition (sun crosses 10° elevation downward)\n          if (prevSunPos && prevSunPos.elevation > 10 && sunPos.elevation <= 10) {\n            sunsetInFlight = true;\n            sunsetTime = currentTime;\n            sunsetProgress = (index / (flightData.path.length - 1)) * 100;\n            details.push(`🌇 Golden hour begins at ${currentTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`);\n          }\n        }\n      }\n    });\n  }\n\n  return { \n    sunrise: sunriseInFlight, \n    sunset: sunsetInFlight, \n    details,\n    sunriseTime,\n    sunsetTime,\n    sunriseProgress,\n    sunsetProgress\n  };\n};\n\nconst ResultsPage: React.FC<ResultsPageProps> = ({\n  flightData, fromAirport, toAirport, currentPosition, currentSunPosition,\n  flightProgress, handleProgressChange, handlePositionChange, isDragging,\n  handleMouseDown, handleClick, onBack, departureTime, flightDuration\n}) => {\n  // Resizable layout state\n  const [mapWidth, setMapWidth] = useState(60); // 60% default width for map\n  const [isDraggingResize, setIsDraggingResize] = useState(false);\n\n  // Resize handler for the divider\n  const handleResizeMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsDraggingResize(true);\n    \n    const handleMouseMove = (e: MouseEvent) => {\n      const containerWidth = window.innerWidth;\n      const newMapWidth = (e.clientX / containerWidth) * 100;\n      \n      // Constrain between 30% and 80%\n      const constrainedWidth = Math.max(30, Math.min(80, newMapWidth));\n      setMapWidth(constrainedWidth);\n    };\n    \n    const handleMouseUp = () => {\n      setIsDraggingResize(false);\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    \n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n\n  // Smart tooltip positioning to prevent off-screen tooltips\n  React.useEffect(() => {\n    const adjustTooltipPositions = () => {\n      const tooltipContainers = document.querySelectorAll('.sun-tooltip-container');\n      \n      tooltipContainers.forEach((container) => {\n        const rect = container.getBoundingClientRect();\n        const viewportWidth = window.innerWidth;\n        \n        // Remove existing positioning classes\n        container.classList.remove('tooltip-left', 'tooltip-right');\n        \n        // If tooltip would go off the right edge\n        if (rect.right > viewportWidth - 150) {\n          container.classList.add('tooltip-right');\n        }\n        // If tooltip would go off the left edge\n        else if (rect.left < 150) {\n          container.classList.add('tooltip-left');\n        }\n      });\n    };\n\n    // Adjust on mount and window resize\n    adjustTooltipPositions();\n    window.addEventListener('resize', adjustTooltipPositions);\n    \n    return () => window.removeEventListener('resize', adjustTooltipPositions);\n  }, [currentSunPosition, flightProgress]);\n  if (!flightData) {\n    return (\n      <div className=\"results-page\">\n        <div className=\"error\">No flight data available</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"results-page fade-in\">\n      <header className=\"results-header\">\n        <button onClick={onBack} className=\"back-btn\">\n          ← Back to Search\n        </button>\n        <div className=\"results-header-content\">\n          <h1>✈️ Flight Results</h1>\n        </div>\n      </header>\n\n      <main className=\"results-main\">\n        <div className=\"results-container\">\n          <div className=\"map-section\" style={{ width: `${mapWidth}%` }}>\n            <MapContainer\n              center={[28.6139, 77.2090]}\n              zoom={6}\n              style={{ height: '100vh', width: '100%' }}\n            >\n              <TileLayer\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n              />\n\n              {flightData.path && flightData.path.length > 1 && (\n                <Polyline\n                  positions={flightData.path.map(wp => [wp.lat, wp.lon])}\n                  color=\"blue\"\n                  weight={3}\n                />\n              )}\n\n              {flightData.path && flightData.path.length > 0 && (\n                <Marker\n                  position={[flightData.path[0].lat, flightData.path[0].lon]}\n                  icon={L.divIcon({\n                    className: 'custom-marker from-marker',\n                    html: '<div style=\"background: green; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;\"></div>',\n                    iconSize: [20, 20],\n                    iconAnchor: [10, 10],\n                  })}\n                >\n                  <Popup>Departure: {fromAirport}</Popup>\n                </Marker>\n              )}\n\n              {flightData.path && flightData.path.length > 0 && (\n                <Marker\n                  position={[flightData.path[flightData.path.length - 1].lat, flightData.path[flightData.path.length - 1].lon]}\n                  icon={L.divIcon({\n                    className: 'custom-marker to-marker',\n                    html: '<div style=\"background: red; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;\"></div>',\n                    iconSize: [20, 20],\n                    iconAnchor: [10, 10],\n                  })}\n                >\n                  <Popup>Arrival: {toAirport}</Popup>\n                </Marker>\n              )}\n\n              <InteractiveAirplane \n                flightData={flightData}\n                flightProgress={flightProgress}\n                onPositionChange={handlePositionChange}\n              />\n\n              {/* Sun Marker on Map */}\n              {currentPosition && currentSunPosition && flightData && (() => {\n                // Calculate pure flight bearing for reference\n                const startPoint = flightData.path[0];\n                const endPoint = flightData.path[flightData.path.length - 1];\n                \n                const dLon = (endPoint.lon - startPoint.lon) * Math.PI / 180;\n                const lat1Rad = startPoint.lat * Math.PI / 180;\n                const lat2Rad = endPoint.lat * Math.PI / 180;\n                \n                const y = Math.sin(dLon) * Math.cos(lat2Rad);\n                const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n                \n                let flightBearing = Math.atan2(y, x) * 180 / Math.PI;\n                flightBearing = (flightBearing + 360) % 360; // Normalize to 0-360\n                \n                // Use REAL sun azimuth from astronomical calculations\n                // SunCalc: South=0°, West=+90°, North=180°/-180°, East=-90°\n                // Map: North=0°, East=90°, South=180°, West=270°\n                // Convert: Add 180° to shift from South=0° to North=0°\n                let sunBearing = (currentSunPosition.azimuth + 180) % 360;\n                \n                // Position sun using real azimuth and elevation\n                // Distance from airplane based on elevation (higher sun = farther for better visibility)\n                const elevationDegrees = currentSunPosition.elevation;\n                const sunDistance = Math.max(0.3, 0.8 + (90 - Math.abs(elevationDegrees)) / 180); // 0.3 to 1.3 degrees\n                \n                // Convert bearing to map coordinates\n                const sunLat = currentPosition.lat + Math.cos(sunBearing * Math.PI / 180) * sunDistance;\n                const sunLon = currentPosition.lon + Math.sin(sunBearing * Math.PI / 180) * sunDistance;\n                \n                return (\n                  <>\n                    <Marker\n                      position={[sunLat, sunLon]}\n                      icon={L.divIcon({\n                        className: 'sun-marker',\n                        html: `\n                          <div class=\"map-sun-marker\" style=\"\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            width: 40px;\n                            height: 40px;\n                            background: ${elevationDegrees < 0 \n                              ? 'radial-gradient(circle, #4a5568 30%, #2d3748 60%, #1a202c 100%)' \n                              : elevationDegrees < 10 \n                                ? 'radial-gradient(circle, #ff8c00 30%, #ff6b35 60%, #e53e3e 100%)' \n                                : 'radial-gradient(circle, #ffd700 30%, #ffed4e 60%, #ff8c00 100%)'\n                            };\n                            border-radius: 50%;\n                            border: 3px solid #fff;\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 0 40px rgba(255, 215, 0, 0.3);\n                            position: relative;\n                            font-size: 20px;\n                            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);\n                            cursor: pointer;\n                            transition: all 0.3s ease;\n                          \" title=\"${elevationDegrees < 0 \n                            ? `🌙 Nighttime • ${Math.abs(elevationDegrees).toFixed(1)}° below horizon` \n                            : elevationDegrees < 10 \n                              ? `🌅 Golden Hour • ${elevationDegrees.toFixed(1)}° above horizon` \n                              : `☀️ Daylight • ${elevationDegrees.toFixed(1)}° above horizon`\n                          }\">\n                            ${elevationDegrees < 0 ? '🌙' : elevationDegrees < 10 ? '🌅' : '☀️'}\n                            <div style=\"\n                              position: absolute;\n                              width: 60px;\n                              height: 60px;\n                              border: 2px solid #ffd700;\n                              border-radius: 50%;\n                              border-style: dashed;\n                              animation: rotate 8s linear infinite;\n                              opacity: 0.4;\n                            \"></div>\n                            <div class=\"map-sun-tooltip\" style=\"\n                              position: absolute;\n                              bottom: 120%;\n                              left: 50%;\n                              transform: translateX(-50%);\n                              background: rgba(0, 0, 0, 0.9);\n                              color: white;\n                              padding: 8px 12px;\n                              border-radius: 6px;\n                              font-size: 12px;\n                              white-space: nowrap;\n                              z-index: 1000;\n                              opacity: 0;\n                              visibility: hidden;\n                              transition: opacity 0.3s ease, visibility 0.3s ease;\n                              pointer-events: none;\n                              box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n                            \">\n                              ${elevationDegrees < 0 \n                                ? `🌙 Nighttime • ${Math.abs(elevationDegrees).toFixed(1)}° below horizon` \n                                : elevationDegrees < 10 \n                                  ? `🌅 Golden Hour • ${elevationDegrees.toFixed(1)}° above horizon` \n                                  : `☀️ Daylight • ${elevationDegrees.toFixed(1)}° above horizon`\n                              }\n                            </div>\n                          </div>\n                          <style>\n                            @keyframes rotate {\n                              from { transform: rotate(0deg); }\n                              to { transform: rotate(360deg); }\n                            }\n                            .map-sun-marker:hover {\n                              transform: scale(1.1) !important;\n                            }\n                            .map-sun-marker:hover .map-sun-tooltip {\n                              opacity: 1 !important;\n                              visibility: visible !important;\n                            }\n                          </style>\n                        `,\n                        iconSize: [40, 40],\n                        iconAnchor: [20, 20],\n                      })}\n                    >\n                      <Popup>\n                        <div>\n                          <strong>☀️ Real Sun Position</strong><br/>\n                          <strong>Recommended Seat:</strong> {flightData.recommendation === 'left' ? 'Left' : 'Right'} Side<br/>\n                          <strong>Sun Azimuth:</strong> {currentSunPosition.azimuth?.toFixed(1)}° (from South)<br/>\n                          <strong>Sun Elevation:</strong> {currentSunPosition.elevation?.toFixed(1)}° (above horizon)<br/>\n                          <strong>Map Bearing:</strong> {sunBearing.toFixed(1)}° (from North)<br/>\n                          <strong>Flight Direction:</strong> {flightBearing.toFixed(1)}°<br/>\n                          {elevationDegrees < 0 && <em style={{color: '#ff6b6b'}}>Sun below horizon</em>}\n                          {elevationDegrees >= 0 && elevationDegrees < 10 && <em style={{color: '#ffa500'}}>Sun near horizon</em>}\n                          {elevationDegrees >= 10 && <em style={{color: '#4dabf7'}}>Sun well above horizon</em>}\n                        </div>\n                      </Popup>\n                    </Marker>\n\n                    {/* Sun Direction Line */}\n                    <Polyline\n                      positions={[\n                        [currentPosition.lat, currentPosition.lon],\n                        [sunLat, sunLon]\n                      ]}\n                      color=\"#ffd700\"\n                      weight={3}\n                      opacity={0.8}\n                      dashArray=\"10, 5\"\n                    />\n                  </>\n                );\n              })()}\n\n              {/* Mountain Markers */}\n              {flightData.path && (() => {\n                const visibleMountains = getMountainsVisibleFromPath(flightData.path, 200);\n                \n                return visibleMountains.map(mountainKey => {\n                  const mountain = MOUNTAINS[mountainKey];\n                  \n                  return (\n                    <Marker\n                      key={mountainKey}\n                      position={[mountain.lat, mountain.lon]}\n                      icon={L.divIcon({\n                        className: 'mountain-marker',\n                        html: `\n                          <div class=\"map-mountain-marker\" style=\"\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            width: 35px;\n                            height: 35px;\n                            background: linear-gradient(135deg, #8B4513 0%, #D2691E  30%, #F4A460 60%, #FFFFFF 85%);\n                            border-radius: 8px 8px 20px 20px;\n                            border: 2px solid #654321;\n                            box-shadow: 0 4px 12px rgba(139, 69, 19, 0.5), 0 2px 6px rgba(0, 0, 0, 0.3);\n                            position: relative;\n                            font-size: 16px;\n                            cursor: pointer;\n                            transition: all 0.3s ease;\n                            transform-origin: bottom center;\n                          \" title=\"${mountain.name} • ${mountain.elevation}m • ${mountain.region}\">\n                            🏔️\n                            <div style=\"\n                              position: absolute;\n                              width: 45px;\n                              height: 45px;\n                              border: 2px solid #8B4513;\n                              border-radius: 8px;\n                              border-style: dashed;\n                              animation: pulse 3s ease-in-out infinite;\n                              opacity: 0.3;\n                            \"></div>\n                            <div class=\"map-mountain-tooltip\" style=\"\n                              position: absolute;\n                              bottom: 120%;\n                              left: 50%;\n                              transform: translateX(-50%);\n                              background: rgba(139, 69, 19, 0.95);\n                              color: white;\n                              padding: 10px 14px;\n                              border-radius: 8px;\n                              font-size: 12px;\n                              white-space: nowrap;\n                              z-index: 1000;\n                              opacity: 0;\n                              visibility: hidden;\n                              transition: opacity 0.3s ease, visibility 0.3s ease;\n                              pointer-events: none;\n                              box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);\n                              border: 1px solid #F4A460;\n                            \">\n                              <div style=\"font-weight: bold; margin-bottom: 4px;\">🏔️ ${mountain.name}</div>\n                              <div style=\"font-size: 11px; opacity: 0.9;\">\n                                📏 ${mountain.elevation.toLocaleString()}m elevation<br/>\n                                🗺️ ${mountain.region}\n                              </div>\n                              <div style=\"\n                                position: absolute;\n                                top: 100%;\n                                left: 50%;\n                                transform: translateX(-50%);\n                                width: 0;\n                                height: 0;\n                                border-left: 6px solid transparent;\n                                border-right: 6px solid transparent;\n                                border-top: 6px solid rgba(139, 69, 19, 0.95);\n                              \"></div>\n                            </div>\n                          </div>\n                          <style>\n                            @keyframes pulse {\n                              0%, 100% { transform: scale(1); opacity: 0.3; }\n                              50% { transform: scale(1.1); opacity: 0.6; }\n                            }\n                            .map-mountain-marker:hover {\n                              transform: scale(1.15) !important;\n                              box-shadow: 0 6px 20px rgba(139, 69, 19, 0.7), 0 3px 10px rgba(0, 0, 0, 0.4) !important;\n                            }\n                            .map-mountain-marker:hover .map-mountain-tooltip {\n                              opacity: 1 !important;\n                              visibility: visible !important;\n                            }\n                          </style>\n                        `,\n                        iconSize: [35, 35],\n                        iconAnchor: [17, 35],\n                      })}\n                    >\n                      <Popup>\n                        <div style={{ minWidth: '200px' }}>\n                          <strong style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '8px' }}>\n                            🏔️ {mountain.name}\n                          </strong>\n                          <div style={{ fontSize: '13px', lineHeight: '1.5' }}>\n                            <div><strong>Elevation:</strong> {mountain.elevation.toLocaleString()}m</div>\n                            <div><strong>Region:</strong> {mountain.region}</div>\n                            <div style={{ marginTop: '8px', padding: '8px', background: '#f0f8ff', borderRadius: '4px', fontSize: '12px' }}>\n                              <strong>🔭 Mountain View Available</strong><br/>\n                              This peak is visible from your flight path!\n                            </div>\n                          </div>\n                        </div>\n                      </Popup>\n                    </Marker>\n                  );\n                });\n              })()}\n            </MapContainer>\n          </div>\n\n          {/* Resizable Divider */}\n          <div \n            className={`resize-divider ${isDraggingResize ? 'dragging' : ''}`}\n            onMouseDown={handleResizeMouseDown}\n          >\n            <div className=\"resize-handle\">\n              <div className=\"resize-dots\">\n                <span></span>\n                <span></span>\n                <span></span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flight-details\" style={{ width: `${100 - mapWidth}%` }}>\n            {/* Professional Header */}\n            <div className=\"flight-header\">\n              <h2>\n                <span>✈️</span>\n                Flight Results\n              </h2>\n              <div className=\"flight-route\">\n                {fromAirport}\n                <span className=\"route-arrow\">→</span>\n                {toAirport}\n              </div>\n            </div>\n\n            {/* Scroll Indicator */}\n            <div className=\"scroll-indicator\">\n              <div className=\"scroll-hint\">\n                <span className=\"scroll-icon\">⬇️</span>\n                <span className=\"scroll-text\">Scroll for Flight Timeline</span>\n              </div>\n            </div>\n\n            {/* Enhanced Sun Analysis Results */}\n            {flightData.enhancedAnalysis && (\n              <div className=\"content-section\">\n                <div className=\"enhanced-analysis-card\">\n                  <h3>\n                    <span className=\"section-icon\">🔮</span>\n                    Flight Sun Analysis\n                  </h3>\n                  \n                  {/* Summary Messages */}\n                  <div className=\"analysis-summary\">\n                    {flightData.enhancedAnalysis.summary.map((message, index) => (\n                      <div key={index} className=\"summary-message\">\n                        {message}\n                      </div>\n                    ))}\n                  </div>\n\n                  {/* Quick Stats */}\n                  <div className=\"analysis-stats\">\n                    <div className=\"stat-item\">\n                      <span className=\"stat-icon\">🌅</span>\n                      <span className=\"stat-label\">Sunrise</span>\n                      <span className={`stat-value ${flightData.enhancedAnalysis.willSeeSunrise ? 'positive' : 'negative'}`}>\n                        {flightData.enhancedAnalysis.willSeeSunrise ? 'YES' : 'NO'}\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-icon\">🌇</span>\n                      <span className=\"stat-label\">Sunset</span>\n                      <span className={`stat-value ${flightData.enhancedAnalysis.willSeeSunset ? 'positive' : 'negative'}`}>\n                        {flightData.enhancedAnalysis.willSeeSunset ? 'YES' : 'NO'}\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-icon\">🌙</span>\n                      <span className=\"stat-label\">Night</span>\n                      <span className={`stat-value ${flightData.enhancedAnalysis.willSeeNight ? 'positive' : 'negative'}`}>\n                        {flightData.enhancedAnalysis.willSeeNight ? 'YES' : 'NO'}\n                      </span>\n                    </div>\n                    <div className=\"stat-item\">\n                      <span className=\"stat-icon\">✨</span>\n                      <span className=\"stat-label\">Golden Hour</span>\n                      <span className={`stat-value ${flightData.enhancedAnalysis.willSeeGoldenHour ? 'positive' : 'negative'}`}>\n                        {flightData.enhancedAnalysis.willSeeGoldenHour ? 'YES' : 'NO'}\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* Recommendations */}\n                  {flightData.enhancedAnalysis.recommendations.length > 0 && (\n                    <div className=\"analysis-recommendations\">\n                      <h4>💡 Recommendations</h4>\n                      {flightData.enhancedAnalysis.recommendations.map((rec, index) => (\n                        <div key={index} className=\"recommendation-item\">\n                          {rec}\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Event Times */}\n                  {(flightData.enhancedAnalysis.sunrise || flightData.enhancedAnalysis.sunset) && (\n                    <div className=\"event-times\">\n                      {flightData.enhancedAnalysis.sunrise && (\n                        <div className=\"event-time sunrise\">\n                          <span className=\"event-icon\">🌅</span>\n                          <div className=\"event-details\">\n                            <div className=\"event-label\">Sunrise</div>\n                            <div className=\"event-time-value\">{flightData.enhancedAnalysis.sunrise.timeString}</div>\n                            <div className=\"event-progress\">\n                              {Math.round(flightData.enhancedAnalysis.sunrise.progressPercent)}% through flight\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                      {flightData.enhancedAnalysis.sunset && (\n                        <div className=\"event-time sunset\">\n                          <span className=\"event-icon\">🌇</span>\n                          <div className=\"event-details\">\n                            <div className=\"event-label\">Sunset</div>\n                            <div className=\"event-time-value\">{flightData.enhancedAnalysis.sunset.timeString}</div>\n                            <div className=\"event-progress\">\n                              {Math.round(flightData.enhancedAnalysis.sunset.progressPercent)}% through flight\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Seat Recommendation Cards */}\n            <div className=\"content-section\">\n              <div className=\"seat-comparison-container\">\n                <h3>Seat Recommendations & View Analysis</h3>\n              \n              <div className=\"seat-options\">\n                {/* Left Seat Recommendation */}\n                <div className={`seat-option ${flightData.recommendation === 'left' ? 'recommended' : ''}`}>\n                  <div className=\"seat-header\">\n                    <h4>🪟 Left Side Seats</h4>\n                    {flightData.recommendation === 'left' && <span className=\"recommended-badge\">⭐ Recommended</span>}\n                  </div>\n                  \n                  <div className=\"view-counts\">\n                    {(() => {\n                      const leftViews = getSideSpecificViews(fromAirport, toAirport, 'left', flightData.enhancedAnalysis);\n                      return (\n                        <>\n                          <div className=\"count-item\">\n                            <span className=\"count-icon\">🌅</span>\n                            <span className=\"count-text\">Sunrise Views: {leftViews.sunrise ? 'YES' : 'NO'}</span>\n                          </div>\n                          <div className=\"count-item\">\n                            <span className=\"count-icon\">🌇</span>\n                            <span className=\"count-text\">Sunset Views: {leftViews.sunset ? 'YES' : 'NO'}</span>\n                          </div>\n                          <div className=\"count-item\">\n                            <span className=\"count-icon\">🌙</span>\n                            <span className=\"count-text\">Night Views: {leftViews.night ? 'YES' : 'NO'}</span>\n                          </div>\n                          <div className=\"count-item\">\n                            <span className=\"count-icon\">🏔️</span>\n                            <span className=\"count-text\">Mountain Views: {flightData.enhancedAnalysis?.mountainCount || 0} peaks</span>\n                          </div>\n                        </>\n                      );\n                    })()}\n                  </div>\n                </div>\n\n                {/* Right Seat Recommendation */}\n                <div className={`seat-option ${flightData.recommendation === 'right' ? 'recommended' : ''}`}>\n                  <div className=\"seat-header\">\n                    <h4>🪟 Right Side Seats</h4>\n                    {flightData.recommendation === 'right' && <span className=\"recommended-badge\">⭐ Recommended</span>}\n                  </div>\n                  \n                  <div className=\"view-counts\">\n                    {(() => {\n                      const rightViews = getSideSpecificViews(fromAirport, toAirport, 'right', flightData.enhancedAnalysis);\n                      return (\n                        <>\n                          <div className=\"count-item\">\n                            <span className=\"count-icon\">🌅</span>\n                            <span className=\"count-text\">Sunrise Views: {rightViews.sunrise ? 'YES' : 'NO'}</span>\n                          </div>\n                          <div className=\"count-item\">\n                            <span className=\"count-icon\">🌇</span>\n                            <span className=\"count-text\">Sunset Views: {rightViews.sunset ? 'YES' : 'NO'}</span>\n                          </div>\n                          <div className=\"count-item\">\n                            <span className=\"count-icon\">🌙</span>\n                            <span className=\"count-text\">Night Views: {rightViews.night ? 'YES' : 'NO'}</span>\n                          </div>\n                          <div className=\"count-item\">\n                            <span className=\"count-icon\">🏔️</span>\n                            <span className=\"count-text\">Mountain Views: {flightData.enhancedAnalysis?.mountainCount || 0} peaks</span>\n                          </div>\n                        </>\n                      );\n                    })()}\n                  </div>\n                </div>\n              </div>\n              </div>\n            </div>\n\n            {/* Current View Analysis Card */}\n            <div className=\"content-section\">\n              {currentSunPosition && (\n                <div className=\"current-view-card slide-up\">\n                <h3>\n                  <span className=\"section-icon\">📊</span>\n                  Current View Analysis\n                </h3>\n                <div className=\"view-details\">\n                  <div className=\"view-item\">\n                    <span className=\"view-label\">Aircraft Position:</span>\n                    <span className=\"view-value\">\n                      {currentPosition?.lat?.toFixed(4) ?? '--'}, {currentPosition?.lon?.toFixed(4) ?? '--'}\n                    </span>\n                  </div>\n                  <div className=\"view-item\">\n                    <span className=\"view-label\">Sun Elevation:</span>\n                    <span className=\"view-value\">{currentSunPosition.elevation?.toFixed(1) ?? '--'}°</span>\n                  </div>\n                  <div className=\"view-item\">\n                    <span className=\"view-label\">Sun Azimuth:</span>\n                    <span className=\"view-value\">{currentSunPosition.azimuth?.toFixed(1) ?? '--'}°</span>\n                  </div>\n                  <div className=\"view-item\">\n                    <span className=\"view-label\">Sun Visibility:</span>\n                    <span className=\"view-value\">\n                      {currentSunPosition ? (\n                        <>\n                          <span className=\"sun-tooltip-container\">\n                            {currentSunPosition.condition ? getSunConditionMarker(currentSunPosition.condition) : '☀️'}\n                            <div className={`sun-tooltip ${currentSunPosition.condition ? currentSunPosition.condition.toLowerCase() : 'daylight'}`}>\n                              {currentSunPosition.condition ? getSunTooltipContent(currentSunPosition) : `Sun • ${currentSunPosition.elevation?.toFixed(1) || '--'}° above horizon`}\n                            </div>\n                          </span>\n                          {' '}\n                          {currentSunPosition.condition === 'NIGHT' ? 'Below Horizon' : 'Visible'}\n                        </>\n                      ) : (\n                        'Not Available'\n                      )}\n                    </span>\n                  </div>\n                </div>\n                </div>\n              )}\n            </div>\n\n            {/* Flight Timeline */}\n            <div className=\"content-section\">\n              <div className=\"flight-progress-container slide-up\">\n              <h4>\n                <span className=\"section-icon\">🕐</span>\n                Flight Timeline\n              </h4>\n              \n              <p className=\"progress-instructions\">\n                Drag the slider to explore different moments of your flight\n              </p>\n\n              <div className=\"progress-slider-container\">\n                <div className=\"progress-labels\">\n                  <div className=\"progress-label\">\n                    <span className=\"progress-icon\">🛫</span>\n                    Departure\n                  </div>\n                  <div className=\"progress-label\">\n                    <span className=\"progress-icon\">🛬</span>\n                    Arrival\n                  </div>\n                </div>\n\n                <div \n                  className=\"horizontal-slider-container\"\n                  onMouseDown={handleMouseDown}\n                  onClick={handleClick}\n                >\n                  <div className=\"horizontal-slider-track\">\n                    <div \n                      className=\"horizontal-progress-bar\"\n                      style={{\n                        width: `${flightProgress}%`\n                      }}\n                    />\n                    \n                    {/* Sunrise/Sunset markers on timeline */}\n                    {(() => {\n                      const periods = getOptimalPeriodsInFlight(departureTime, flightDuration, flightData);\n                      return (\n                        <>\n                          {periods.sunriseProgress !== undefined && (\n                            <div \n                              className=\"timeline-event-marker sunrise-marker\"\n                              style={{ left: `${periods.sunriseProgress}%` }}\n                              title={`Sunrise at ${periods.sunriseTime?.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`}\n                            >\n                              🌅\n                            </div>\n                          )}\n                          {periods.sunsetProgress !== undefined && (\n                            <div \n                              className=\"timeline-event-marker sunset-marker\"\n                              style={{ left: `${periods.sunsetProgress}%` }}\n                              title={`Sunset at ${periods.sunsetTime?.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}`}\n                            >\n                              🌇\n                            </div>\n                          )}\n                        </>\n                      );\n                    })()}\n                    \n                    <div \n                      className=\"horizontal-slider-handle\"\n                      style={{\n                        left: `${flightProgress}%`\n                      }}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"progress-display\">\n                  Flight Progress: {Math.round(flightProgress)}%\n                </div>\n                \n                {/* Sunrise/Sunset Information */}\n                {(() => {\n                  const periods = getOptimalPeriodsInFlight(departureTime, flightDuration, flightData);\n                  if (periods.sunrise || periods.sunset) {\n                    return (\n                      <div className=\"sun-events-info\">\n                        <h5 style={{ margin: '10px 0 5px 0', fontSize: '14px', color: '#ffd700' }}>\n                          ☀️ Sun Events During Flight\n                        </h5>\n                        {periods.details.map((detail, index) => (\n                          <div key={index} style={{ fontSize: '12px', margin: '3px 0', color: '#e2e8f0' }}>\n                            {detail}\n                          </div>\n                        ))}\n                        {(periods.sunrise && periods.sunset) && (\n                          <div style={{ fontSize: '11px', margin: '5px 0', color: '#10b981', fontWeight: 'bold' }}>\n                            🌟 Perfect flight for both sunrise and sunset viewing!\n                          </div>\n                        )}\n                      </div>\n                    );\n                  }\n                  return null;\n                })()}\n              </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nfunction App() {\n  // Page navigation state\n  const [currentPage, setCurrentPage] = useState<AppPage>(AppPage.SEARCH);\n\n  // Form data state - All fields start empty\n  const [fromAirport, setFromAirport] = useState('');\n  const [toAirport, setToAirport] = useState('');\n  const [departureTime, setDepartureTime] = useState('');\n  const [flightDuration, setFlightDuration] = useState<number | ''>(''); // Start empty\n  const [flightData, setFlightData] = useState<FlightData | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [flightProgress, setFlightProgress] = useState<number>(0);\n  const [currentPosition, setCurrentPosition] = useState<{ lat: number; lon: number } | null>(null);\n  const [currentSunPosition, setCurrentSunPosition] = useState<SunPosition | null>(null);\n\n  // View Preferences State - removed (no longer needed)\n\n  const [isDragging, setIsDragging] = useState(false);\n\n  // Helper functions for flight duration calculations\n  const getFlightEndTime = (): Date => {\n    if (!departureTime || !flightDuration) {\n      return new Date(); // Return current time if invalid\n    }\n    const startTime = new Date(departureTime);\n    const endTime = new Date(startTime.getTime() + Number(flightDuration) * 60 * 1000); // Convert minutes to milliseconds\n    return endTime;\n  };\n\n  const formatTimeDisplay = (date: Date): string => {\n    return date.toLocaleTimeString('en-US', { \n      hour: '2-digit', \n      minute: '2-digit', \n      hour12: true \n    });\n  };\n\n\n\n\n\n\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    // Comprehensive form validation\n    if (!fromAirport || !toAirport || !departureTime || !flightDuration) {\n      setError('Please fill all the details including departure airport, arrival airport, departure time, and flight duration.');\n      setLoading(false);\n      return;\n    }\n\n\n\n    // Check if source and destination are the same\n    if (fromAirport === toAirport) {\n      setError('No flights available for the same source and destination airports. Please select different departure and arrival airports.');\n      setLoading(false);\n      return;\n    }\n\n    // Validate flight duration\n    if (typeof flightDuration === 'string' || flightDuration < 30 || flightDuration > 1440) {\n      setError('Flight duration must be a number between 30 and 1440 minutes (24 hours).');\n      setLoading(false);\n      return;\n    }\n\n    // SIMPLIFIED APPROACH: Generate flight analysis directly in frontend\n    try {\n      console.log('Generating simplified flight analysis...');\n      \n      const mockFlightData = generateSimplifiedFlightAnalysis(\n        fromAirport,\n        toAirport,\n        departureTime,\n        flightDuration\n      );\n\n      setFlightData(mockFlightData);\n      \n      // Set initial flight progress to 0% (departure)\n      setFlightProgress(0);\n      \n      console.log('Simplified flight analysis completed:', mockFlightData);\n      \n      // Navigate to results page\n      setCurrentPage(AppPage.RESULTS);\n      \n    } catch (err) {\n      setError('Unable to generate flight analysis. Please check your input and try again.');\n      console.error('Error generating flight analysis:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleProgressChange = useCallback((newProgress: number) => {\n    setFlightProgress(newProgress);\n  }, []);\n\n  // Throttled version for smooth dragging with optimized frequency\n  const throttledProgressChange = useCallback(\n    throttle((newProgress: number) => {\n      setFlightProgress(newProgress);\n    }, 8), // ~120 FPS for ultra-smooth airplane movement\n    []\n  );\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    \n    // Immediately update position on click for instant feedback\n    if (flightData) {\n      const sliderElement = e.currentTarget.closest('.horizontal-slider-container') as HTMLElement;\n      if (sliderElement) {\n        const rect = sliderElement.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        let percentage = (x / rect.width) * 100;\n        \n        // Make it easier to reach 100% - if within 5% of the end, snap to 100%\n        if (percentage > 95) percentage = 100;\n        if (percentage < 5) percentage = 0;\n        \n        percentage = Math.max(0, Math.min(100, percentage));\n        \n        // Immediately update the visual elements without waiting for React state\n        const handle = document.querySelector('.horizontal-slider-handle') as HTMLElement;\n        const progressBar = document.querySelector('.horizontal-progress-bar') as HTMLElement;\n        const progressText = document.querySelector('.progress-display') as HTMLElement;\n        \n        if (handle) handle.style.left = `${percentage}%`;\n        if (progressBar) progressBar.style.width = `${percentage}%`;\n        if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\n        \n        handleProgressChange(percentage);\n      }\n    }\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n    \n    const sliderElement = e.currentTarget as HTMLElement;\n    let isDraggingLocal = true;\n    \n    // Function to update slider position\n    const updateSliderPosition = (clientX: number) => {\n      if (!flightData || !sliderElement) return;\n      \n      const rect = sliderElement.getBoundingClientRect();\n      const x = clientX - rect.left;\n      let percentage = (x / rect.width) * 100;\n      \n      // Make it easier to reach 100% - if within 5% of the end, snap to 100%\n      if (percentage > 95) percentage = 100;\n      if (percentage < 5) percentage = 0;\n      \n      percentage = Math.max(0, Math.min(100, percentage));\n      \n      // INSTANT updates - both visual and airplane position\n      const handle = document.querySelector('.horizontal-slider-handle') as HTMLElement;\n      const progressBar = document.querySelector('.horizontal-progress-bar') as HTMLElement;\n      const progressText = document.querySelector('.progress-display') as HTMLElement;\n      \n      if (handle) handle.style.left = `${percentage}%`;\n      if (progressBar) progressBar.style.width = `${percentage}%`;\n      if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\n      \n      // IMMEDIATE React state update\n      setFlightProgress(percentage);\n    };\n    \n    // Initial update on mouse down\n    updateSliderPosition(e.clientX);\n    \n    // Mouse move handler\n    const mouseMoveHandler = (e: MouseEvent) => {\n      e.preventDefault();\n      if (!isDraggingLocal) return;\n      updateSliderPosition(e.clientX);\n    };\n    \n    // Mouse up handler\n    const mouseUpHandler = () => {\n      isDraggingLocal = false;\n      setIsDragging(false);\n      document.removeEventListener('mousemove', mouseMoveHandler);\n      document.removeEventListener('mouseup', mouseUpHandler);\n    };\n    \n    document.addEventListener('mousemove', mouseMoveHandler, { passive: false });\n    document.addEventListener('mouseup', mouseUpHandler, { passive: false });\n  };\n\n\n\n  const handlePositionChange = (position: { lat: number; lon: number; sunPosition: SunPosition | null }) => {\n    setCurrentPosition({ lat: position.lat, lon: position.lon });\n    setCurrentSunPosition(position.sunPosition);\n  };\n\n  // Navigation function to go back to search\n  const goBackToSearch = () => {\n    setCurrentPage(AppPage.SEARCH);\n    setError(null); // Clear any errors when going back\n  };\n\n  // Navigation function to change pages\n  const handlePageChange = (page: AppPage) => {\n    setCurrentPage(page);\n    setError(null); // Clear any errors when changing pages\n  };\n\n  const renderCurrentPage = () => {\n    switch (currentPage) {\n      case AppPage.SEARCH:\n        return (\n          <SearchPage \n            fromAirport={fromAirport}\n            setFromAirport={setFromAirport}\n            toAirport={toAirport}\n            setToAirport={setToAirport}\n            departureTime={departureTime}\n            setDepartureTime={setDepartureTime}\n            flightDuration={flightDuration}\n            setFlightDuration={setFlightDuration}\n            loading={loading}\n            error={error}\n            onSubmit={handleSubmit}\n            formatTimeDisplay={formatTimeDisplay}\n            getFlightEndTime={getFlightEndTime}\n          />\n        );\n      case AppPage.RESULTS:\n        return (\n          <ResultsPage \n            flightData={flightData}\n            fromAirport={fromAirport}\n            toAirport={toAirport}\n            currentPosition={currentPosition}\n            currentSunPosition={currentSunPosition}\n            flightProgress={flightProgress}\n            handleProgressChange={handleProgressChange}\n            handlePositionChange={handlePositionChange}\n            isDragging={isDragging}\n            handleMouseDown={handleMouseDown}\n            handleClick={handleClick}\n            onBack={goBackToSearch}\n            departureTime={departureTime}\n            flightDuration={flightDuration}\n          />\n        );\n      case AppPage.EXPERIENCE:\n        return (\n          <ExperiencePage \n            onBack={goBackToSearch}\n          />\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {/* Only show navigation on Search page */}\n      {currentPage === AppPage.SEARCH && (\n        <Navigation \n          currentPage={currentPage}\n          onPageChange={handlePageChange}\n        />\n      )}\n      {renderCurrentPage()}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}