{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\prakh\\\\Desktop\\\\Flight\\\\frontend\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport './index.css';\nimport 'leaflet/dist/leaflet.css';\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\nimport L from 'leaflet';\nimport axios from 'axios';\n\n// Fix for default markers\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\n\n// Types\n\n// Function to calculate bearing between two points\nconst calculateBearing = (lat1, lon1, lat2, lon2) => {\n  const dLon = (lon2 - lon1) * Math.PI / 180;\n  const lat1Rad = lat1 * Math.PI / 180;\n  const lat2Rad = lat2 * Math.PI / 180;\n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\n  let bearing = Math.atan2(y, x) * 180 / Math.PI;\n  bearing = (bearing + 360) % 360; // Normalize to 0-360\n\n  // Adjust for airplane emoji orientation (airplane emoji points northeast by default)\n  // Subtract 45 degrees to align with the route properly\n  bearing = bearing - 45;\n  return bearing;\n};\n\n// Function to create rotated airplane icon\nconst createAirplaneIcon = rotation => {\n  return L.divIcon({\n    className: 'airplane-icon',\n    html: `<div style=\"\n      transform: rotate(${rotation}deg); \n      font-size: 24px; \n      display: flex; \n      align-items: center; \n      justify-content: center; \n      width: 100%; \n      height: 100%;\n      transform-origin: center center;\n    \">✈️</div>`,\n    iconSize: [30, 30],\n    iconAnchor: [15, 15]\n  });\n};\n\n// InteractiveAirplane component\n\nconst InteractiveAirplane = ({\n  flightData,\n  flightProgress,\n  onPositionChange\n}) => {\n  _s();\n  const airplaneRef = useRef(null);\n  const getCurrentAirplaneData = () => {\n    if (!flightData || flightData.path.length === 0) return {\n      position: null,\n      rotation: 0\n    };\n    const waypointIndex = flightProgress >= 100 ? flightData.path.length - 1 : Math.floor(flightProgress / 100 * (flightData.path.length - 1));\n    const currentWaypoint = flightData.path[waypointIndex];\n    let rotation = 0;\n    if (flightData.path.length > 1) {\n      // Always use the overall flight direction from start to end for consistency\n      const startPoint = flightData.path[0];\n      const endPoint = flightData.path[flightData.path.length - 1];\n      rotation = calculateBearing(startPoint.lat, startPoint.lon, endPoint.lat, endPoint.lon);\n    }\n    return {\n      position: [currentWaypoint.lat, currentWaypoint.lon],\n      rotation: rotation\n    };\n  };\n  const {\n    position: currentPosition,\n    rotation: airplaneRotation\n  } = getCurrentAirplaneData();\n  useEffect(() => {\n    if (!flightData || flightData.path.length === 0) return;\n    const waypointIndex = flightProgress >= 100 ? flightData.path.length - 1 : Math.floor(flightProgress / 100 * (flightData.path.length - 1));\n    const currentWaypoint = flightData.path[waypointIndex];\n    const currentSunPosition = flightData.sunPositions[waypointIndex] || null;\n\n    // Update position callback\n    onPositionChange({\n      lat: currentWaypoint.lat,\n      lon: currentWaypoint.lon,\n      sunPosition: currentSunPosition\n    });\n\n    // Update map view to follow airplane with smooth animation\n    if (airplaneRef.current) {\n      const map = airplaneRef.current._map;\n      if (map) {\n        map.setView([currentWaypoint.lat, currentWaypoint.lon], map.getZoom(), {\n          animate: true,\n          duration: 0.1 // Very short animation for smooth following\n        });\n      }\n    }\n  }, [flightData, flightProgress]); // Removed onPositionChange from dependencies\n\n  if (!currentPosition) return null;\n  return /*#__PURE__*/_jsxDEV(Marker, {\n    ref: airplaneRef,\n    position: currentPosition,\n    icon: createAirplaneIcon(airplaneRotation),\n    draggable: false,\n    interactive: false,\n    bubblingMouseEvents: false,\n    eventHandlers: {\n      dragstart: e => {\n        e.preventDefault();\n        return false;\n      },\n      drag: e => {\n        e.preventDefault();\n        return false;\n      },\n      dragend: e => {\n        e.preventDefault();\n        return false;\n      },\n      mousedown: e => {\n        var _e$originalEvent;\n        (_e$originalEvent = e.originalEvent) === null || _e$originalEvent === void 0 ? void 0 : _e$originalEvent.preventDefault();\n        return false;\n      },\n      mouseup: e => {\n        var _e$originalEvent2;\n        (_e$originalEvent2 = e.originalEvent) === null || _e$originalEvent2 === void 0 ? void 0 : _e$originalEvent2.preventDefault();\n        return false;\n      },\n      mousemove: e => {\n        var _e$originalEvent3;\n        (_e$originalEvent3 = e.originalEvent) === null || _e$originalEvent3 === void 0 ? void 0 : _e$originalEvent3.preventDefault();\n        return false;\n      },\n      add: () => {\n        if (airplaneRef.current) {\n          const element = airplaneRef.current.getElement();\n          if (element) {\n            element.style.pointerEvents = 'none';\n            element.style.userSelect = 'none';\n            element.style.touchAction = 'none';\n            element.draggable = false;\n          }\n        }\n      }\n    },\n    children: /*#__PURE__*/_jsxDEV(Popup, {\n      children: [\"Airplane Position\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 26\n      }, this), \"Use the timeline slider to move me!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n\n// Page enum for navigation\n_s(InteractiveAirplane, \"LaphLYFi47ILfzxhs8OKPLsIyA0=\");\n_c = InteractiveAirplane;\nvar AppPage = /*#__PURE__*/function (AppPage) {\n  AppPage[\"SEARCH\"] = \"search\";\n  AppPage[\"RESULTS\"] = \"results\";\n  return AppPage;\n}(AppPage || {}); // SearchPage Component\nconst SearchPage = ({\n  fromAirport,\n  setFromAirport,\n  toAirport,\n  setToAirport,\n  departureTime,\n  setDepartureTime,\n  flightDuration,\n  setFlightDuration,\n  wantSunrise,\n  setWantSunrise,\n  wantSunset,\n  setWantSunset,\n  sunrisePreference,\n  setSunrisePreference,\n  loading,\n  error,\n  onSubmit,\n  formatTimeDisplay,\n  getFlightEndTime,\n  getOptimalPeriodsInFlight\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDEEB SunSide - Perfect Window Seat Finder\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Find the best window seat for sunrise and sunset views during your flight\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"search-main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: onSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"fromAirport\",\n                children: \"From:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"fromAirport\",\n                value: fromAirport,\n                onChange: e => setFromAirport(e.target.value),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select departure city\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"DEL\",\n                  children: \"Delhi (DEL)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"JAI\",\n                  children: \"Jaipur (JAI)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"BLR\",\n                  children: \"Bangalore (BLR)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"BOM\",\n                  children: \"Mumbai (BOM)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"BHO\",\n                  children: \"Bhopal (BHO)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"LKO\",\n                  children: \"Lucknow (LKO)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"toAirport\",\n                children: \"To:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"toAirport\",\n                value: toAirport,\n                onChange: e => setToAirport(e.target.value),\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select arrival city\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 252,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"DEL\",\n                  children: \"Delhi (DEL)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"JAI\",\n                  children: \"Jaipur (JAI)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"BLR\",\n                  children: \"Bangalore (BLR)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"BOM\",\n                  children: \"Mumbai (BOM)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"BHO\",\n                  children: \"Bhopal (BHO)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"LKO\",\n                  children: \"Lucknow (LKO)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"departureTime\",\n                children: \"Departure Time:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"datetime-local\",\n                id: \"departureTime\",\n                value: departureTime,\n                onChange: e => setDepartureTime(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"flightDuration\",\n                children: \"Flight Duration (minutes):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                id: \"flightDuration\",\n                min: \"30\",\n                max: \"1440\",\n                step: \"1\",\n                value: flightDuration,\n                onChange: e => {\n                  const value = e.target.value;\n                  if (value === '') {\n                    setFlightDuration('');\n                  } else {\n                    const intValue = parseInt(value);\n                    if (!isNaN(intValue)) {\n                      setFlightDuration(intValue);\n                    }\n                  }\n                },\n                placeholder: \"Enter flight duration (30-1440 minutes)\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), departureTime && flightDuration && /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"duration-help\",\n                children: [\"Flight time: \", formatTimeDisplay(new Date(departureTime)), \" - \", formatTimeDisplay(getFlightEndTime()), \"(\", Math.floor(Number(flightDuration) / 60), \"h \", Number(flightDuration) % 60, \"m)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sun-preferences\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Sun Preferences\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"preference-note\",\n                children: \"Please select at least one option to get seat recommendations:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"checkbox-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"checkbox-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: wantSunrise,\n                    onChange: e => setWantSunrise(e.target.checked)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"checkbox-text\",\n                    children: \"\\uD83C\\uDF05 I want to see the sunrise\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"checkbox-label\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: wantSunset,\n                    onChange: e => setWantSunset(e.target.checked)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"checkbox-text\",\n                    children: \"\\uD83C\\uDF07 I want to see the sunset\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), wantSunrise && wantSunset && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"priority-selection\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"priority-question\",\n                  children: \"Which do you prefer to see more?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"radio-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"radio-label\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      name: \"sunPreference\",\n                      value: \"sunrise\",\n                      checked: sunrisePreference === 'sunrise',\n                      onChange: e => setSunrisePreference(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 340,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"radio-text\",\n                      children: \"\\uD83C\\uDF05 Prioritize Sunrise\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 347,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"radio-label\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"radio\",\n                      name: \"sunPreference\",\n                      value: \"sunset\",\n                      checked: sunrisePreference === 'sunset',\n                      onChange: e => setSunrisePreference(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 353,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"radio-text\",\n                      children: \"\\uD83C\\uDF07 Prioritize Sunset\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 360,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flight-timing-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Flight Timing Analysis\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"timing-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Departure:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 22\n                  }, this), \" \", formatTimeDisplay(new Date(departureTime))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Arrival:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 22\n                  }, this), \" \", formatTimeDisplay(getFlightEndTime())]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Duration:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 22\n                  }, this), \" \", Math.floor(flightDuration / 60), \"h \", flightDuration % 60, \"m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 19\n                }, this), (() => {\n                  const optimalPeriods = getOptimalPeriodsInFlight();\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"optimal-periods\",\n                    children: optimalPeriods.details.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: \"Available viewing opportunities:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 383,\n                          columnNumber: 32\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 383,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                        children: optimalPeriods.details.map((detail, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                          children: detail\n                        }, index, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 386,\n                          columnNumber: 33\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 384,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"no-optimal\",\n                      children: \"\\u26A0\\uFE0F No optimal sunrise/sunset viewing times during this flight\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, this);\n                })()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn\",\n              disabled: loading,\n              children: loading ? 'Finding Seat...' : 'Find My Seat'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n\n// ResultsPage Component\n_c2 = SearchPage;\nconst ResultsPage = ({\n  flightData,\n  fromAirport,\n  toAirport,\n  currentPosition,\n  currentSunPosition,\n  flightProgress,\n  handleProgressChange,\n  handlePositionChange,\n  isDragging,\n  handleMouseDown,\n  handleClick,\n  onBack\n}) => {\n  var _currentPosition$lat$, _currentPosition$lat, _currentPosition$lon$, _currentPosition$lon, _currentSunPosition$e2, _currentSunPosition$e3, _currentSunPosition$a2, _currentSunPosition$a3;\n  if (!flightData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"results-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: \"No flight data available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"results-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"results-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"back-btn\",\n        children: \"\\u2190 Back to Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83D\\uDEEB Flight Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [fromAirport, \" \\u2192 \", toAirport]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"results-main\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-section\",\n          children: /*#__PURE__*/_jsxDEV(MapContainer, {\n            center: [28.6139, 77.2090],\n            zoom: 6,\n            style: {\n              height: '100vh',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n              attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 15\n            }, this), flightData.path && flightData.path.length > 1 && /*#__PURE__*/_jsxDEV(Polyline, {\n              positions: flightData.path.map(wp => [wp.lat, wp.lon]),\n              color: \"blue\",\n              weight: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 17\n            }, this), flightData.path && flightData.path.length > 0 && /*#__PURE__*/_jsxDEV(Marker, {\n              position: [flightData.path[0].lat, flightData.path[0].lon],\n              icon: L.divIcon({\n                className: 'custom-marker from-marker',\n                html: '<div style=\"background: green; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;\"></div>',\n                iconSize: [20, 20],\n                iconAnchor: [10, 10]\n              }),\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: [\"Departure: \", fromAirport]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this), flightData.path && flightData.path.length > 0 && /*#__PURE__*/_jsxDEV(Marker, {\n              position: [flightData.path[flightData.path.length - 1].lat, flightData.path[flightData.path.length - 1].lon],\n              icon: L.divIcon({\n                className: 'custom-marker to-marker',\n                html: '<div style=\"background: red; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;\"></div>',\n                iconSize: [20, 20],\n                iconAnchor: [10, 10]\n              }),\n              children: /*#__PURE__*/_jsxDEV(Popup, {\n                children: [\"Arrival: \", toAirport]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InteractiveAirplane, {\n              flightData: flightData,\n              flightProgress: flightProgress,\n              onPositionChange: handlePositionChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 15\n            }, this), currentPosition && currentSunPosition && flightData && ((_currentSunPosition$a, _currentSunPosition$e) => {\n              // Calculate airplane bearing (flight direction)\n              const startPoint = flightData.path[0];\n              const endPoint = flightData.path[flightData.path.length - 1];\n              const flightBearing = calculateBearing(startPoint.lat, startPoint.lon, endPoint.lat, endPoint.lon);\n\n              // Position sun based on seat recommendation\n              // If recommendation is \"left\", show sun on left side relative to flight direction\n              // If recommendation is \"right\", show sun on right side relative to flight direction\n              const sideOffset = flightData.recommendation === 'left' ? -90 : +90; // -90 = left, +90 = right\n              const sunBearing = flightBearing + sideOffset;\n              const sunLat = currentPosition.lat + Math.cos((sunBearing - 90) * Math.PI / 180) * 0.5;\n              const sunLon = currentPosition.lon + Math.sin((sunBearing - 90) * Math.PI / 180) * 0.5;\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(Marker, {\n                  position: [sunLat, sunLon],\n                  icon: L.divIcon({\n                    className: 'sun-marker',\n                    html: `\n                          <div style=\"\n                            display: flex;\n                            align-items: center;\n                            justify-content: center;\n                            width: 40px;\n                            height: 40px;\n                            background: radial-gradient(circle, #ffd700 30%, #ffed4e 60%, #ff8c00 100%);\n                            border-radius: 50%;\n                            border: 3px solid #fff;\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 0 40px rgba(255, 215, 0, 0.3);\n                            position: relative;\n                            font-size: 20px;\n                            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);\n                          \">\n                            ☀️\n                            <div style=\"\n                              position: absolute;\n                              width: 60px;\n                              height: 60px;\n                              border: 2px solid #ffd700;\n                              border-radius: 50%;\n                              border-style: dashed;\n                              animation: rotate 8s linear infinite;\n                              opacity: 0.4;\n                            \"></div>\n                          </div>\n                          <style>\n                            @keyframes rotate {\n                              from { transform: rotate(0deg); }\n                              to { transform: rotate(360deg); }\n                            }\n                          </style>\n                        `,\n                    iconSize: [40, 40],\n                    iconAnchor: [20, 20]\n                  }),\n                  children: /*#__PURE__*/_jsxDEV(Popup, {\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"\\u2600\\uFE0F Sun Position\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 575,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 575,\n                        columnNumber: 59\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Seat Side:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 576,\n                        columnNumber: 27\n                      }, this), \" \", flightData.recommendation === 'left' ? 'Left' : 'Right', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 576,\n                        columnNumber: 112\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Azimuth:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 577,\n                        columnNumber: 27\n                      }, this), \" \", (_currentSunPosition$a = currentSunPosition.azimuth) === null || _currentSunPosition$a === void 0 ? void 0 : _currentSunPosition$a.toFixed(1), \"\\xB0\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 577,\n                        columnNumber: 94\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Elevation:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 578,\n                        columnNumber: 27\n                      }, this), \" \", (_currentSunPosition$e = currentSunPosition.elevation) === null || _currentSunPosition$e === void 0 ? void 0 : _currentSunPosition$e.toFixed(1), \"\\xB0\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 578,\n                        columnNumber: 98\n                      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Direction:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 579,\n                        columnNumber: 27\n                      }, this), \" \", currentSunPosition.azimuth < 45 || currentSunPosition.azimuth > 315 ? 'North' : currentSunPosition.azimuth < 135 ? 'East' : currentSunPosition.azimuth < 225 ? 'South' : 'West']\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 574,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 573,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 531,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n                  positions: [[currentPosition.lat, currentPosition.lon], [sunLat, sunLon]],\n                  color: \"#ffd700\",\n                  weight: 3,\n                  opacity: 0.8,\n                  dashArray: \"10, 5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true);\n            })()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flight-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Flight Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"details-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Route:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 17\n              }, this), \" \", fromAirport, \" \\u2192 \", toAirport]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"detail-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Recommendation:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `seat-recommendation ${flightData.recommendation}`,\n                children: flightData.recommendation === 'left' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: \"\\u2600\\uFE0F \\u2190 Left Side\"\n                }, void 0, false) : flightData.recommendation === 'right' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: \"Right Side \\u2192 \\u2600\\uFE0F\"\n                }, void 0, false) : flightData.recommendation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 13\n          }, this), currentSunPosition && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"live-position\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Current View Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"position-grid\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"position-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Aircraft Position:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 635,\n                  columnNumber: 21\n                }, this), (_currentPosition$lat$ = currentPosition === null || currentPosition === void 0 ? void 0 : (_currentPosition$lat = currentPosition.lat) === null || _currentPosition$lat === void 0 ? void 0 : _currentPosition$lat.toFixed(4)) !== null && _currentPosition$lat$ !== void 0 ? _currentPosition$lat$ : '--', \", \", (_currentPosition$lon$ = currentPosition === null || currentPosition === void 0 ? void 0 : (_currentPosition$lon = currentPosition.lon) === null || _currentPosition$lon === void 0 ? void 0 : _currentPosition$lon.toFixed(4)) !== null && _currentPosition$lon$ !== void 0 ? _currentPosition$lon$ : '--']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"position-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Sun Elevation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 21\n                }, this), \" \", (_currentSunPosition$e2 = (_currentSunPosition$e3 = currentSunPosition.elevation) === null || _currentSunPosition$e3 === void 0 ? void 0 : _currentSunPosition$e3.toFixed(1)) !== null && _currentSunPosition$e2 !== void 0 ? _currentSunPosition$e2 : '--', \"\\xB0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"position-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Sun Azimuth:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 21\n                }, this), \" \", (_currentSunPosition$a2 = (_currentSunPosition$a3 = currentSunPosition.azimuth) === null || _currentSunPosition$a3 === void 0 ? void 0 : _currentSunPosition$a3.toFixed(1)) !== null && _currentSunPosition$a2 !== void 0 ? _currentSunPosition$a2 : '--', \"\\xB0\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 641,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"position-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Sun Visibility:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 21\n                }, this), currentSunPosition.elevation > 0 ? '☀️ Visible' : '🌙 Below Horizon']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 644,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flight-progress-container\",\n            style: {\n              margin: '20px 0',\n              padding: '20px',\n              background: '#2c3e50',\n              borderRadius: '8px',\n              color: 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                margin: '0 0 15px 0',\n                color: '#f39c12'\n              },\n              children: \"Flight Timeline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-display\",\n              style: {\n                marginBottom: '15px',\n                textAlign: 'center',\n                fontSize: '1rem',\n                fontWeight: '600',\n                color: '#ecf0f1'\n              },\n              children: [\"Flight Progress: \", Math.round(flightProgress), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"horizontal-slider-container\",\n              onMouseDown: handleMouseDown,\n              onClick: handleClick,\n              style: {\n                position: 'relative',\n                height: '30px',\n                background: '#34495e',\n                borderRadius: '15px',\n                cursor: 'pointer',\n                border: '2px solid #2c3e50',\n                overflow: 'hidden'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"horizontal-progress-bar\",\n                style: {\n                  position: 'absolute',\n                  left: '0',\n                  top: '0',\n                  height: '100%',\n                  width: `${flightProgress}%`,\n                  background: 'linear-gradient(90deg, #f39c12, #e67e22)',\n                  borderRadius: '15px',\n                  willChange: 'width',\n                  transition: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"horizontal-slider-handle\",\n                style: {\n                  position: 'absolute',\n                  top: '50%',\n                  left: `${flightProgress}%`,\n                  transform: 'translate(-50%, -50%)',\n                  width: '26px',\n                  height: '26px',\n                  background: '#fff',\n                  borderRadius: '50%',\n                  border: '3px solid #f39c12',\n                  cursor: 'grab',\n                  boxShadow: '0 2px 6px rgba(0, 0, 0, 0.3)',\n                  willChange: 'left',\n                  transition: 'none'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 701,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 672,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                marginTop: '10px',\n                fontSize: '0.85rem',\n                color: '#bdc3c7'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDEEB Departure\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 728,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\uD83D\\uDEEC Arrival\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 729,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 721,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 446,\n    columnNumber: 5\n  }, this);\n};\n_c3 = ResultsPage;\nfunction App() {\n  _s2();\n  // Page navigation state\n  const [currentPage, setCurrentPage] = useState(AppPage.SEARCH);\n\n  // Form data state - All fields start empty\n  const [fromAirport, setFromAirport] = useState('');\n  const [toAirport, setToAirport] = useState('');\n  const [departureTime, setDepartureTime] = useState('');\n  const [flightDuration, setFlightDuration] = useState(''); // Start empty\n  const [flightData, setFlightData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [flightProgress, setFlightProgress] = useState(0);\n  const [currentPosition, setCurrentPosition] = useState(null);\n  const [currentSunPosition, setCurrentSunPosition] = useState(null);\n\n  // Sun Preferences State\n  const [wantSunrise, setWantSunrise] = useState(false);\n  const [wantSunset, setWantSunset] = useState(false);\n  const [sunrisePreference, setSunrisePreference] = useState('sunrise');\n  const [isDragging, setIsDragging] = useState(false);\n\n  // Helper functions for flight duration calculations\n  const getFlightEndTime = () => {\n    if (!departureTime || !flightDuration) {\n      return new Date(); // Return current time if invalid\n    }\n    const startTime = new Date(departureTime);\n    const endTime = new Date(startTime.getTime() + Number(flightDuration) * 60 * 1000); // Convert minutes to milliseconds\n    return endTime;\n  };\n  const formatTimeDisplay = date => {\n    return date.toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: true\n    });\n  };\n  const getOptimalPeriodsInFlight = () => {\n    if (!departureTime || !flightDuration) {\n      return {\n        sunrise: false,\n        sunset: false,\n        details: []\n      };\n    }\n    const startTime = new Date(departureTime);\n    const endTime = getFlightEndTime();\n    const startHour = startTime.getHours();\n    const endHour = endTime.getHours();\n    let sunriseInFlight = false;\n    let sunsetInFlight = false;\n    const details = [];\n\n    // Check if flight spans across sunrise time (4 AM - 10 AM)\n    if (startHour <= 10 && endHour >= 4 ||\n    // Flight overlaps with sunrise window\n    startHour >= 4 && startHour <= 10 ||\n    // Start is in sunrise window\n    endHour >= 4 && endHour <= 10 ||\n    // End is in sunrise window\n    startHour < 4 && endHour > 10 // Flight spans entire sunrise window\n    ) {\n      sunriseInFlight = true;\n      details.push(`🌅 Sunrise viewing opportunity (4 AM - 10 AM)`);\n    }\n\n    // Check if flight spans across sunset time (5 PM - 7 PM)  \n    if (startHour <= 19 && endHour >= 17 ||\n    // Flight overlaps with sunset window\n    startHour >= 17 && startHour <= 19 ||\n    // Start is in sunset window\n    endHour >= 17 && endHour <= 19 ||\n    // End is in sunset window\n    startHour < 17 && endHour > 19 // Flight spans entire sunset window\n    ) {\n      sunsetInFlight = true;\n      details.push(`🌇 Sunset viewing opportunity (5 PM - 7 PM)`);\n    }\n\n    // Handle cross-midnight flights\n    if (endTime.getDate() !== startTime.getDate()) {\n      const nextDayHour = endHour;\n      // Check if next day portion covers sunrise\n      if (nextDayHour >= 4 && nextDayHour <= 10) {\n        sunriseInFlight = true;\n        if (!details.some(d => d.includes('Sunrise'))) {\n          details.push(`🌅 Sunrise viewing opportunity (next day, 4 AM - 10 AM)`);\n        }\n      }\n    }\n    return {\n      sunrise: sunriseInFlight,\n      sunset: sunsetInFlight,\n      details\n    };\n  };\n\n  // Validate sun preferences based on entire flight duration\n  const validateSunPreferences = () => {\n    if (!wantSunrise && !wantSunset) {\n      return null; // No preferences selected, proceed normally\n    }\n    const optimalPeriods = getOptimalPeriodsInFlight();\n    const startTime = new Date(departureTime);\n    const endTime = getFlightEndTime();\n\n    // If both sunrise and sunset are selected\n    if (wantSunrise && wantSunset) {\n      if (!optimalPeriods.sunrise && !optimalPeriods.sunset) {\n        return `Flight duration (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) doesn't include optimal sunrise (4-10 AM) or sunset (5-7 PM) viewing times. Consider adjusting your flight time or duration.`;\n      }\n      if (sunrisePreference === 'sunrise' && !optimalPeriods.sunrise && optimalPeriods.sunset) {\n        return `Your flight (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) includes sunset viewing but not sunrise. Consider prioritizing sunset instead.`;\n      }\n      if (sunrisePreference === 'sunset' && !optimalPeriods.sunset && optimalPeriods.sunrise) {\n        return `Your flight (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) includes sunrise viewing but not sunset. Consider prioritizing sunrise instead.`;\n      }\n    } else {\n      // Single preference selected\n      if (wantSunrise && !optimalPeriods.sunrise) {\n        return `Your flight (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) doesn't include optimal sunrise viewing time (4-10 AM). Consider adjusting your departure time or flight duration.`;\n      }\n      if (wantSunset && !optimalPeriods.sunset) {\n        return `Your flight (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) doesn't include optimal sunset viewing time (5-7 PM). Consider adjusting your departure time or flight duration.`;\n      }\n    }\n    return null; // All validations passed\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    // Comprehensive form validation\n    if (!fromAirport || !toAirport || !departureTime || !flightDuration) {\n      setError('Please fill all the details including departure airport, arrival airport, departure time, and flight duration.');\n      setLoading(false);\n      return;\n    }\n\n    // Check if at least one sun preference is selected\n    if (!wantSunrise && !wantSunset) {\n      setError('Please select at least one sun preference (sunrise or sunset) to get seat recommendations.');\n      setLoading(false);\n      return;\n    }\n\n    // Check if source and destination are the same\n    if (fromAirport === toAirport) {\n      setError('No flights available for the same source and destination airports. Please select different departure and arrival airports.');\n      setLoading(false);\n      return;\n    }\n\n    // Validate flight duration\n    if (typeof flightDuration === 'string' || flightDuration < 30 || flightDuration > 1440) {\n      setError('Flight duration must be a number between 30 and 1440 minutes (24 hours).');\n      setLoading(false);\n      return;\n    }\n\n    // Validate sun preferences\n    const sunValidationError = validateSunPreferences();\n    if (sunValidationError) {\n      setError(sunValidationError);\n      setLoading(false);\n      return;\n    }\n    try {\n      const response = await axios.get(`http://localhost:3001/api/route`, {\n        params: {\n          from: fromAirport,\n          to: toAirport,\n          depart: departureTime\n        }\n      });\n\n      // Validate the response data\n      if (!response.data || !response.data.path || response.data.path.length === 0) {\n        setError('No flight path data available for this route. Please try a different route or time.');\n        setLoading(false);\n        return;\n      }\n      setFlightData(response.data);\n\n      // Set initial flight progress to 0% (departure)\n      setFlightProgress(0);\n\n      // Navigate to results page after successful API call\n      setCurrentPage(AppPage.RESULTS);\n    } catch (err) {\n      setError('Unable to fetch the data');\n      console.error('Error fetching flight data:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleProgressChange = useCallback(newProgress => {\n    setFlightProgress(newProgress);\n  }, []);\n  const handleClick = e => {\n    e.preventDefault();\n\n    // Immediately update position on click for instant feedback\n    if (flightData) {\n      const sliderElement = e.currentTarget.closest('.horizontal-slider-container');\n      if (sliderElement) {\n        const rect = sliderElement.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        let percentage = x / rect.width * 100;\n\n        // Make it easier to reach 100% - if within 5% of the end, snap to 100%\n        if (percentage > 95) percentage = 100;\n        if (percentage < 5) percentage = 0;\n        percentage = Math.max(0, Math.min(100, percentage));\n\n        // Immediately update the visual elements without waiting for React state\n        const handle = document.querySelector('.horizontal-slider-handle');\n        const progressBar = document.querySelector('.horizontal-progress-bar');\n        const progressText = document.querySelector('.progress-display');\n        if (handle) handle.style.left = `${percentage}%`;\n        if (progressBar) progressBar.style.width = `${percentage}%`;\n        if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\n        handleProgressChange(percentage);\n      }\n    }\n  };\n  const handleMouseDown = e => {\n    e.preventDefault();\n    setIsDragging(true);\n\n    // Immediately update position on mouse down for instant feedback\n    if (flightData) {\n      const sliderElement = e.currentTarget.closest('.horizontal-slider-container');\n      if (sliderElement) {\n        const rect = sliderElement.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n        let percentage = x / rect.width * 100;\n\n        // Make it easier to reach 100% - if within 5% of the end, snap to 100%\n        if (percentage > 95) percentage = 100;\n        if (percentage < 5) percentage = 0;\n        percentage = Math.max(0, Math.min(100, percentage));\n\n        // Immediately update the visual elements without waiting for React state\n        const handle = document.querySelector('.horizontal-slider-handle');\n        const progressBar = document.querySelector('.horizontal-progress-bar');\n        const progressText = document.querySelector('.progress-display');\n        if (handle) handle.style.left = `${percentage}%`;\n        if (progressBar) progressBar.style.width = `${percentage}%`;\n        if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\n        handleProgressChange(percentage);\n      }\n    }\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  };\n  const handleMouseMove = e => {\n    if (!isDragging || !flightData) return;\n    const sliderElement = document.querySelector('.horizontal-slider-container');\n    if (!sliderElement) return;\n    const rect = sliderElement.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    let percentage = x / rect.width * 100;\n\n    // Make it easier to reach 100% - if within 5% of the end, snap to 100%\n    if (percentage > 95) percentage = 100;\n    if (percentage < 5) percentage = 0;\n    percentage = Math.max(0, Math.min(100, percentage));\n\n    // Immediately update the visual elements without waiting for React state\n    const handle = document.querySelector('.horizontal-slider-handle');\n    const progressBar = document.querySelector('.horizontal-progress-bar');\n    const progressText = document.querySelector('.progress-display');\n    if (handle) handle.style.left = `${percentage}%`;\n    if (progressBar) progressBar.style.width = `${percentage}%`;\n    if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\n\n    // Update React state (this will update airplane position)\n    handleProgressChange(percentage);\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n    document.removeEventListener('mousemove', handleMouseMove);\n    document.removeEventListener('mouseup', handleMouseUp);\n  };\n  const handlePositionChange = position => {\n    setCurrentPosition({\n      lat: position.lat,\n      lon: position.lon\n    });\n    setCurrentSunPosition(position.sunPosition);\n  };\n\n  // Navigation function to go back to search\n  const goBackToSearch = () => {\n    setCurrentPage(AppPage.SEARCH);\n    setError(null); // Clear any errors when going back\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: currentPage === AppPage.SEARCH ? /*#__PURE__*/_jsxDEV(SearchPage, {\n      fromAirport: fromAirport,\n      setFromAirport: setFromAirport,\n      toAirport: toAirport,\n      setToAirport: setToAirport,\n      departureTime: departureTime,\n      setDepartureTime: setDepartureTime,\n      flightDuration: flightDuration,\n      setFlightDuration: setFlightDuration,\n      wantSunrise: wantSunrise,\n      setWantSunrise: setWantSunrise,\n      wantSunset: wantSunset,\n      setWantSunset: setWantSunset,\n      sunrisePreference: sunrisePreference,\n      setSunrisePreference: setSunrisePreference,\n      loading: loading,\n      error: error,\n      onSubmit: handleSubmit,\n      formatTimeDisplay: formatTimeDisplay,\n      getFlightEndTime: getFlightEndTime,\n      getOptimalPeriodsInFlight: getOptimalPeriodsInFlight\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1063,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(ResultsPage, {\n      flightData: flightData,\n      fromAirport: fromAirport,\n      toAirport: toAirport,\n      currentPosition: currentPosition,\n      currentSunPosition: currentSunPosition,\n      flightProgress: flightProgress,\n      handleProgressChange: handleProgressChange,\n      handlePositionChange: handlePositionChange,\n      isDragging: isDragging,\n      handleMouseDown: handleMouseDown,\n      handleClick: handleClick,\n      onBack: goBackToSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1086,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1061,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"16gI0ZkEm3+I2iY3ap+QmMKxEog=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"InteractiveAirplane\");\n$RefreshReg$(_c2, \"SearchPage\");\n$RefreshReg$(_c3, \"ResultsPage\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","MapContainer","TileLayer","Marker","Popup","Polyline","L","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Icon","Default","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","calculateBearing","lat1","lon1","lat2","lon2","dLon","Math","PI","lat1Rad","lat2Rad","y","sin","cos","x","bearing","atan2","createAirplaneIcon","rotation","divIcon","className","html","iconSize","iconAnchor","InteractiveAirplane","flightData","flightProgress","onPositionChange","_s","airplaneRef","getCurrentAirplaneData","path","length","position","waypointIndex","floor","currentWaypoint","startPoint","endPoint","lat","lon","currentPosition","airplaneRotation","currentSunPosition","sunPositions","sunPosition","current","map","_map","setView","getZoom","animate","duration","ref","icon","draggable","interactive","bubblingMouseEvents","eventHandlers","dragstart","e","preventDefault","drag","dragend","mousedown","_e$originalEvent","originalEvent","mouseup","_e$originalEvent2","mousemove","_e$originalEvent3","add","element","getElement","style","pointerEvents","userSelect","touchAction","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","AppPage","SearchPage","fromAirport","setFromAirport","toAirport","setToAirport","departureTime","setDepartureTime","flightDuration","setFlightDuration","wantSunrise","setWantSunrise","wantSunset","setWantSunset","sunrisePreference","setSunrisePreference","loading","error","onSubmit","formatTimeDisplay","getFlightEndTime","getOptimalPeriodsInFlight","htmlFor","id","value","onChange","target","required","type","min","max","step","intValue","parseInt","isNaN","placeholder","Date","Number","checked","name","optimalPeriods","details","detail","index","disabled","_c2","ResultsPage","handleProgressChange","handlePositionChange","isDragging","handleMouseDown","handleClick","onBack","_currentPosition$lat$","_currentPosition$lat","_currentPosition$lon$","_currentPosition$lon","_currentSunPosition$e2","_currentSunPosition$e3","_currentSunPosition$a2","_currentSunPosition$a3","onClick","center","zoom","height","width","url","attribution","positions","wp","color","weight","_currentSunPosition$a","_currentSunPosition$e","flightBearing","sideOffset","recommendation","sunBearing","sunLat","sunLon","azimuth","toFixed","elevation","opacity","dashArray","margin","padding","background","borderRadius","marginBottom","textAlign","fontSize","fontWeight","round","onMouseDown","cursor","border","overflow","left","top","willChange","transition","transform","boxShadow","display","justifyContent","marginTop","_c3","App","_s2","currentPage","setCurrentPage","SEARCH","setFlightData","setLoading","setError","setFlightProgress","setCurrentPosition","setCurrentSunPosition","setIsDragging","startTime","endTime","getTime","date","toLocaleTimeString","hour","minute","hour12","sunrise","sunset","startHour","getHours","endHour","sunriseInFlight","sunsetInFlight","push","getDate","nextDayHour","some","d","includes","validateSunPreferences","handleSubmit","sunValidationError","response","get","params","from","to","depart","data","RESULTS","err","console","newProgress","sliderElement","currentTarget","closest","rect","getBoundingClientRect","clientX","percentage","handle","document","querySelector","progressBar","progressText","textContent","addEventListener","handleMouseMove","handleMouseUp","removeEventListener","goBackToSearch","_c4","$RefreshReg$"],"sources":["C:/Users/prakh/Desktop/Flight/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport './index.css';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport axios from 'axios';\r\n\r\n// Fix for default markers\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n});\r\n\r\n// Types\r\ninterface Waypoint {\r\n  lat: number;\r\n  lon: number;\r\n}\r\n\r\ninterface SunPosition {\r\n  azimuth: number;\r\n  elevation: number;\r\n}\r\n\r\ninterface FlightData {\r\n  path: Waypoint[];\r\n  sunPositions: SunPosition[];\r\n  recommendation: string;\r\n  distance?: number;\r\n  flightTime?: number;\r\n}\r\n\r\n// Function to calculate bearing between two points\r\nconst calculateBearing = (lat1: number, lon1: number, lat2: number, lon2: number): number => {\r\n  const dLon = (lon2 - lon1) * Math.PI / 180;\r\n  const lat1Rad = lat1 * Math.PI / 180;\r\n  const lat2Rad = lat2 * Math.PI / 180;\r\n  \r\n  const y = Math.sin(dLon) * Math.cos(lat2Rad);\r\n  const x = Math.cos(lat1Rad) * Math.sin(lat2Rad) - Math.sin(lat1Rad) * Math.cos(lat2Rad) * Math.cos(dLon);\r\n  \r\n  let bearing = Math.atan2(y, x) * 180 / Math.PI;\r\n  bearing = (bearing + 360) % 360; // Normalize to 0-360\r\n  \r\n  // Adjust for airplane emoji orientation (airplane emoji points northeast by default)\r\n  // Subtract 45 degrees to align with the route properly\r\n  bearing = bearing - 45;\r\n  \r\n  return bearing;\r\n};\r\n\r\n// Function to create rotated airplane icon\r\nconst createAirplaneIcon = (rotation: number) => {\r\n  return L.divIcon({\r\n    className: 'airplane-icon',\r\n    html: `<div style=\"\r\n      transform: rotate(${rotation}deg); \r\n      font-size: 24px; \r\n      display: flex; \r\n      align-items: center; \r\n      justify-content: center; \r\n      width: 100%; \r\n      height: 100%;\r\n      transform-origin: center center;\r\n    \">✈️</div>`,\r\n    iconSize: [30, 30],\r\n    iconAnchor: [15, 15],\r\n  });\r\n};\r\n\r\n// InteractiveAirplane component\r\ninterface InteractiveAirplaneProps {\r\n  flightData: FlightData;\r\n  flightProgress: number;\r\n  onPositionChange: (position: { lat: number; lon: number; sunPosition: SunPosition }) => void;\r\n}\r\n\r\nconst InteractiveAirplane: React.FC<InteractiveAirplaneProps> = ({ \r\n  flightData, \r\n  flightProgress, \r\n  onPositionChange \r\n}) => {\r\n  const airplaneRef = useRef<L.Marker>(null);\r\n\r\n  const getCurrentAirplaneData = (): { position: [number, number] | null; rotation: number } => {\r\n    if (!flightData || flightData.path.length === 0) return { position: null, rotation: 0 };\r\n    \r\n    const waypointIndex = flightProgress >= 100 \r\n      ? flightData.path.length - 1 \r\n      : Math.floor((flightProgress / 100) * (flightData.path.length - 1));\r\n    const currentWaypoint = flightData.path[waypointIndex];\r\n    \r\n    let rotation = 0;\r\n    if (flightData.path.length > 1) {\r\n      // Always use the overall flight direction from start to end for consistency\r\n      const startPoint = flightData.path[0];\r\n      const endPoint = flightData.path[flightData.path.length - 1];\r\n      rotation = calculateBearing(\r\n        startPoint.lat, startPoint.lon,\r\n        endPoint.lat, endPoint.lon\r\n      );\r\n    }\r\n    \r\n    return { \r\n      position: [currentWaypoint.lat, currentWaypoint.lon],\r\n      rotation: rotation\r\n    };\r\n  };\r\n\r\n  const { position: currentPosition, rotation: airplaneRotation } = getCurrentAirplaneData();\r\n\r\n  useEffect(() => {\r\n    if (!flightData || flightData.path.length === 0) return;\r\n    \r\n    const waypointIndex = flightProgress >= 100 \r\n      ? flightData.path.length - 1 \r\n      : Math.floor((flightProgress / 100) * (flightData.path.length - 1));\r\n    const currentWaypoint = flightData.path[waypointIndex];\r\n    const currentSunPosition = flightData.sunPositions[waypointIndex] || null;\r\n\r\n    // Update position callback\r\n    onPositionChange({\r\n      lat: currentWaypoint.lat,\r\n      lon: currentWaypoint.lon,\r\n      sunPosition: currentSunPosition\r\n    });\r\n\r\n    // Update map view to follow airplane with smooth animation\r\n    if (airplaneRef.current) {\r\n      const map = airplaneRef.current._map;\r\n      if (map) {\r\n        map.setView([currentWaypoint.lat, currentWaypoint.lon], map.getZoom(), { \r\n          animate: true,\r\n          duration: 0.1 // Very short animation for smooth following\r\n        });\r\n      }\r\n    }\r\n  }, [flightData, flightProgress]); // Removed onPositionChange from dependencies\r\n\r\n  if (!currentPosition) return null;\r\n\r\n  return (\r\n    <Marker\r\n      ref={airplaneRef}\r\n      position={currentPosition}\r\n      icon={createAirplaneIcon(airplaneRotation)}\r\n      draggable={false}\r\n      interactive={false}\r\n      bubblingMouseEvents={false}\r\n      eventHandlers={{\r\n        dragstart: (e) => { e.preventDefault(); return false; },\r\n        drag: (e) => { e.preventDefault(); return false; },\r\n        dragend: (e) => { e.preventDefault(); return false; },\r\n        mousedown: (e) => { e.originalEvent?.preventDefault(); return false; },\r\n        mouseup: (e) => { e.originalEvent?.preventDefault(); return false; },\r\n        mousemove: (e) => { e.originalEvent?.preventDefault(); return false; },\r\n        add: () => {\r\n          if (airplaneRef.current) {\r\n            const element = airplaneRef.current.getElement();\r\n            if (element) {\r\n              element.style.pointerEvents = 'none';\r\n              element.style.userSelect = 'none';\r\n              element.style.touchAction = 'none';\r\n              element.draggable = false;\r\n            }\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      <Popup>\r\n        Airplane Position<br />\r\n        Use the timeline slider to move me!\r\n      </Popup>\r\n    </Marker>\r\n  );\r\n};\r\n\r\n// Page enum for navigation\r\nenum AppPage {\r\n  SEARCH = 'search',\r\n  RESULTS = 'results'\r\n}\r\n\r\n// SearchPage Component\r\ninterface SearchPageProps {\r\n  fromAirport: string;\r\n  setFromAirport: (value: string) => void;\r\n  toAirport: string;\r\n  setToAirport: (value: string) => void;\r\n  departureTime: string;\r\n  setDepartureTime: (value: string) => void;\r\n  flightDuration: number;\r\n  setFlightDuration: (value: number) => void;\r\n  wantSunrise: boolean;\r\n  setWantSunrise: (value: boolean) => void;\r\n  wantSunset: boolean;\r\n  setWantSunset: (value: boolean) => void;\r\n  sunrisePreference: 'sunrise' | 'sunset';\r\n  setSunrisePreference: (value: 'sunrise' | 'sunset') => void;\r\n  loading: boolean;\r\n  error: string | null;\r\n  onSubmit: (e: React.FormEvent) => void;\r\n  formatTimeDisplay: (date: Date) => string;\r\n  getFlightEndTime: () => Date;\r\n  getOptimalPeriodsInFlight: () => { sunrise: boolean; sunset: boolean; details: string[] };\r\n}\r\n\r\nconst SearchPage: React.FC<SearchPageProps> = ({\r\n  fromAirport, setFromAirport, toAirport, setToAirport, departureTime, setDepartureTime,\r\n  flightDuration, setFlightDuration, wantSunrise, setWantSunrise, wantSunset, setWantSunset,\r\n  sunrisePreference, setSunrisePreference, loading, error, onSubmit,\r\n  formatTimeDisplay, getFlightEndTime, getOptimalPeriodsInFlight\r\n}) => {\r\n  return (\r\n    <div className=\"search-page\">\r\n      <header className=\"app-header\">\r\n        <h1>🛫 SunSide - Perfect Window Seat Finder</h1>\r\n        <p>Find the best window seat for sunrise and sunset views during your flight</p>\r\n      </header>\r\n\r\n      <main className=\"search-main\">\r\n        <div className=\"search-container\">\r\n          <div className=\"form-container\">\r\n            <form onSubmit={onSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"fromAirport\">From:</label>\r\n                <select\r\n                  id=\"fromAirport\"\r\n                  value={fromAirport}\r\n                  onChange={(e) => setFromAirport(e.target.value)}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select departure city</option>\r\n                  <option value=\"DEL\">Delhi (DEL)</option>\r\n                  <option value=\"JAI\">Jaipur (JAI)</option>\r\n                  <option value=\"BLR\">Bangalore (BLR)</option>\r\n                  <option value=\"BOM\">Mumbai (BOM)</option>\r\n                  <option value=\"BHO\">Bhopal (BHO)</option>\r\n                  <option value=\"LKO\">Lucknow (LKO)</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"toAirport\">To:</label>\r\n                <select\r\n                  id=\"toAirport\"\r\n                  value={toAirport}\r\n                  onChange={(e) => setToAirport(e.target.value)}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select arrival city</option>\r\n                  <option value=\"DEL\">Delhi (DEL)</option>\r\n                  <option value=\"JAI\">Jaipur (JAI)</option>\r\n                  <option value=\"BLR\">Bangalore (BLR)</option>\r\n                  <option value=\"BOM\">Mumbai (BOM)</option>\r\n                  <option value=\"BHO\">Bhopal (BHO)</option>\r\n                  <option value=\"LKO\">Lucknow (LKO)</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"departureTime\">Departure Time:</label>\r\n                <input\r\n                  type=\"datetime-local\"\r\n                  id=\"departureTime\"\r\n                  value={departureTime}\r\n                  onChange={(e) => setDepartureTime(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"flightDuration\">Flight Duration (minutes):</label>\r\n                <input\r\n                  type=\"number\"\r\n                  id=\"flightDuration\"\r\n                  min=\"30\"\r\n                  max=\"1440\"\r\n                  step=\"1\"\r\n                  value={flightDuration}\r\n                  onChange={(e) => {\r\n                    const value = e.target.value;\r\n                    if (value === '') {\r\n                      setFlightDuration('');\r\n                    } else {\r\n                      const intValue = parseInt(value);\r\n                      if (!isNaN(intValue)) {\r\n                        setFlightDuration(intValue);\r\n                      }\r\n                    }\r\n                  }}\r\n                  placeholder=\"Enter flight duration (30-1440 minutes)\"\r\n                  required\r\n                />\r\n                {departureTime && flightDuration && (\r\n                  <small className=\"duration-help\">\r\n                    Flight time: {formatTimeDisplay(new Date(departureTime))} - {formatTimeDisplay(getFlightEndTime())}\r\n                    ({Math.floor(Number(flightDuration) / 60)}h {Number(flightDuration) % 60}m)\r\n                  </small>\r\n                )}\r\n              </div>\r\n\r\n              {/* Sun Preferences Section */}\r\n              <div className=\"sun-preferences\">\r\n                <h4>Sun Preferences</h4>\r\n                <p className=\"preference-note\">Please select at least one option to get seat recommendations:</p>\r\n                \r\n                <div className=\"checkbox-group\">\r\n                  <label className=\"checkbox-label\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={wantSunrise}\r\n                      onChange={(e) => setWantSunrise(e.target.checked)}\r\n                    />\r\n                    <span className=\"checkbox-text\">\r\n                      🌅 I want to see the sunrise\r\n                    </span>\r\n                  </label>\r\n                  \r\n                  <label className=\"checkbox-label\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={wantSunset}\r\n                      onChange={(e) => setWantSunset(e.target.checked)}\r\n                    />\r\n                    <span className=\"checkbox-text\">\r\n                      🌇 I want to see the sunset\r\n                    </span>\r\n                  </label>\r\n                </div>\r\n\r\n                {/* Priority selection when both are selected */}\r\n                {wantSunrise && wantSunset && (\r\n                  <div className=\"priority-selection\">\r\n                    <p className=\"priority-question\">Which do you prefer to see more?</p>\r\n                    \r\n                    <div className=\"radio-group\">\r\n                      <label className=\"radio-label\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"sunPreference\"\r\n                          value=\"sunrise\"\r\n                          checked={sunrisePreference === 'sunrise'}\r\n                          onChange={(e) => setSunrisePreference(e.target.value as 'sunrise' | 'sunset')}\r\n                        />\r\n                        <span className=\"radio-text\">\r\n                          🌅 Prioritize Sunrise\r\n                        </span>\r\n                      </label>\r\n                      \r\n                      <label className=\"radio-label\">\r\n                        <input\r\n                          type=\"radio\"\r\n                          name=\"sunPreference\"\r\n                          value=\"sunset\"\r\n                          checked={sunrisePreference === 'sunset'}\r\n                          onChange={(e) => setSunrisePreference(e.target.value as 'sunrise' | 'sunset')}\r\n                        />\r\n                        <span className=\"radio-text\">\r\n                          🌇 Prioritize Sunset\r\n                        </span>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Flight Timing Information */}\r\n              <div className=\"flight-timing-info\">\r\n                <h4>Flight Timing Analysis</h4>\r\n                <div className=\"timing-details\">\r\n                  <p><strong>Departure:</strong> {formatTimeDisplay(new Date(departureTime))}</p>\r\n                  <p><strong>Arrival:</strong> {formatTimeDisplay(getFlightEndTime())}</p>\r\n                  <p><strong>Duration:</strong> {Math.floor(flightDuration / 60)}h {flightDuration % 60}m</p>\r\n                  \r\n                  {(() => {\r\n                    const optimalPeriods = getOptimalPeriodsInFlight();\r\n                    return (\r\n                      <div className=\"optimal-periods\">\r\n                        {optimalPeriods.details.length > 0 ? (\r\n                          <>\r\n                            <p><strong>Available viewing opportunities:</strong></p>\r\n                            <ul>\r\n                              {optimalPeriods.details.map((detail, index) => (\r\n                                <li key={index}>{detail}</li>\r\n                              ))}\r\n                            </ul>\r\n                          </>\r\n                        ) : (\r\n                          <p className=\"no-optimal\">⚠️ No optimal sunrise/sunset viewing times during this flight</p>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })()}\r\n                </div>\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"btn\" disabled={loading}>\r\n                {loading ? 'Finding Seat...' : 'Find My Seat'}\r\n              </button>\r\n            </form>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"error\">\r\n              {error}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\n// ResultsPage Component\r\ninterface ResultsPageProps {\r\n  flightData: FlightData | null;\r\n  fromAirport: string;\r\n  toAirport: string;\r\n  currentPosition: { lat: number; lon: number } | null;\r\n  currentSunPosition: SunPosition | null;\r\n  flightProgress: number;\r\n  handleProgressChange: (newProgress: number) => void;\r\n  handlePositionChange: (position: { lat: number; lon: number; sunPosition: SunPosition }) => void;\r\n  isDragging: boolean;\r\n  handleMouseDown: (e: React.MouseEvent) => void;\r\n  handleClick: (e: React.MouseEvent) => void;\r\n  onBack: () => void;\r\n}\r\n\r\nconst ResultsPage: React.FC<ResultsPageProps> = ({\r\n  flightData, fromAirport, toAirport, currentPosition, currentSunPosition,\r\n  flightProgress, handleProgressChange, handlePositionChange, isDragging,\r\n  handleMouseDown, handleClick, onBack\r\n}) => {\r\n  if (!flightData) {\r\n    return (\r\n      <div className=\"results-page\">\r\n        <div className=\"error\">No flight data available</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"results-page\">\r\n      <header className=\"results-header\">\r\n        <button onClick={onBack} className=\"back-btn\">\r\n          ← Back to Search\r\n        </button>\r\n        <h1>🛫 Flight Results</h1>\r\n        <p>{fromAirport} → {toAirport}</p>\r\n      </header>\r\n\r\n      <main className=\"results-main\">\r\n        <div className=\"results-container\">\r\n          <div className=\"map-section\">\r\n            <MapContainer\r\n              center={[28.6139, 77.2090]}\r\n              zoom={6}\r\n              style={{ height: '100vh', width: '100%' }}\r\n            >\r\n              <TileLayer\r\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n              />\r\n\r\n              {flightData.path && flightData.path.length > 1 && (\r\n                <Polyline\r\n                  positions={flightData.path.map(wp => [wp.lat, wp.lon])}\r\n                  color=\"blue\"\r\n                  weight={3}\r\n                />\r\n              )}\r\n\r\n              {flightData.path && flightData.path.length > 0 && (\r\n                <Marker\r\n                  position={[flightData.path[0].lat, flightData.path[0].lon]}\r\n                  icon={L.divIcon({\r\n                    className: 'custom-marker from-marker',\r\n                    html: '<div style=\"background: green; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;\"></div>',\r\n                    iconSize: [20, 20],\r\n                    iconAnchor: [10, 10],\r\n                  })}\r\n                >\r\n                  <Popup>Departure: {fromAirport}</Popup>\r\n                </Marker>\r\n              )}\r\n\r\n              {flightData.path && flightData.path.length > 0 && (\r\n                <Marker\r\n                  position={[flightData.path[flightData.path.length - 1].lat, flightData.path[flightData.path.length - 1].lon]}\r\n                  icon={L.divIcon({\r\n                    className: 'custom-marker to-marker',\r\n                    html: '<div style=\"background: red; width: 20px; height: 20px; border-radius: 50%; border: 2px solid white;\"></div>',\r\n                    iconSize: [20, 20],\r\n                    iconAnchor: [10, 10],\r\n                  })}\r\n                >\r\n                  <Popup>Arrival: {toAirport}</Popup>\r\n                </Marker>\r\n              )}\r\n\r\n              <InteractiveAirplane \r\n                flightData={flightData}\r\n                flightProgress={flightProgress}\r\n                onPositionChange={handlePositionChange}\r\n              />\r\n\r\n              {/* Sun Marker on Map */}\r\n              {currentPosition && currentSunPosition && flightData && (() => {\r\n                // Calculate airplane bearing (flight direction)\r\n                const startPoint = flightData.path[0];\r\n                const endPoint = flightData.path[flightData.path.length - 1];\r\n                const flightBearing = calculateBearing(\r\n                  startPoint.lat, startPoint.lon,\r\n                  endPoint.lat, endPoint.lon\r\n                );\r\n                \r\n                // Position sun based on seat recommendation\r\n                // If recommendation is \"left\", show sun on left side relative to flight direction\r\n                // If recommendation is \"right\", show sun on right side relative to flight direction\r\n                const sideOffset = flightData.recommendation === 'left' ? -90 : +90; // -90 = left, +90 = right\r\n                const sunBearing = flightBearing + sideOffset;\r\n                \r\n                const sunLat = currentPosition.lat + Math.cos((sunBearing - 90) * Math.PI / 180) * 0.5;\r\n                const sunLon = currentPosition.lon + Math.sin((sunBearing - 90) * Math.PI / 180) * 0.5;\r\n                \r\n                return (\r\n                  <>\r\n                    <Marker\r\n                      position={[sunLat, sunLon]}\r\n                      icon={L.divIcon({\r\n                        className: 'sun-marker',\r\n                        html: `\r\n                          <div style=\"\r\n                            display: flex;\r\n                            align-items: center;\r\n                            justify-content: center;\r\n                            width: 40px;\r\n                            height: 40px;\r\n                            background: radial-gradient(circle, #ffd700 30%, #ffed4e 60%, #ff8c00 100%);\r\n                            border-radius: 50%;\r\n                            border: 3px solid #fff;\r\n                            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6), 0 0 40px rgba(255, 215, 0, 0.3);\r\n                            position: relative;\r\n                            font-size: 20px;\r\n                            text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);\r\n                          \">\r\n                            ☀️\r\n                            <div style=\"\r\n                              position: absolute;\r\n                              width: 60px;\r\n                              height: 60px;\r\n                              border: 2px solid #ffd700;\r\n                              border-radius: 50%;\r\n                              border-style: dashed;\r\n                              animation: rotate 8s linear infinite;\r\n                              opacity: 0.4;\r\n                            \"></div>\r\n                          </div>\r\n                          <style>\r\n                            @keyframes rotate {\r\n                              from { transform: rotate(0deg); }\r\n                              to { transform: rotate(360deg); }\r\n                            }\r\n                          </style>\r\n                        `,\r\n                        iconSize: [40, 40],\r\n                        iconAnchor: [20, 20],\r\n                      })}\r\n                    >\r\n                      <Popup>\r\n                        <div>\r\n                          <strong>☀️ Sun Position</strong><br/>\r\n                          <strong>Seat Side:</strong> {flightData.recommendation === 'left' ? 'Left' : 'Right'}<br/>\r\n                          <strong>Azimuth:</strong> {currentSunPosition.azimuth?.toFixed(1)}°<br/>\r\n                          <strong>Elevation:</strong> {currentSunPosition.elevation?.toFixed(1)}°<br/>\r\n                          <strong>Direction:</strong> {\r\n                            currentSunPosition.azimuth < 45 || currentSunPosition.azimuth > 315 ? 'North' :\r\n                            currentSunPosition.azimuth < 135 ? 'East' :\r\n                            currentSunPosition.azimuth < 225 ? 'South' : 'West'\r\n                          }\r\n                        </div>\r\n                      </Popup>\r\n                    </Marker>\r\n\r\n                    {/* Sun Direction Line */}\r\n                    <Polyline\r\n                      positions={[\r\n                        [currentPosition.lat, currentPosition.lon],\r\n                        [sunLat, sunLon]\r\n                      ]}\r\n                      color=\"#ffd700\"\r\n                      weight={3}\r\n                      opacity={0.8}\r\n                      dashArray=\"10, 5\"\r\n                    />\r\n                  </>\r\n                );\r\n              })()}\r\n            </MapContainer>\r\n          </div>\r\n\r\n          <div className=\"flight-details\">\r\n            {/* Flight Details Section */}\r\n            <h3>Flight Details</h3>\r\n            <div className=\"details-grid\">\r\n              <div className=\"detail-item\">\r\n                <strong>Route:</strong> {fromAirport} → {toAirport}\r\n              </div>\r\n              <div className=\"detail-item\">\r\n                <strong>Recommendation:</strong> \r\n                <span className={`seat-recommendation ${flightData.recommendation}`}>\r\n                  {flightData.recommendation === 'left' ? (\r\n                    <>\r\n                      ☀️ ← Left Side\r\n                    </>\r\n                  ) : flightData.recommendation === 'right' ? (\r\n                    <>\r\n                      Right Side → ☀️\r\n                    </>\r\n                  ) : (\r\n                    flightData.recommendation\r\n                  )}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {currentSunPosition && (\r\n              <div className=\"live-position\">\r\n                <h4>Current View Analysis</h4>\r\n                <div className=\"position-grid\">\r\n                  <div className=\"position-item\">\r\n                    <strong>Aircraft Position:</strong> \r\n                    {currentPosition?.lat?.toFixed(4) ?? '--'}, {currentPosition?.lon?.toFixed(4) ?? '--'}\r\n                  </div>\r\n                  <div className=\"position-item\">\r\n                    <strong>Sun Elevation:</strong> {currentSunPosition.elevation?.toFixed(1) ?? '--'}°\r\n                  </div>\r\n                  <div className=\"position-item\">\r\n                    <strong>Sun Azimuth:</strong> {currentSunPosition.azimuth?.toFixed(1) ?? '--'}°\r\n                  </div>\r\n                  <div className=\"position-item\">\r\n                    <strong>Sun Visibility:</strong> \r\n                    {currentSunPosition.elevation > 0 ? '☀️ Visible' : '🌙 Below Horizon'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Flight Timeline */}\r\n            <div className=\"flight-progress-container\" style={{\r\n              margin: '20px 0',\r\n              padding: '20px',\r\n              background: '#2c3e50',\r\n              borderRadius: '8px',\r\n              color: 'white'\r\n            }}>\r\n              <h4 style={{ margin: '0 0 15px 0', color: '#f39c12' }}>Flight Timeline</h4>\r\n              \r\n              <div className=\"progress-display\" style={{\r\n                marginBottom: '15px',\r\n                textAlign: 'center',\r\n                fontSize: '1rem',\r\n                fontWeight: '600',\r\n                color: '#ecf0f1'\r\n              }}>\r\n                Flight Progress: {Math.round(flightProgress)}%\r\n              </div>\r\n\r\n              <div \r\n                className=\"horizontal-slider-container\"\r\n                onMouseDown={handleMouseDown}\r\n                onClick={handleClick}\r\n                style={{\r\n                  position: 'relative',\r\n                  height: '30px',\r\n                  background: '#34495e',\r\n                  borderRadius: '15px',\r\n                  cursor: 'pointer',\r\n                  border: '2px solid #2c3e50',\r\n                  overflow: 'hidden'\r\n                }}\r\n              >\r\n                <div \r\n                  className=\"horizontal-progress-bar\"\r\n                  style={{\r\n                    position: 'absolute',\r\n                    left: '0',\r\n                    top: '0',\r\n                    height: '100%',\r\n                    width: `${flightProgress}%`,\r\n                    background: 'linear-gradient(90deg, #f39c12, #e67e22)',\r\n                    borderRadius: '15px',\r\n                    willChange: 'width',\r\n                    transition: 'none'\r\n                  }}\r\n                />\r\n                \r\n                <div \r\n                  className=\"horizontal-slider-handle\"\r\n                  style={{\r\n                    position: 'absolute',\r\n                    top: '50%',\r\n                    left: `${flightProgress}%`,\r\n                    transform: 'translate(-50%, -50%)',\r\n                    width: '26px',\r\n                    height: '26px',\r\n                    background: '#fff',\r\n                    borderRadius: '50%',\r\n                    border: '3px solid #f39c12',\r\n                    cursor: 'grab',\r\n                    boxShadow: '0 2px 6px rgba(0, 0, 0, 0.3)',\r\n                    willChange: 'left',\r\n                    transition: 'none'\r\n                  }}\r\n                />\r\n              </div>\r\n\r\n              <div style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                marginTop: '10px',\r\n                fontSize: '0.85rem',\r\n                color: '#bdc3c7'\r\n              }}>\r\n                <span>🛫 Departure</span>\r\n                <span>🛬 Arrival</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  // Page navigation state\r\n  const [currentPage, setCurrentPage] = useState<AppPage>(AppPage.SEARCH);\r\n\r\n  // Form data state - All fields start empty\r\n  const [fromAirport, setFromAirport] = useState('');\r\n  const [toAirport, setToAirport] = useState('');\r\n  const [departureTime, setDepartureTime] = useState('');\r\n  const [flightDuration, setFlightDuration] = useState<number | ''>(''); // Start empty\r\n  const [flightData, setFlightData] = useState<FlightData | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [flightProgress, setFlightProgress] = useState<number>(0);\r\n  const [currentPosition, setCurrentPosition] = useState<{ lat: number; lon: number } | null>(null);\r\n  const [currentSunPosition, setCurrentSunPosition] = useState<SunPosition | null>(null);\r\n\r\n  // Sun Preferences State\r\n  const [wantSunrise, setWantSunrise] = useState(false);\r\n  const [wantSunset, setWantSunset] = useState(false);\r\n  const [sunrisePreference, setSunrisePreference] = useState<'sunrise' | 'sunset'>('sunrise');\r\n\r\n  const [isDragging, setIsDragging] = useState(false);\r\n\r\n  // Helper functions for flight duration calculations\r\n  const getFlightEndTime = (): Date => {\r\n    if (!departureTime || !flightDuration) {\r\n      return new Date(); // Return current time if invalid\r\n    }\r\n    const startTime = new Date(departureTime);\r\n    const endTime = new Date(startTime.getTime() + Number(flightDuration) * 60 * 1000); // Convert minutes to milliseconds\r\n    return endTime;\r\n  };\r\n\r\n  const formatTimeDisplay = (date: Date): string => {\r\n    return date.toLocaleTimeString('en-US', { \r\n      hour: '2-digit', \r\n      minute: '2-digit', \r\n      hour12: true \r\n    });\r\n  };\r\n\r\n\r\n\r\n  const getOptimalPeriodsInFlight = (): { sunrise: boolean; sunset: boolean; details: string[] } => {\r\n    if (!departureTime || !flightDuration) {\r\n      return { sunrise: false, sunset: false, details: [] };\r\n    }\r\n    \r\n    const startTime = new Date(departureTime);\r\n    const endTime = getFlightEndTime();\r\n    \r\n    const startHour = startTime.getHours();\r\n    const endHour = endTime.getHours();\r\n    \r\n    let sunriseInFlight = false;\r\n    let sunsetInFlight = false;\r\n    const details: string[] = [];\r\n\r\n    // Check if flight spans across sunrise time (4 AM - 10 AM)\r\n    if (\r\n      (startHour <= 10 && endHour >= 4) || // Flight overlaps with sunrise window\r\n      (startHour >= 4 && startHour <= 10) || // Start is in sunrise window\r\n      (endHour >= 4 && endHour <= 10) || // End is in sunrise window\r\n      (startHour < 4 && endHour > 10) // Flight spans entire sunrise window\r\n    ) {\r\n      sunriseInFlight = true;\r\n      details.push(`🌅 Sunrise viewing opportunity (4 AM - 10 AM)`);\r\n    }\r\n\r\n    // Check if flight spans across sunset time (5 PM - 7 PM)  \r\n    if (\r\n      (startHour <= 19 && endHour >= 17) || // Flight overlaps with sunset window\r\n      (startHour >= 17 && startHour <= 19) || // Start is in sunset window\r\n      (endHour >= 17 && endHour <= 19) || // End is in sunset window\r\n      (startHour < 17 && endHour > 19) // Flight spans entire sunset window\r\n    ) {\r\n      sunsetInFlight = true;\r\n      details.push(`🌇 Sunset viewing opportunity (5 PM - 7 PM)`);\r\n    }\r\n\r\n    // Handle cross-midnight flights\r\n    if (endTime.getDate() !== startTime.getDate()) {\r\n      const nextDayHour = endHour;\r\n      // Check if next day portion covers sunrise\r\n      if (nextDayHour >= 4 && nextDayHour <= 10) {\r\n        sunriseInFlight = true;\r\n        if (!details.some(d => d.includes('Sunrise'))) {\r\n          details.push(`🌅 Sunrise viewing opportunity (next day, 4 AM - 10 AM)`);\r\n        }\r\n      }\r\n    }\r\n\r\n    return { sunrise: sunriseInFlight, sunset: sunsetInFlight, details };\r\n  };\r\n\r\n  // Validate sun preferences based on entire flight duration\r\n  const validateSunPreferences = (): string | null => {\r\n    if (!wantSunrise && !wantSunset) {\r\n      return null; // No preferences selected, proceed normally\r\n    }\r\n\r\n    const optimalPeriods = getOptimalPeriodsInFlight();\r\n    const startTime = new Date(departureTime);\r\n    const endTime = getFlightEndTime();\r\n\r\n    // If both sunrise and sunset are selected\r\n    if (wantSunrise && wantSunset) {\r\n      if (!optimalPeriods.sunrise && !optimalPeriods.sunset) {\r\n        return `Flight duration (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) doesn't include optimal sunrise (4-10 AM) or sunset (5-7 PM) viewing times. Consider adjusting your flight time or duration.`;\r\n      }\r\n      \r\n      if (sunrisePreference === 'sunrise' && !optimalPeriods.sunrise && optimalPeriods.sunset) {\r\n        return `Your flight (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) includes sunset viewing but not sunrise. Consider prioritizing sunset instead.`;\r\n      }\r\n      \r\n      if (sunrisePreference === 'sunset' && !optimalPeriods.sunset && optimalPeriods.sunrise) {\r\n        return `Your flight (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) includes sunrise viewing but not sunset. Consider prioritizing sunrise instead.`;\r\n      }\r\n    } else {\r\n      // Single preference selected\r\n      if (wantSunrise && !optimalPeriods.sunrise) {\r\n        return `Your flight (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) doesn't include optimal sunrise viewing time (4-10 AM). Consider adjusting your departure time or flight duration.`;\r\n      }\r\n      \r\n      if (wantSunset && !optimalPeriods.sunset) {\r\n        return `Your flight (${formatTimeDisplay(startTime)} - ${formatTimeDisplay(endTime)}) doesn't include optimal sunset viewing time (5-7 PM). Consider adjusting your departure time or flight duration.`;\r\n      }\r\n    }\r\n\r\n    return null; // All validations passed\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    // Comprehensive form validation\r\n    if (!fromAirport || !toAirport || !departureTime || !flightDuration) {\r\n      setError('Please fill all the details including departure airport, arrival airport, departure time, and flight duration.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Check if at least one sun preference is selected\r\n    if (!wantSunrise && !wantSunset) {\r\n      setError('Please select at least one sun preference (sunrise or sunset) to get seat recommendations.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Check if source and destination are the same\r\n    if (fromAirport === toAirport) {\r\n      setError('No flights available for the same source and destination airports. Please select different departure and arrival airports.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Validate flight duration\r\n    if (typeof flightDuration === 'string' || flightDuration < 30 || flightDuration > 1440) {\r\n      setError('Flight duration must be a number between 30 and 1440 minutes (24 hours).');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Validate sun preferences\r\n    const sunValidationError = validateSunPreferences();\r\n    if (sunValidationError) {\r\n      setError(sunValidationError);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.get(`http://localhost:3001/api/route`, {\r\n        params: {\r\n          from: fromAirport,\r\n          to: toAirport,\r\n          depart: departureTime\r\n        }\r\n      });\r\n\r\n      // Validate the response data\r\n      if (!response.data || !response.data.path || response.data.path.length === 0) {\r\n        setError('No flight path data available for this route. Please try a different route or time.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setFlightData(response.data);\r\n      \r\n      // Set initial flight progress to 0% (departure)\r\n      setFlightProgress(0);\r\n      \r\n      // Navigate to results page after successful API call\r\n      setCurrentPage(AppPage.RESULTS);\r\n      \r\n    } catch (err) {\r\n      setError('Unable to fetch the data');\r\n      console.error('Error fetching flight data:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleProgressChange = useCallback((newProgress: number) => {\r\n    setFlightProgress(newProgress);\r\n  }, []);\r\n\r\n  const handleClick = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    \r\n    // Immediately update position on click for instant feedback\r\n    if (flightData) {\r\n      const sliderElement = e.currentTarget.closest('.horizontal-slider-container') as HTMLElement;\r\n      if (sliderElement) {\r\n        const rect = sliderElement.getBoundingClientRect();\r\n        const x = e.clientX - rect.left;\r\n        let percentage = (x / rect.width) * 100;\r\n        \r\n        // Make it easier to reach 100% - if within 5% of the end, snap to 100%\r\n        if (percentage > 95) percentage = 100;\r\n        if (percentage < 5) percentage = 0;\r\n        \r\n        percentage = Math.max(0, Math.min(100, percentage));\r\n        \r\n        // Immediately update the visual elements without waiting for React state\r\n        const handle = document.querySelector('.horizontal-slider-handle') as HTMLElement;\r\n        const progressBar = document.querySelector('.horizontal-progress-bar') as HTMLElement;\r\n        const progressText = document.querySelector('.progress-display') as HTMLElement;\r\n        \r\n        if (handle) handle.style.left = `${percentage}%`;\r\n        if (progressBar) progressBar.style.width = `${percentage}%`;\r\n        if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\r\n        \r\n        handleProgressChange(percentage);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleMouseDown = (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    setIsDragging(true);\r\n    \r\n    // Immediately update position on mouse down for instant feedback\r\n    if (flightData) {\r\n      const sliderElement = e.currentTarget.closest('.horizontal-slider-container') as HTMLElement;\r\n      if (sliderElement) {\r\n        const rect = sliderElement.getBoundingClientRect();\r\n        const x = e.clientX - rect.left;\r\n        let percentage = (x / rect.width) * 100;\r\n        \r\n        // Make it easier to reach 100% - if within 5% of the end, snap to 100%\r\n        if (percentage > 95) percentage = 100;\r\n        if (percentage < 5) percentage = 0;\r\n        \r\n        percentage = Math.max(0, Math.min(100, percentage));\r\n        \r\n        // Immediately update the visual elements without waiting for React state\r\n        const handle = document.querySelector('.horizontal-slider-handle') as HTMLElement;\r\n        const progressBar = document.querySelector('.horizontal-progress-bar') as HTMLElement;\r\n        const progressText = document.querySelector('.progress-display') as HTMLElement;\r\n        \r\n        if (handle) handle.style.left = `${percentage}%`;\r\n        if (progressBar) progressBar.style.width = `${percentage}%`;\r\n        if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\r\n        \r\n        handleProgressChange(percentage);\r\n      }\r\n    }\r\n    \r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n  };\r\n\r\n  const handleMouseMove = (e: MouseEvent) => {\r\n    if (!isDragging || !flightData) return;\r\n    \r\n    const sliderElement = document.querySelector('.horizontal-slider-container') as HTMLElement;\r\n    if (!sliderElement) return;\r\n    \r\n    const rect = sliderElement.getBoundingClientRect();\r\n    const x = e.clientX - rect.left;\r\n    let percentage = (x / rect.width) * 100;\r\n    \r\n    // Make it easier to reach 100% - if within 5% of the end, snap to 100%\r\n    if (percentage > 95) percentage = 100;\r\n    if (percentage < 5) percentage = 0;\r\n    \r\n    percentage = Math.max(0, Math.min(100, percentage));\r\n    \r\n    // Immediately update the visual elements without waiting for React state\r\n    const handle = document.querySelector('.horizontal-slider-handle') as HTMLElement;\r\n    const progressBar = document.querySelector('.horizontal-progress-bar') as HTMLElement;\r\n    const progressText = document.querySelector('.progress-display') as HTMLElement;\r\n    \r\n    if (handle) handle.style.left = `${percentage}%`;\r\n    if (progressBar) progressBar.style.width = `${percentage}%`;\r\n    if (progressText) progressText.textContent = `Flight Progress: ${Math.round(percentage)}%`;\r\n    \r\n    // Update React state (this will update airplane position)\r\n    handleProgressChange(percentage);\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    setIsDragging(false);\r\n    document.removeEventListener('mousemove', handleMouseMove);\r\n    document.removeEventListener('mouseup', handleMouseUp);\r\n  };\r\n\r\n  const handlePositionChange = (position: { lat: number; lon: number; sunPosition: SunPosition | null }) => {\r\n    setCurrentPosition({ lat: position.lat, lon: position.lon });\r\n    setCurrentSunPosition(position.sunPosition);\r\n  };\r\n\r\n  // Navigation function to go back to search\r\n  const goBackToSearch = () => {\r\n    setCurrentPage(AppPage.SEARCH);\r\n    setError(null); // Clear any errors when going back\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {currentPage === AppPage.SEARCH ? (\r\n        <SearchPage \r\n          fromAirport={fromAirport}\r\n          setFromAirport={setFromAirport}\r\n          toAirport={toAirport}\r\n          setToAirport={setToAirport}\r\n          departureTime={departureTime}\r\n          setDepartureTime={setDepartureTime}\r\n          flightDuration={flightDuration}\r\n          setFlightDuration={setFlightDuration}\r\n          wantSunrise={wantSunrise}\r\n          setWantSunrise={setWantSunrise}\r\n          wantSunset={wantSunset}\r\n          setWantSunset={setWantSunset}\r\n          sunrisePreference={sunrisePreference}\r\n          setSunrisePreference={setSunrisePreference}\r\n          loading={loading}\r\n          error={error}\r\n          onSubmit={handleSubmit}\r\n          formatTimeDisplay={formatTimeDisplay}\r\n          getFlightEndTime={getFlightEndTime}\r\n          getOptimalPeriodsInFlight={getOptimalPeriodsInFlight}\r\n        />\r\n      ) : (\r\n        <ResultsPage \r\n          flightData={flightData}\r\n          fromAirport={fromAirport}\r\n          toAirport={toAirport}\r\n          currentPosition={currentPosition}\r\n          currentSunPosition={currentSunPosition}\r\n          flightProgress={flightProgress}\r\n          handleProgressChange={handleProgressChange}\r\n          handlePositionChange={handlePositionChange}\r\n          isDragging={isDragging}\r\n          handleMouseDown={handleMouseDown}\r\n          handleClick={handleClick}\r\n          onBack={goBackToSearch}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}